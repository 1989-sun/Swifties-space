try{let Me=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},de=new Me.Error().stack;de&&(Me._sentryDebugIds=Me._sentryDebugIds||{},Me._sentryDebugIds[de]="769201d6-4314-42c6-8dd2-04c09558b823",Me._sentryDebugIdIdentifier="sentry-dbid-769201d6-4314-42c6-8dd2-04c09558b823")}catch(Me){}{let Me=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};Me.SENTRY_RELEASE={id:"20.16.2"}}(self.webpackChunk_mb2024_mb_proto=self.webpackChunk_mb2024_mb_proto||[]).push([[908],{93839:(Me,de,n)=>{"use strict";n.d(de,{A:()=>U});var i=n(74059),h=n(51044),C=n(86634),d=n.n(C),I=n(87822),q=n(57464);class U extends h.PureComponent{constructor(){super(...arguments),(0,i.A)(this,"getClassName",()=>{const{className:A,type:N,size:O,corner:oe,disabled:$}=this.props;return d()(A,"button-root",{["type-"+N]:N,["size-"+O]:O,["corner-"+oe]:oe,"is-disabled":$})}),(0,i.A)(this,"onButtonClick",A=>{if(this.props.disabled){A.preventDefault();return}const{onClick:N}=this.props;N&&N(A)}),(0,i.A)(this,"onButtonMouseDown",A=>{if(this.props.disabled){A.preventDefault();return}const{onMouseDown:N}=this.props;N&&N(A)}),(0,i.A)(this,"getChildrenNode",()=>(0,q.jsx)("span",{className:"btn-text",children:this.props.children}))}render(){const A=this.getClassName(),N=this.getChildrenNode();return(0,q.jsx)(I.O,{className:A,onClick:this.onButtonClick,onMouseDown:this.onButtonMouseDown,children:(0,q.jsx)("div",{className:"btn-icon-text-container",children:N})})}}(0,i.A)(U,"defaultProps",{type:"linear",disabled:!1,size:"common",corner:"smooth"})},15388:(Me,de,n)=>{"use strict";n.d(de,{A:()=>A});var i=n(74059),h=n(51044),C=n(86634),d=n.n(C),I=n(57464);function q(N){let{className:O,renderIconList:oe}=N;return(0,I.jsx)("span",{className:d()("btn-icon",O),children:oe.map(($,X)=>(0,I.jsx)("span",{className:"btn-icon-container",children:(0,I.jsx)(I.Fragment,{children:$})},X))})}const U=q;var k=n(87822);class A extends h.PureComponent{constructor(O){super(O),(0,i.A)(this,"getClassName",()=>{const{className:oe,type:$,size:X,corner:R,disabled:Y,icon:K,children:r}=this.props;return d()(oe,"button-root",{["type-"+$]:$,["size-"+X]:X,["corner-"+R]:R,"is-disabled":Y,"has-icon":K&&r,"only-icon":K&&r===void 0})}),(0,i.A)(this,"onButtonClick",oe=>{if(this.props.disabled){oe.preventDefault();return}const{onClick:$}=this.props;$&&$(oe)}),(0,i.A)(this,"getIconNode",()=>(0,I.jsx)(U,{renderIconList:this.state.iconList,className:this.props.className})),(0,i.A)(this,"getChildrenNode",()=>(0,I.jsx)("span",{className:"btn-text",children:this.props.children})),this.state={iconList:this.props.icon?[this.props.icon]:[]}}componentDidUpdate(O){let{icon:oe}=O;const{icon:$}=this.props;oe!==$&&this.setState({iconList:$?[this.props.icon]:[]})}render(){const O=this.getClassName(),oe=this.getIconNode(),$=this.getChildrenNode();return(0,I.jsx)(k.O,{className:O,onClick:this.onButtonClick,children:(0,I.jsxs)("div",{className:d()("btn-icon-text-container"),children:[oe,$]})})}}(0,i.A)(A,"defaultProps",{type:"linear",disabled:!1,size:"common",corner:"smooth"})},87822:(Me,de,n)=>{"use strict";n.d(de,{O:()=>C});var i=n(21676),h=n(73542);const C=i.Ay.div.withConfig({displayName:"styles__StyledButton",componentId:"sc-166yiuz-0"})(["border-radius:6px;display:inline-block;justify-content:center;align-items:center;font-family:PingFang SC;font-size:14px;font-weight:500;line-height:18px;user-select:none;cursor:pointer;.btn-icon-text-container{display:flex;justify-content:center;align-items:center;}.btn-icon{display:flex;justify-content:center;align-items:center;.btn-icon-container{margin-right:4px;width:16px;height:16px;overflow:hidden;}}&[class*='is-disabled']{cursor:not-allowed;opacity:0.4;}&[class*='type-linear']{color:",";background:",";border:1px solid ",";&:hover:not([class*='is-disabled']){background:",";}&:active:not([class*='is-disabled']){background:",";}}&[class*='type-primary']{color:",";background:",";border:1px solid transparent;&:hover:not([class*='is-disabled']){background:",";}&:active:not([class*='is-disabled']){background:",";}}&[class*='type-secondary']{color:",";background:",";border:1px solid ",";&:hover:not([class*='is-disabled']){background:",";border:1px solid ",";}&:active:not([class*='is-disabled']){background:",";border:1px solid transparent;}}&[class*='type-link']{border:1px solid transparent;padding:0;color:",";&:hover:not([class*='is-disabled']){color:",";}&:active:not([class*='is-disabled']){color:",";}&.link-gray{color:",";&:hover{color:",";}&:active{color:",";}}}&[class*='type-danger']{background:",";color:",";border:1px solid transparent;&:hover:not([class*='is-disabled']){background:",";}&:active:not([class*='is-disabled']){background:",";}}&[class*='size-tiny']{padding:4px 8px;max-height:24px;font-size:12px;line-height:14px;.btn-icon-text-container{min-width:46px;}&[class*='type-link']{padding:0;}}&[class*='size-common']{padding:6px 12px;max-height:32px;.btn-icon-text-container{min-width:54px;}&[class*='type-link']{padding:0;}}&[class*='size-medium']{padding:6px 16px;max-height:32px;.btn-icon-text-container{min-width:60px;}&[class*='type-link']{padding:0;}}&[class*='size-large']{padding:8px 16px;max-height:36px;.btn-icon-text-container{min-width:76px;}&[class*='type-link']{padding:0;}.btn-icon-container{margin-right:6px;}}&[class*='corner-smooth']{border-radius:6px;}&[class*='corner-soft']{border-radius:4px;}&[class*='corner-round']{border-radius:calc(infinity * 1px);}&[class*='only-icon']{padding:0;border:none;background:transparent;.btn-icon-text-container{min-width:0;}.btn-icon-container{margin-right:0;svg > *{fill:",";}}&:hover:not([class*='is-disabled']){background:none;.btn-icon-container{svg > *{fill:",";}}}&:active:not([class*='is-disabled']){background:none;.btn-icon-container{svg > *{fill:",";}}}}"],h.q.color_text_L2,h.q.color_bg_normal,h.q.color_split_line,h.q.color_bg_btn_normal_hover,h.q.color_bg_btn_normal_active,h.q.color_text_white,h.q.color_btn_primary_normal,h.q.color_btn_primary_hover,h.q.color_btn_primary_click,h.q.color_text_L2,h.q.color_bg_secondary_btn,h.q.color_btn_secondary_border_normal,h.q.color_btn_secondary_hover,h.q.color_btn_secondary_border_hover,h.q.color_btn_secondary_click,h.q.color_btn_primary_normal,h.q.color_btn_primary_hover,h.q.color_btn_primary_click,h.q.color_text_L2,h.q.color_text_L3,h.q.color_text_L1,h.q.color_btn_danger_normal,h.q.color_text_white,h.q.color_btn_danger_hover,h.q.color_btn_danger_click,h.q.color_text_L2,h.q.color_text_L3,h.q.color_text_L1)},73542:(Me,de,n)=>{"use strict";n.d(de,{q:()=>h});const i={common_white:"#FFFFFF",common_black:"#000000",primary_blue_01:"#126ACA",primary_blue_02:"#1684FC",primary_blue_03:"#459DFD",primary_blue_04:"#8AC1FD",primary_blue_05:"#B9DAFE",primary_blue_06:"#D0E6FE",primary_blue_07:"#E8F3FF",primary_blue_08:"#F5F8FD",primary_gray_01:"#35445D",primary_gray_02:"#5D6F8F",primary_gray_03:"#7D8CA5",primary_gray_04:"#9EA9BC",primary_gray_05:"#BEC5D2",primary_gray_06:"#D2D9E4",primary_gray_07:"#E1E6EF",primary_gray_08:"#F0F2F7",primary_gray_09:"#F3F5F9",primary_red_01:"#DD4747",primary_red_02:"#F85050",primary_red_03:"#F97373",primary_red_04:"#FDC2C2",primary_red_05:"#FEE5E5"},h={color_btn_primary_normal:i.primary_blue_02,color_btn_primary_hover:i.primary_blue_03,color_btn_primary_click:i.primary_blue_01,color_btn_primary_disable:i.primary_blue_05,color_btn_secondary_click:i.primary_blue_06,color_btn_secondary_normal:i.primary_blue_08,color_btn_secondary_hover:i.primary_blue_07,color_btn_outline_click:i.primary_gray_07,color_btn_outline_normal:i.common_white,color_btn_outline_hover:i.primary_gray_08,color_bg_normal:i.common_white,color_bg_card:i.primary_blue_08,color_bg_menu_click:i.primary_blue_06,color_bg_card_hover:i.primary_gray_07,color_bg_menu_hover:i.primary_blue_07,color_bg_input_hover:i.primary_gray_08,color_bg_input_normal:i.primary_gray_09,color_bg_item_gray:i.primary_gray_08,color_bg_item_hover:i.primary_gray_09,color_bg_fill_common_blue:i.primary_blue_02,color_bg_menu_drag_border:i.primary_blue_06,color_bg_card_hover_fusion_gray:i.primary_gray_06,color_bg_card_hover_fusion_blue:i.primary_blue_05,color_bg_card_hover_fusion:i.primary_gray_06,color_bg_secondary_btn:i.primary_blue_08,color_bg_btn_normal_hover:i.primary_gray_08,color_bg_btn_normal_active:i.primary_gray_07,color_bg_icon_gray:i.primary_gray_04,color_bg_icon_hover:i.primary_gray_03,color_text_L1:i.primary_gray_01,color_text_L2:i.primary_gray_02,color_text_L3:i.primary_gray_03,color_text_L4:i.primary_gray_04,color_text_L5:i.primary_blue_02,color_text_white:i.common_white,color_text_blue:i.primary_blue_02,color_text_blue_hover:i.primary_blue_01,color_text_blue_active:i.primary_blue_03,color_text_disable_01:i.primary_gray_05,color_tab_line:i.primary_gray_06,color_split_line:i.primary_gray_07,color_border_blue_common:i.primary_blue_02,color_btn_border_normal:i.primary_blue_05,color_btn_border_disable:i.primary_blue_07,color_btn_secondary_border_normal:i.primary_blue_06,color_btn_secondary_border_hover:i.primary_blue_07,color_btn_danger_normal:i.primary_red_02,color_btn_danger_hover:i.primary_red_03,color_btn_danger_click:i.primary_red_01,color_btn_danger_disable:i.primary_red_04,color_bg_modal_item_header:i.primary_gray_09,color_bg_light_red:i.primary_red_05,color_alarm_common:i.primary_red_02}},56511:(Me,de,n)=>{"use strict";n.d(de,{N:()=>C,l:()=>d});var i=n(85782),h=n(35236);const C=async(I,q,U)=>{const[k,A]=await(0,i.Vz)(h.r,I),N="/flpak/w-paknewft?"+new URLSearchParams({upperType:"project-basic",type:"proto2",teamCid:q,treLen:String(A.byteLength),treRawLen:String(k)}),O=await fetch(N,{method:"POST",body:A,headers:{"mb-client-opt":encodeURIComponent(JSON.stringify(U))}});if(!O.ok)throw Object.assign(new Error("failed to create new flpak: "+N),{message:await O.text(),status:O.status});return O.json()},d=async(I,q,U)=>{const[k,A]=await(0,i.Vz)(h.r,I),N="/flpak/w-pakfcgmkt?"+new URLSearchParams({upperType:"combo-group",upperAction:"create-reviewable-project",type:"proto2",teamCid:q,treLen:String(A.byteLength),treRawLen:String(k)}),O=await fetch(N,{method:"POST",body:A,headers:{"mb-client-opt":encodeURIComponent(JSON.stringify(U))}});if(!O.ok)throw Object.assign(new Error("failed to create new fcgmkt: "+N),{message:await O.text(),status:O.status});return O.json()}},81811:(Me,de,n)=>{"use strict";n.d(de,{pX:()=>jo,O3:()=>Eo,ur:()=>Hn});var i={};if(n.r(i),n.d(i,{Decoder:()=>qn,Encoder:()=>Qs,PacketType:()=>xt,protocol:()=>$s}),n.j!=15)var h=n(62427);if(n.j!=15)var C=n(99478);const d=Object.create(null);d.open="0",d.close="1",d.ping="2",d.pong="3",d.message="4",d.upgrade="5",d.noop="6";const I=Object.create(null);Object.keys(d).forEach(l=>{I[d[l]]=l});const q={type:"error",data:"parser error"},U=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",k=typeof ArrayBuffer=="function",A=l=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(l):l&&l.buffer instanceof ArrayBuffer,N=(l,t,o)=>{let{type:m,data:F}=l;return U&&F instanceof Blob?t?o(F):O(F,o):k&&(F instanceof ArrayBuffer||A(F))?t?o(F):O(new Blob([F]),o):o(d[m]+(F||""))},O=(l,t)=>{const o=new FileReader;return o.onload=function(){const m=o.result.split(",")[1];t("b"+(m||""))},o.readAsDataURL(l)};function oe(l){return l instanceof Uint8Array?l:l instanceof ArrayBuffer?new Uint8Array(l):new Uint8Array(l.buffer,l.byteOffset,l.byteLength)}let $;function X(l,t){if(U&&l.data instanceof Blob)return l.data.arrayBuffer().then(oe).then(t);if(k&&(l.data instanceof ArrayBuffer||A(l.data)))return t(oe(l.data));N(l,!1,o=>{$||($=new TextEncoder),t($.encode(o))})}const R="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Y=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let l=0;l<R.length;l++)Y[R.charCodeAt(l)]=l;const K=l=>{let t=new Uint8Array(l),o,m=t.length,F="";for(o=0;o<m;o+=3)F+=R[t[o]>>2],F+=R[(t[o]&3)<<4|t[o+1]>>4],F+=R[(t[o+1]&15)<<2|t[o+2]>>6],F+=R[t[o+2]&63];return m%3===2?F=F.substring(0,F.length-1)+"=":m%3===1&&(F=F.substring(0,F.length-2)+"=="),F},r=l=>{let t=l.length*.75,o=l.length,m,F=0,ce,Ae,ke,Be;l[l.length-1]==="="&&(t--,l[l.length-2]==="="&&t--);const Fe=new ArrayBuffer(t),De=new Uint8Array(Fe);for(m=0;m<o;m+=4)ce=Y[l.charCodeAt(m)],Ae=Y[l.charCodeAt(m+1)],ke=Y[l.charCodeAt(m+2)],Be=Y[l.charCodeAt(m+3)],De[F++]=ce<<2|Ae>>4,De[F++]=(Ae&15)<<4|ke>>2,De[F++]=(ke&3)<<6|Be&63;return Fe},v=typeof ArrayBuffer=="function",x=(l,t)=>{if(typeof l!="string")return{type:"message",data:c(l,t)};const o=l.charAt(0);return o==="b"?{type:"message",data:g(l.substring(1),t)}:I[o]?l.length>1?{type:I[o],data:l.substring(1)}:{type:I[o]}:q},g=(l,t)=>{if(v){const o=r(l);return c(o,t)}else return{base64:!0,data:l}},c=(l,t)=>{switch(t){case"blob":return l instanceof Blob?l:new Blob([l]);case"arraybuffer":default:return l instanceof ArrayBuffer?l:l.buffer}},y="",b=(l,t)=>{const o=l.length,m=new Array(o);let F=0;l.forEach((ce,Ae)=>{N(ce,!1,ke=>{m[Ae]=ke,++F===o&&t(m.join(y))})})},M=(l,t)=>{const o=l.split(y),m=[];for(let F=0;F<o.length;F++){const ce=x(o[F],t);if(m.push(ce),ce.type==="error")break}return m};function L(){return new TransformStream({transform(l,t){X(l,o=>{const m=o.length;let F;if(m<126)F=new Uint8Array(1),new DataView(F.buffer).setUint8(0,m);else if(m<65536){F=new Uint8Array(3);const ce=new DataView(F.buffer);ce.setUint8(0,126),ce.setUint16(1,m)}else{F=new Uint8Array(9);const ce=new DataView(F.buffer);ce.setUint8(0,127),ce.setBigUint64(1,BigInt(m))}l.data&&typeof l.data!="string"&&(F[0]|=128),t.enqueue(F),t.enqueue(o)})}})}let S;function D(l){return l.reduce((t,o)=>t+o.length,0)}function H(l,t){if(l[0].length===t)return l.shift();const o=new Uint8Array(t);let m=0;for(let F=0;F<t;F++)o[F]=l[0][m++],m===l[0].length&&(l.shift(),m=0);return l.length&&m<l[0].length&&(l[0]=l[0].slice(m)),o}function re(l,t){S||(S=new TextDecoder);const o=[];let m=0,F=-1,ce=!1;return new TransformStream({transform(Ae,ke){for(o.push(Ae);;){if(m===0){if(D(o)<1)break;const Be=H(o,1);ce=(Be[0]&128)===128,F=Be[0]&127,F<126?m=3:F===126?m=1:m=2}else if(m===1){if(D(o)<2)break;const Be=H(o,2);F=new DataView(Be.buffer,Be.byteOffset,Be.length).getUint16(0),m=3}else if(m===2){if(D(o)<8)break;const Be=H(o,8),Fe=new DataView(Be.buffer,Be.byteOffset,Be.length),De=Fe.getUint32(0);if(De>Math.pow(2,21)-1){ke.enqueue(q);break}F=De*Math.pow(2,32)+Fe.getUint32(4),m=3}else{if(D(o)<F)break;const Be=H(o,F);ke.enqueue(x(ce?Be:S.decode(Be),t)),m=0}if(F===0||F>l){ke.enqueue(q);break}}}})}const P=4;function W(l){if(l)return ee(l)}function ee(l){for(var t in W.prototype)l[t]=W.prototype[t];return l}W.prototype.on=W.prototype.addEventListener=function(l,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+l]=this._callbacks["$"+l]||[]).push(t),this},W.prototype.once=function(l,t){function o(){this.off(l,o),t.apply(this,arguments)}return o.fn=t,this.on(l,o),this},W.prototype.off=W.prototype.removeListener=W.prototype.removeAllListeners=W.prototype.removeEventListener=function(l,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var o=this._callbacks["$"+l];if(!o)return this;if(arguments.length==1)return delete this._callbacks["$"+l],this;for(var m,F=0;F<o.length;F++)if(m=o[F],m===t||m.fn===t){o.splice(F,1);break}return o.length===0&&delete this._callbacks["$"+l],this},W.prototype.emit=function(l){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),o=this._callbacks["$"+l],m=1;m<arguments.length;m++)t[m-1]=arguments[m];if(o){o=o.slice(0);for(var m=0,F=o.length;m<F;++m)o[m].apply(this,t)}return this},W.prototype.emitReserved=W.prototype.emit,W.prototype.listeners=function(l){return this._callbacks=this._callbacks||{},this._callbacks["$"+l]||[]},W.prototype.hasListeners=function(l){return!!this.listeners(l).length};const ae=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function ie(l){for(var t=arguments.length,o=new Array(t>1?t-1:0),m=1;m<t;m++)o[m-1]=arguments[m];return o.reduce((F,ce)=>(l.hasOwnProperty(ce)&&(F[ce]=l[ce]),F),{})}const xe=ae.setTimeout,je=ae.clearTimeout;function Re(l,t){t.useNativeTimers?(l.setTimeoutFn=xe.bind(ae),l.clearTimeoutFn=je.bind(ae)):(l.setTimeoutFn=ae.setTimeout.bind(ae),l.clearTimeoutFn=ae.clearTimeout.bind(ae))}const ze=1.33;function He(l){return typeof l=="string"?Ze(l):Math.ceil((l.byteLength||l.size)*ze)}function Ze(l){let t=0,o=0;for(let m=0,F=l.length;m<F;m++)t=l.charCodeAt(m),t<128?o+=1:t<2048?o+=2:t<55296||t>=57344?o+=3:(m++,o+=4);return o}function qe(l){let t="";for(let o in l)l.hasOwnProperty(o)&&(t.length&&(t+="&"),t+=encodeURIComponent(o)+"="+encodeURIComponent(l[o]));return t}function we(l){let t={},o=l.split("&");for(let m=0,F=o.length;m<F;m++){let ce=o[m].split("=");t[decodeURIComponent(ce[0])]=decodeURIComponent(ce[1])}return t}class Q extends Error{constructor(t,o,m){super(t),this.description=o,this.context=m,this.type="TransportError"}}class Z extends W{constructor(t){super(),this.writable=!1,Re(this,t),this.opts=t,this.query=t.query,this.socket=t.socket}onError(t,o,m){return super.emitReserved("error",new Q(t,o,m)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const o=x(t,this.socket.binaryType);this.onPacket(o)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,o){return o===void 0&&(o={}),t+"://"+this._hostname()+this._port()+this.opts.path+this._query(o)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const o=qe(t);return o.length?"?"+o:""}}const me="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Se=64,Ne={};let Ke=0,s=0,Oe;function Je(l){let t="";do t=me[l%Se]+t,l=Math.floor(l/Se);while(l>0);return t}function st(l){let t=0;for(s=0;s<l.length;s++)t=t*Se+Ne[l.charAt(s)];return t}function ft(){const l=Je(+new Date);return l!==Oe?(Ke=0,Oe=l):l+"."+Je(Ke++)}for(;s<Se;s++)Ne[me[s]]=s;let yt=!1;try{yt=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch(l){}const dt=yt;function _t(l){const t=l.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||dt))return new XMLHttpRequest}catch(o){}if(!t)try{return new ae[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch(o){}}function he(){}function be(){}const Ee=function(){return new _t({xdomain:!1}).responseType!=null}();class Ge extends Z{constructor(t){if(super(t),this.polling=!1,typeof location<"u"){const m=location.protocol==="https:";let F=location.port;F||(F=m?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||F!==t.port}const o=t&&t.forceBase64;this.supportsBinary=Ee&&!o,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const o=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let m=0;this.polling&&(m++,this.once("pollComplete",function(){--m||o()})),this.writable||(m++,this.once("drain",function(){--m||o()}))}else o()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const o=m=>{if(this.readyState==="opening"&&m.type==="open"&&this.onOpen(),m.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(m)};M(t,this.socket.binaryType).forEach(o),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,b(t,o=>{this.doWrite(o,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",o=this.query||{};return this.opts.timestampRequests!==!1&&(o[this.opts.timestampParam]=ft()),!this.supportsBinary&&!o.sid&&(o.b64=1),this.createUri(t,o)}request(t){return t===void 0&&(t={}),Object.assign(t,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new $e(this.uri(),t)}doWrite(t,o){const m=this.request({method:"POST",data:t});m.on("success",o),m.on("error",(F,ce)=>{this.onError("xhr post error",F,ce)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(o,m)=>{this.onError("xhr poll error",o,m)}),this.pollXhr=t}}class $e extends W{constructor(t,o){super(),Re(this,o),this.opts=o,this.method=o.method||"GET",this.uri=t,this.data=o.data!==void 0?o.data:null,this.create()}create(){var t;const o=ie(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");o.xdomain=!!this.opts.xd;const m=this.xhr=new _t(o);try{m.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){m.setDisableHeaderCheck&&m.setDisableHeaderCheck(!0);for(let F in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(F)&&m.setRequestHeader(F,this.opts.extraHeaders[F])}}catch(F){}if(this.method==="POST")try{m.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(F){}try{m.setRequestHeader("Accept","*/*")}catch(F){}(t=this.opts.cookieJar)===null||t===void 0||t.addCookies(m),"withCredentials"in m&&(m.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(m.timeout=this.opts.requestTimeout),m.onreadystatechange=()=>{var F;m.readyState===3&&((F=this.opts.cookieJar)===null||F===void 0||F.parseCookies(m)),m.readyState===4&&(m.status===200||m.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof m.status=="number"?m.status:0)},0))},m.send(this.data)}catch(F){this.setTimeoutFn(()=>{this.onError(F)},0);return}typeof document<"u"&&(this.index=$e.requestsCount++,$e.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=be,t)try{this.xhr.abort()}catch(o){}typeof document<"u"&&delete $e.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}if($e.requestsCount=0,$e.requests={},typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",gt);else if(typeof addEventListener=="function"){const l="onpagehide"in ae?"pagehide":"unload";addEventListener(l,gt,!1)}}function gt(){for(let l in $e.requests)$e.requests.hasOwnProperty(l)&&$e.requests[l].abort()}const Wt=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,o)=>o(t,0),Et=ae.WebSocket||ae.MozWebSocket,Ht=!0,Kt="arraybuffer",Xt=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class On extends Z{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),o=this.opts.protocols,m=Xt?{}:ie(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(m.headers=this.opts.extraHeaders);try{this.ws=Ht&&!Xt?o?new Et(t,o):new Et(t):new Et(t,o,m)}catch(F){return this.emitReserved("error",F)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let o=0;o<t.length;o++){const m=t[o],F=o===t.length-1;N(m,this.supportsBinary,ce=>{const Ae={};Ht||(m.options&&(Ae.compress=m.options.compress),this.opts.perMessageDeflate&&(typeof ce=="string"?Buffer.byteLength(ce):ce.length)<this.opts.perMessageDeflate.threshold&&(Ae.compress=!1));try{Ht?this.ws.send(ce):this.ws.send(ce,Ae)}catch(ke){}F&&Wt(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",o=this.query||{};return this.opts.timestampRequests&&(o[this.opts.timestampParam]=ft()),this.supportsBinary||(o.b64=1),this.createUri(t,o)}check(){return!!Et}}class En extends Z{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(t=>{const o=re(Number.MAX_SAFE_INTEGER,this.socket.binaryType),m=t.readable.pipeThrough(o).getReader(),F=L();F.readable.pipeTo(t.writable),this.writer=F.writable.getWriter();const ce=()=>{m.read().then(ke=>{let{done:Be,value:Fe}=ke;Be||(this.onPacket(Fe),ce())}).catch(ke=>{})};ce();const Ae={type:"open"};this.query.sid&&(Ae.data='{"sid":"'+this.query.sid+'"}'),this.writer.write(Ae).then(()=>this.onOpen())})}))}write(t){this.writable=!1;for(let o=0;o<t.length;o++){const m=t[o],F=o===t.length-1;this.writer.write(m).then(()=>{F&&Wt(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this.transport)===null||t===void 0||t.close()}}const Tt={websocket:On,webtransport:En,polling:Ge},pn=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,on=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Cn(l){if(l.length>2e3)throw"URI too long";const t=l,o=l.indexOf("["),m=l.indexOf("]");o!=-1&&m!=-1&&(l=l.substring(0,o)+l.substring(o,m).replace(/:/g,";")+l.substring(m,l.length));let F=pn.exec(l||""),ce={},Ae=14;for(;Ae--;)ce[on[Ae]]=F[Ae]||"";return o!=-1&&m!=-1&&(ce.source=t,ce.host=ce.host.substring(1,ce.host.length-1).replace(/;/g,":"),ce.authority=ce.authority.replace("[","").replace("]","").replace(/;/g,":"),ce.ipv6uri=!0),ce.pathNames=Pn(ce,ce.path),ce.queryKey=hn(ce,ce.query),ce}function Pn(l,t){const o=/\/{2,9}/g,m=t.replace(o,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&m.splice(0,1),t.slice(-1)=="/"&&m.splice(m.length-1,1),m}function hn(l,t){const o={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(m,F,ce){F&&(o[F]=ce)}),o}class rn extends W{constructor(t,o){o===void 0&&(o={}),super(),this.binaryType=Kt,this.writeBuffer=[],t&&typeof t=="object"&&(o=t,t=null),t?(t=Cn(t),o.hostname=t.host,o.secure=t.protocol==="https"||t.protocol==="wss",o.port=t.port,t.query&&(o.query=t.query)):o.host&&(o.hostname=Cn(o.host).host),Re(this,o),this.secure=o.secure!=null?o.secure:typeof location<"u"&&location.protocol==="https:",o.hostname&&!o.port&&(o.port=this.secure?"443":"80"),this.hostname=o.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=o.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=o.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},o),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=we(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const o=Object.assign({},this.opts.query);o.EIO=P,o.transport=t,this.id&&(o.sid=this.id);const m=Object.assign({},this.opts,{query:o,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new Tt[t](m)}open(){let t;if(this.opts.rememberUpgrade&&rn.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else t=this.transports[0];this.readyState="opening";try{t=this.createTransport(t)}catch(o){this.transports.shift(),this.open();return}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",o=>this.onClose("transport close",o))}probe(t){let o=this.createTransport(t),m=!1;rn.priorWebsocketSuccess=!1;const F=()=>{m||(o.send([{type:"ping",data:"probe"}]),o.once("packet",Xe=>{if(!m)if(Xe.type==="pong"&&Xe.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",o),!o)return;rn.priorWebsocketSuccess=o.name==="websocket",this.transport.pause(()=>{m||this.readyState!=="closed"&&(De(),this.setTransport(o),o.send([{type:"upgrade"}]),this.emitReserved("upgrade",o),o=null,this.upgrading=!1,this.flush())})}else{const _e=new Error("probe error");_e.transport=o.name,this.emitReserved("upgradeError",_e)}}))};function ce(){m||(m=!0,De(),o.close(),o=null)}const Ae=Xe=>{const _e=new Error("probe error: "+Xe);_e.transport=o.name,ce(),this.emitReserved("upgradeError",_e)};function ke(){Ae("transport closed")}function Be(){Ae("socket closed")}function Fe(Xe){o&&Xe.name!==o.name&&ce()}const De=()=>{o.removeListener("open",F),o.removeListener("error",Ae),o.removeListener("close",ke),this.off("close",Be),this.off("upgrading",Fe)};o.once("open",F),o.once("error",Ae),o.once("close",ke),this.once("close",Be),this.once("upgrading",Fe),this.upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{m||o.open()},200):o.open()}onOpen(){if(this.readyState="open",rn.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let t=0;const o=this.upgrades.length;for(;t<o;t++)this.probe(this.upgrades[t])}}onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),this.resetPingTimeout(),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const o=new Error("server error");o.code=t.data,this.onError(o);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let o=1;for(let m=0;m<this.writeBuffer.length;m++){const F=this.writeBuffer[m].data;if(F&&(o+=He(F)),m>0&&o>this.maxPayload)return this.writeBuffer.slice(0,m);o+=2}return this.writeBuffer}write(t,o,m){return this.sendPacket("message",t,o,m),this}send(t,o,m){return this.sendPacket("message",t,o,m),this}sendPacket(t,o,m,F){if(typeof o=="function"&&(F=o,o=void 0),typeof m=="function"&&(F=m,m=null),this.readyState==="closing"||this.readyState==="closed")return;m=m||{},m.compress=m.compress!==!1;const ce={type:t,data:o,options:m};this.emitReserved("packetCreate",ce),this.writeBuffer.push(ce),F&&this.once("flush",F),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},o=()=>{this.off("upgrade",o),this.off("upgradeError",o),t()},m=()=>{this.once("upgrade",o),this.once("upgradeError",o)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?m():t()}):this.upgrading?m():t()),this}onError(t){rn.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,o){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,o),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const o=[];let m=0;const F=t.length;for(;m<F;m++)~this.transports.indexOf(t[m])&&o.push(t[m]);return o}}rn.protocol=P;const Do=rn.protocol;function Yn(l,t,o){t===void 0&&(t="");let m=l;o=o||typeof location<"u"&&location,l==null&&(l=o.protocol+"//"+o.host),typeof l=="string"&&(l.charAt(0)==="/"&&(l.charAt(1)==="/"?l=o.protocol+l:l=o.host+l),/^(https?|wss?):\/\//.test(l)||(typeof o<"u"?l=o.protocol+"//"+l:l="https://"+l),m=Cn(l)),m.port||(/^(http|ws)$/.test(m.protocol)?m.port="80":/^(http|ws)s$/.test(m.protocol)&&(m.port="443")),m.path=m.path||"/";const ce=m.host.indexOf(":")!==-1?"["+m.host+"]":m.host;return m.id=m.protocol+"://"+ce+":"+m.port+t,m.href=m.protocol+"://"+ce+(o&&o.port===m.port?"":":"+m.port),m}const $n=typeof ArrayBuffer=="function",an=l=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(l):l.buffer instanceof ArrayBuffer,Dn=Object.prototype.toString,Gs=typeof Blob=="function"||typeof Blob<"u"&&Dn.call(Blob)==="[object BlobConstructor]",Zs=typeof File=="function"||typeof File<"u"&&Dn.call(File)==="[object FileConstructor]";function mn(l){return $n&&(l instanceof ArrayBuffer||an(l))||Gs&&l instanceof Blob||Zs&&l instanceof File}function xn(l,t){if(!l||typeof l!="object")return!1;if(Array.isArray(l)){for(let o=0,m=l.length;o<m;o++)if(xn(l[o]))return!0;return!1}if(mn(l))return!0;if(l.toJSON&&typeof l.toJSON=="function"&&arguments.length===1)return xn(l.toJSON(),!0);for(const o in l)if(Object.prototype.hasOwnProperty.call(l,o)&&xn(l[o]))return!0;return!1}function Qn(l){const t=[],o=l.data,m=l;return m.data=bn(o,t),m.attachments=t.length,{packet:m,buffers:t}}function bn(l,t){if(!l)return l;if(mn(l)){const o={_placeholder:!0,num:t.length};return t.push(l),o}else if(Array.isArray(l)){const o=new Array(l.length);for(let m=0;m<l.length;m++)o[m]=bn(l[m],t);return o}else if(typeof l=="object"&&!(l instanceof Date)){const o={};for(const m in l)Object.prototype.hasOwnProperty.call(l,m)&&(o[m]=bn(l[m],t));return o}return l}function Jn(l,t){return l.data=Xn(l.data,t),delete l.attachments,l}function Xn(l,t){if(!l)return l;if(l&&l._placeholder===!0){if(typeof l.num=="number"&&l.num>=0&&l.num<t.length)return t[l.num];throw new Error("illegal attachments")}else if(Array.isArray(l))for(let o=0;o<l.length;o++)l[o]=Xn(l[o],t);else if(typeof l=="object")for(const o in l)Object.prototype.hasOwnProperty.call(l,o)&&(l[o]=Xn(l[o],t));return l}const Ys=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],$s=5;var xt;(function(l){l[l.CONNECT=0]="CONNECT",l[l.DISCONNECT=1]="DISCONNECT",l[l.EVENT=2]="EVENT",l[l.ACK=3]="ACK",l[l.CONNECT_ERROR=4]="CONNECT_ERROR",l[l.BINARY_EVENT=5]="BINARY_EVENT",l[l.BINARY_ACK=6]="BINARY_ACK"})(xt||(xt={}));class Qs{constructor(t){this.replacer=t}encode(t){return(t.type===xt.EVENT||t.type===xt.ACK)&&xn(t)?this.encodeAsBinary({type:t.type===xt.EVENT?xt.BINARY_EVENT:xt.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let o=""+t.type;return(t.type===xt.BINARY_EVENT||t.type===xt.BINARY_ACK)&&(o+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(o+=t.nsp+","),t.id!=null&&(o+=t.id),t.data!=null&&(o+=JSON.stringify(t.data,this.replacer)),o}encodeAsBinary(t){const o=Qn(t),m=this.encodeAsString(o.packet),F=o.buffers;return F.unshift(m),F}}function xs(l){return Object.prototype.toString.call(l)==="[object Object]"}class qn extends W{constructor(t){super(),this.reviver=t}add(t){let o;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");o=this.decodeString(t);const m=o.type===xt.BINARY_EVENT;m||o.type===xt.BINARY_ACK?(o.type=m?xt.EVENT:xt.ACK,this.reconstructor=new bs(o),o.attachments===0&&super.emitReserved("decoded",o)):super.emitReserved("decoded",o)}else if(mn(t)||t.base64)if(this.reconstructor)o=this.reconstructor.takeBinaryData(t),o&&(this.reconstructor=null,super.emitReserved("decoded",o));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let o=0;const m={type:Number(t.charAt(0))};if(xt[m.type]===void 0)throw new Error("unknown packet type "+m.type);if(m.type===xt.BINARY_EVENT||m.type===xt.BINARY_ACK){const ce=o+1;for(;t.charAt(++o)!=="-"&&o!=t.length;);const Ae=t.substring(ce,o);if(Ae!=Number(Ae)||t.charAt(o)!=="-")throw new Error("Illegal attachments");m.attachments=Number(Ae)}if(t.charAt(o+1)==="/"){const ce=o+1;for(;++o&&!(t.charAt(o)===","||o===t.length););m.nsp=t.substring(ce,o)}else m.nsp="/";const F=t.charAt(o+1);if(F!==""&&Number(F)==F){const ce=o+1;for(;++o;){const Ae=t.charAt(o);if(Ae==null||Number(Ae)!=Ae){--o;break}if(o===t.length)break}m.id=Number(t.substring(ce,o+1))}if(t.charAt(++o)){const ce=this.tryParse(t.substr(o));if(qn.isPayloadValid(m.type,ce))m.data=ce;else throw new Error("invalid payload")}return m}tryParse(t){try{return JSON.parse(t,this.reviver)}catch(o){return!1}}static isPayloadValid(t,o){switch(t){case xt.CONNECT:return xs(o);case xt.DISCONNECT:return o===void 0;case xt.CONNECT_ERROR:return typeof o=="string"||xs(o);case xt.EVENT:case xt.BINARY_EVENT:return Array.isArray(o)&&(typeof o[0]=="number"||typeof o[0]=="string"&&Ys.indexOf(o[0])===-1);case xt.ACK:case xt.BINARY_ACK:return Array.isArray(o)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class bs{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const o=Jn(this.reconPack,this.buffers);return this.finishedReconstruction(),o}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function kt(l,t,o){return l.on(t,o),function(){l.off(t,o)}}const vs=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class es extends W{constructor(t,o,m){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=o,m&&m.auth&&(this.auth=m.auth),this._opts=Object.assign({},m),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[kt(t,"open",this.onopen.bind(this)),kt(t,"packet",this.onpacket.bind(this)),kt(t,"error",this.onerror.bind(this)),kt(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(){for(var t=arguments.length,o=new Array(t),m=0;m<t;m++)o[m]=arguments[m];return o.unshift("message"),this.emit.apply(this,o),this}emit(t){if(vs.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');for(var o=arguments.length,m=new Array(o>1?o-1:0),F=1;F<o;F++)m[F-1]=arguments[F];if(m.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(m),this;const ce={type:xt.EVENT,data:m};if(ce.options={},ce.options.compress=this.flags.compress!==!1,typeof m[m.length-1]=="function"){const Be=this.ids++,Fe=m.pop();this._registerAckCallback(Be,Fe),ce.id=Be}const Ae=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!Ae||!this.connected)||(this.connected?(this.notifyOutgoingListeners(ce),this.packet(ce)):this.sendBuffer.push(ce)),this.flags={},this}_registerAckCallback(t,o){var m=this,F;const ce=(F=this.flags.timeout)!==null&&F!==void 0?F:this._opts.ackTimeout;if(ce===void 0){this.acks[t]=o;return}const Ae=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let Be=0;Be<this.sendBuffer.length;Be++)this.sendBuffer[Be].id===t&&this.sendBuffer.splice(Be,1);o.call(this,new Error("operation has timed out"))},ce),ke=function(){m.io.clearTimeoutFn(Ae);for(var Be=arguments.length,Fe=new Array(Be),De=0;De<Be;De++)Fe[De]=arguments[De];o.apply(m,Fe)};ke.withError=!0,this.acks[t]=ke}emitWithAck(t){for(var o=arguments.length,m=new Array(o>1?o-1:0),F=1;F<o;F++)m[F-1]=arguments[F];return new Promise((ce,Ae)=>{const ke=(Be,Fe)=>Be?Ae(Be):ce(Fe);ke.withError=!0,m.push(ke),this.emit(t,...m)})}_addToQueue(t){var o=this;let m;typeof t[t.length-1]=="function"&&(m=t.pop());const F={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push(function(ce){if(F!==o._queue[0])return;if(ce!==null)F.tryCount>o._opts.retries&&(o._queue.shift(),m&&m(ce));else if(o._queue.shift(),m){for(var ke=arguments.length,Be=new Array(ke>1?ke-1:0),Fe=1;Fe<ke;Fe++)Be[Fe-1]=arguments[Fe];m(null,...Be)}return F.pending=!1,o._drainQueue()}),this._queue.push(F),this._drainQueue()}_drainQueue(t){if(t===void 0&&(t=!1),!this.connected||this._queue.length===0)return;const o=this._queue[0];o.pending&&!t||(o.pending=!0,o.tryCount++,this.flags=o.flags,this.emit.apply(this,o.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:xt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,o){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,o),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(m=>String(m.id)===t)){const m=this.acks[t];delete this.acks[t],m.withError&&m.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case xt.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case xt.EVENT:case xt.BINARY_EVENT:this.onevent(t);break;case xt.ACK:case xt.BINARY_ACK:this.onack(t);break;case xt.DISCONNECT:this.ondisconnect();break;case xt.CONNECT_ERROR:this.destroy();const m=new Error(t.data.message);m.data=t.data.data,this.emitReserved("connect_error",m);break}}onevent(t){const o=t.data||[];t.id!=null&&o.push(this.ack(t.id)),this.connected?this.emitEvent(o):this.receiveBuffer.push(Object.freeze(o))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const o=this._anyListeners.slice();for(const m of o)m.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const o=this;let m=!1;return function(){if(!m){m=!0;for(var F=arguments.length,ce=new Array(F),Ae=0;Ae<F;Ae++)ce[Ae]=arguments[Ae];o.packet({type:xt.ACK,id:t,data:ce})}}}onack(t){const o=this.acks[t.id];typeof o=="function"&&(delete this.acks[t.id],o.withError&&t.data.unshift(null),o.apply(this,t.data))}onconnect(t,o){this.id=t,this.recovered=o&&this._pid===o,this._pid=o,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:xt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const o=this._anyListeners;for(let m=0;m<o.length;m++)if(t===o[m])return o.splice(m,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const o=this._anyOutgoingListeners;for(let m=0;m<o.length;m++)if(t===o[m])return o.splice(m,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const o=this._anyOutgoingListeners.slice();for(const m of o)m.apply(this,t.data)}}}function Mn(l){l=l||{},this.ms=l.min||100,this.max=l.max||1e4,this.factor=l.factor||2,this.jitter=l.jitter>0&&l.jitter<=1?l.jitter:0,this.attempts=0}Mn.prototype.duration=function(){var l=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),o=Math.floor(t*this.jitter*l);l=Math.floor(t*10)&1?l+o:l-o}return Math.min(l,this.max)|0},Mn.prototype.reset=function(){this.attempts=0},Mn.prototype.setMin=function(l){this.ms=l},Mn.prototype.setMax=function(l){this.max=l},Mn.prototype.setJitter=function(l){this.jitter=l};class Rn extends W{constructor(t,o){var m;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(o=t,t=void 0),o=o||{},o.path=o.path||"/socket.io",this.opts=o,Re(this,o),this.reconnection(o.reconnection!==!1),this.reconnectionAttempts(o.reconnectionAttempts||1/0),this.reconnectionDelay(o.reconnectionDelay||1e3),this.reconnectionDelayMax(o.reconnectionDelayMax||5e3),this.randomizationFactor((m=o.randomizationFactor)!==null&&m!==void 0?m:.5),this.backoff=new Mn({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(o.timeout==null?2e4:o.timeout),this._readyState="closed",this.uri=t;const F=o.parser||i;this.encoder=new F.Encoder,this.decoder=new F.Decoder,this._autoConnect=o.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var o;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(o=this.backoff)===null||o===void 0||o.setMin(t),this)}randomizationFactor(t){var o;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(o=this.backoff)===null||o===void 0||o.setJitter(t),this)}reconnectionDelayMax(t){var o;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(o=this.backoff)===null||o===void 0||o.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new rn(this.uri,this.opts);const o=this.engine,m=this;this._readyState="opening",this.skipReconnect=!1;const F=kt(o,"open",function(){m.onopen(),t&&t()}),ce=ke=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",ke),t?t(ke):this.maybeReconnectOnOpen()},Ae=kt(o,"error",ce);if(this._timeout!==!1){const ke=this._timeout,Be=this.setTimeoutFn(()=>{F(),ce(new Error("timeout")),o.close()},ke);this.opts.autoUnref&&Be.unref(),this.subs.push(()=>{this.clearTimeoutFn(Be)})}return this.subs.push(F),this.subs.push(Ae),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(kt(t,"ping",this.onping.bind(this)),kt(t,"data",this.ondata.bind(this)),kt(t,"error",this.onerror.bind(this)),kt(t,"close",this.onclose.bind(this)),kt(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(o){this.onclose("parse error",o)}}ondecoded(t){Wt(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,o){let m=this.nsps[t];return m?this._autoConnect&&!m.active&&m.connect():(m=new es(this,t,o),this.nsps[t]=m),m}_destroy(t){const o=Object.keys(this.nsps);for(const m of o)if(this.nsps[m].active)return;this._close()}_packet(t){const o=this.encoder.encode(t);for(let m=0;m<o.length;m++)this.engine.write(o[m],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,o){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,o),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const o=this.backoff.duration();this._reconnecting=!0;const m=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(F=>{F?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",F)):t.onreconnect()}))},o);this.opts.autoUnref&&m.unref(),this.subs.push(()=>{this.clearTimeoutFn(m)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const vn={};function ts(l,t){typeof l=="object"&&(t=l,l=void 0),t=t||{};const o=Yn(l,t.path||"/socket.io"),m=o.source,F=o.id,ce=o.path,Ae=vn[F]&&ce in vn[F].nsps,ke=t.forceNew||t["force new connection"]||t.multiplex===!1||Ae;let Be;return ke?Be=new Rn(m,t):(vn[F]||(vn[F]=new Rn(m,t)),Be=vn[F]),o.query&&!t.query&&(t.query=o.queryKey),Be.socket(o.path,t)}if(Object.assign(ts,{Manager:Rn,Socket:es,io:ts,connect:ts}),n.j!=15)var _s=n(5904);if(n.j!=15)var Pt=n(17255);if(n.j!=15)var ln=n(33386);if(n.j!=15)var Js=n(99681);const ns=n.j!=15?2*1e3:null,ss=n.j!=15?24*1e3:null,kn=n.j!=15?48*1e3:null,Bn=()=>{},Xs=()=>({destroy:Bn,reset:Bn,emitAsync:os,emitLossy:Bn,getIsConnected:()=>!0,getSocketId:()=>"",getReadyPromise:()=>Promise.resolve(),getOffsetMsec:()=>0,DUMMY:!0}),os=async(l,t)=>({type:l,payload:t,isDummy:!0}),ws=l=>{let{query:{uId:t,fURL:o=globalThis.location.href.slice(0,128),uTag:m=Pt.CH,vTag:F=Js.r,rKey:ce},lossyListenerMap:Ae={},queueListenerMap:ke={},socketUrl:Be=globalThis.location.origin,socketPath:Fe=Pt.$r,usePolling:De=!1}=l;if(!t||!ce)throw new Error("SKT bad query");const Xe=(0,_s.I6)();let _e,Ce=(0,h.wT)(),Ue=0,Qe=null;const lt=()=>{_e!==void 0&&(_e.close(),_e=void 0,Ce=(0,h.wT)(),wt=!1,Qe&&clearTimeout(Qe),Qe=null)},jt=()=>{lt();const it=new Rn(Be,{path:Fe,query:{uId:t,fURL:o,uTag:m,vTag:F,rKey:ce},transports:De?["polling","websocket"]:["websocket"],timeout:kn,reconnectionDelay:Math.round((ns+ss)/2),reconnectionDelayMax:kn,randomizationFactor:(ss-ns)/(ss+ns),closeOnBeforeunload:!1}).socket(Pt.I4);it.on("connect_error",We=>{console.log("[socket] connect_error",We),We.message.includes(Pt.uB)&&(lt(),Xe.dispatchEvent({type:Pt.VU,payload:{error:We}})),Xe.dispatchEvent({type:Pt.Ei,payload:{error:We}})}),it.on("connect",async()=>{console.log("[socket] connect");{const We=Date.now(),ot=await(0,h.hq)(Vt(Pt.Ip),10*1e3,Pt.Ip).catch(async pt=>{throw(0,C.et)(jt,2*1e3),console.warn(Pt.Ip,pt),Ce.reject(pt),pt}),et=Date.now();Ue=ot-(We+et)*.5}Qe=(0,C.et)(()=>{!_e||!_e.connected||wt||jt()},(1+Math.random())*30*60*1e3),console.log("[socket] ready"),Xe.dispatchEvent({type:Pt.zS}),Ce.resolve()});{let We=Promise.resolve();const ot=(et,pt)=>{const ut=We.then(et);return We=ut.then(Bn,Ut=>{(0,ln.p)("SKT-QA-"+pt,Ut)}),ut};Xe.clear();for(const[et,pt]of Object.entries(Ae))it.on(et,ut=>pt({type:et,payload:ut})),Xe.addEventListener(et,ut=>{let{payload:Ut}=ut;return pt({type:et,payload:Ut})});for(const[et,pt]of Object.entries(ke))it.on(et,ut=>ot(()=>pt({type:et,payload:ut}),et)),Xe.addEventListener(et,ut=>{let{payload:Ut}=ut;return ot(()=>pt({type:et,payload:Ut}),et)})}_e=it};let wt=!1;const Vt=async(At,it)=>{wt=!0;const{error:We,result:ot}=await(0,h.hq)(new Promise(et=>_e.emit(At,it,et)),42*1e3,"SKT-USR "+At).finally(()=>{wt=!1});if(We!==void 0)throw Object.assign(new Error(typeof We=="object"&&We.message||"SKT-USR "+At),We);return ot},Ft=(At,it)=>{_e.volatile.emit(At,it)};return jt(),{destroy:lt,reset:jt,emitAsync:Vt,emitLossy:Ft,getIsConnected:()=>_e&&_e.connected||!1,getSocketId:()=>_e&&_e.id||"",getReadyPromise:()=>Ce.promise,getOffsetMsec:()=>Ue}};var _n=n(77885),Zt=n(96828),Ss=n(78463),Rt=n(83053);if(n.j!=15)var Mt=n(833);if(n.j!=15)var Yt=n(60307);var gn=n(49950);const Tn=0,qs={cDebugMin:Tn,cCmtPack:Tn+1,cCmtThread:Tn+2,cCmtContent:Tn+3,cDebugMax:35},Nn=(0,gn.W)("cmt-type",qs),Cs=Nn.pack("cCmtPack"),is=Nn.pack("cCmtThread"),Ms=Nn.pack("cCmtContent"),Ro=new Set(["cCmtPack","cCmtThread","cCmtContent"]),Bo=new Set([Cs,is,Ms]);if(n.j!=15)var Ns=n(45043);const Is={unstyled:0,"header-one":1,"header-two":2,"header-three":3,"ordered-list-item":4,"unordered-list-item":5,atomic:6},rs=(0,gn.W)("DraftBlockType",Is),eo={left:0,center:1,right:2,justify:3},Fn=(0,gn.W)("DraftAlignment",eo),to={LINK:0,IMAGE:1},as=(0,gn.W)("DraftEntityMapType",to),js={MUTABLE:0,IMMUTABLE:1,SEGMENTED:2},Es=(0,gn.W)("DraftEntityMapMutability",js),cn={_blank:0,_self:1},ks=(0,gn.W)("DraftLinkTargetOption",cn),vt=l=>{const t={};return Object.keys(l).forEach(o=>{const{type:m,mutability:F,data:ce}=l[o],Ae=[as.pack(m),Es.pack(F)],ke=[];m==="LINK"?(Ae.push(ks.pack(ce.targetOption)),ke.push(ce.url||"")):m==="IMAGE"&&(Ae.push((0,Mt.c5)(ce.width),Fn.pack(ce.alignment)),ke.push(ce.src||"",ce.alt||"")),t["e/"+o]=[Ae.join(Yt.xi),...ke]}),t},no=l=>{const t={};for(const o of Object.keys(l)){if(!o.startsWith("e/"))continue;const m=o.split("e/")[1],[F,...ce]=l[o],[Ae,ke,Be,Fe]=F.split(Yt.xi),De=as.parse(Ae),Xe=Es.parse(ke);t[m]=De==="LINK"?{type:De,mutability:Xe,data:{url:ce[0],targetOption:ks.parse(Be)}}:{type:De,mutability:Xe,data:{src:ce[0],alt:ce[1],width:(0,Mt._3)(Be),alignment:Fn.parse(Fe)}}}return t},ls=l=>{const t={};return Object.keys(l).forEach(o=>{const{text:m,type:F,depth:ce,inlineStyleRanges:Ae,entityRanges:ke,data:{textAlign:Be,textIndent:Fe,paraSpacing:De}}=l[o],Xe=[rs.packDef(F,"unstyled"),(0,Mt.c5)(ce),Be?Fn.pack(Be):"",Fe!==void 0?(0,Mt.c5)(Fe):"",De!==void 0?(0,Rt.ZI)(De):""];t["b/"+o]=[Xe.join(Yt.xi),m,Ae.map(_e=>{let{offset:Ce,length:Ue,style:Qe}=_e;return Ts(Ce,Ue,Qe)}),ke.map(_e=>{let{offset:Ce,length:Ue,key:Qe}=_e;return so(Ce,Ue,Qe)})]}),t},so=(l,t,o)=>""+(0,Mt.c5)(l)+Yt.xi+(0,Mt.c5)(t)+Yt.xi+(0,Mt.c5)(o),oo=l=>{const t=l.indexOf(Yt.xi),o=l.indexOf(Yt.xi,t+1);return[(0,Mt._3)(l.slice(0,t)),(0,Mt._3)(l.slice(t+1,o)),(0,Mt._3)(l.slice(o+1))]},Ts=(l,t,o)=>""+(0,Mt.c5)(l)+Yt.xi+(0,Mt.c5)(t)+Yt.xi+o,io=l=>{const t=l.indexOf(Yt.xi),o=l.indexOf(Yt.xi,t+1);return[(0,Mt._3)(l.slice(0,t)),(0,Mt._3)(l.slice(t+1,o)),l.slice(o+1)]},As=l=>{const t={};for(const o of Object.keys(l)){if(!o.startsWith("b/"))continue;const m=o.split("b/")[1],[F,ce,Ae,ke]=l[o],[Be,Fe,De,Xe,_e]=F.split(Yt.xi),Ce={};De!==""&&(Ce.textAlign=Fn.parse(De)),Xe!==""&&(Ce.textIndent=(0,Mt._3)(Xe)),_e!==""&&_e!==void 0&&(Ce.paraSpacing=(0,Rt.bp)(_e)),t[m]={text:ce,type:rs.parse(Be),depth:(0,Mt._3)(Fe),inlineStyleRanges:Ae.map(Ue=>{const[Qe,lt,jt]=io(Ue);return{offset:Qe,length:lt,style:jt}}),entityRanges:ke.map(Ue=>{const[Qe,lt,jt]=oo(Ue);return{offset:Qe,length:lt,key:jt}}),data:Ce}}return t},cs=l=>{let{message:t}=l;const{blocks:o={},entityMap:m={}}=t;return{...ls(o),...vt(m)}},An=l=>({message:{blocks:As(l),entityMap:no(l)}}),zn=l=>({T:Nn.pack(l.type),IC:[(0,Mt.c5)(l.index),(0,Mt.vH)(l.ctime)].join(Yt.xi)}),ds=l=>{const[t,o]=l.IC.split(Yt.xi);return{type:Nn.parse(l.T),index:(0,Mt._3)(t),ctime:(0,Mt.TT)(o)}},ro=l=>({...zn(l),R:l.refKey}),ao=l=>({...ds(l),refKey:l.R}),lo=l=>({...zn(l),...cs(l),xy:(0,Rt.x3)(l.x,l.y),wh:(0,Rt.x3)(l.w,l.h),z:(0,Rt.ZI)(l.z),userInfo:l.userInfo,userId:(0,Rt.ZI)(l.userId),mtime:(0,Mt.vH)(l.mtime),isCompleted:(0,Ns.rK)(l.isCompleted),canvasVec2:l.canvasVec2?{x:(0,Rt.ZI)(l.canvasVec2.x),y:(0,Rt.ZI)(l.canvasVec2.y)}:l.canvasVec2,canvasCid:l.canvasCid,threadType:l.threadType}),co=l=>{const[t,o]=(0,Rt.fm)(l.xy),[m,F]=(0,Rt.fm)(l.wh),ce=l.canvasVec2?(0,Rt.bp)(l.canvasVec2.x):void 0,Ae=l.canvasVec2?(0,Rt.bp)(l.canvasVec2.y):void 0,ke=(0,Rt.bp)(l.z);return{...ds(l),...An(l),x:t,y:o,w:m,h:F,z:ke,mtime:(0,Mt.TT)(l.mtime),userInfo:l.userInfo,userId:(0,Rt.bp)(l.userId),isCompleted:(0,Ns.Vf)(l.isCompleted),canvasCid:l.canvasCid,threadType:l.threadType,canvasVec2:ce&&Ae?{x:ce,y:Ae}:void 0}},uo=l=>({...zn(l),...cs(l),mtime:(0,Mt.vH)(l.mtime),userInfo:l.userInfo}),po=l=>({...ds(l),...An(l),mtime:(0,Mt.TT)(l.mtime),userInfo:l.userInfo}),ho=l=>{try{switch(l.T){case void 0:return l;case Cs:return ao(l);case is:return co(l);case Ms:return po(l);default:throw new Error("invalid attr: "+l.T+" -> "+Nn.parse(l.T))}}catch(t){throw(0,ln.p)("toP2CHA badDat",t,l),t}},Ls=l=>{try{switch(l.type){case void 0:return l;case"cCmtPack":return ro(l);case"cCmtThread":return lo(l);case"cCmtContent":return uo(l);default:throw new Error("invalid attr: "+l.type)}}catch(t){throw(0,ln.p)("toP2CCA badDat",t,l),t}};if(n.j!=15)var mo=n(42490);const Os=(l,t)=>{const o=ke=>{const Be=l(ke);return Be===void 0?[]:Be.sub.map(Fe=>l(Fe))},m=(0,mo.MX)(ke=>ke.sub.map(Be=>l(Be))),F=(ke,Be)=>{const Fe=l(ke);Fe!==void 0&&(Be(Fe)||Fe.sub.length!==0&&m(Fe,Be))};return{getHotItem:l,getSubHotItemList:o,walkHotItemSubtree:F,isTrashed:ke=>(0,Zt.DM)(ke,t.getFlatTree()),__devHotTree:function(ke){ke===void 0&&(ke=Zt.gT);const Be=new Map,Fe=De=>{let Xe=Be.get(De);return Xe===void 0&&Be.set(De,Xe={}),Xe};return F(ke,De=>{Fe(De.sup)[De.key]=De.hotAttr,De.sub.length!==0&&(Fe(De.sup)[De.key+" SUB"]=Fe(De.key))}),Fe(l(ke).sup)}}};if(n.j!=15)var Ps=n(57947);if(n.j!=15)var us=n(25813);var go=n(99142),tn=n(56927);if(n.j!=15)var fo=n(19371);const yo=(l,t,o)=>{const m=_e=>{if(_e===void 0||_e.length===0)return;const Ce=new Set;for(const Qe of _e)Ce.add(Qe.key),Qe.type==="I"&&Ce.add(Qe.keySup);const Ue=(0,Zt.CF)([...Ce].filter(Zt.xe),o.getFlatTree());l({type:fo.a,payload:Ue})},F=_e=>{const Ce=[],Ue=_e(Ce);return m(o.applyDiff(Ce)),Ue},ce=_e=>F(Ce=>{const Ue=[],Qe=_e(Ue);for(const lt of Ue)lt.type==="update"?Fe(lt.hotItem,Ce):lt.type==="delete"&&De(lt.key,Ce);return Qe}),Ae=function(){const _e=[],Ce=[];let Ue,Qe=!1;for(var lt=arguments.length,jt=new Array(lt),wt=0;wt<lt;wt++)jt[wt]=arguments[wt];for(const Vt of jt){Ue=Vt(_e);const Ft=o.applyDiff(_e);Ft!==void 0&&(Ce.push(...Ft),Qe?o.combineLastUndo():Qe=!0)}return m(Ce),Ue},ke=function(){for(var _e=arguments.length,Ce=new Array(_e),Ue=0;Ue<_e;Ue++)Ce[Ue]=arguments[Ue];const Qe=Ce.map(lt=>jt=>{const wt=[],Vt=lt(wt);for(const Ft of wt)Ft.type==="update"?Fe(Ft.hotItem,jt):Ft.type==="delete"&&De(Ft.key,jt);return Vt});return Ae(...Qe)},Be=(_e,Ce)=>{for(const Ue of Object.keys(_e)){const Qe=_e[Ue],lt=Ce[Ue];Qe!==lt&&(0,Ps.sw)(Qe)&&(0,Ps.sw)(lt)&&JSON.stringify(Qe)===JSON.stringify(lt)&&(_e[Ue]=lt)}},Fe=(_e,Ce)=>{const Ue=(0,Zt.PV)(_e.key,o.getFlatTree());if(Ue===void 0)Ce.push({type:tn.UF,key:_e.key,keySup:_e.sup}),Ce.push({type:tn.qC,key:_e.key,attrDiff:Ls(_e.hotAttr)});else{Ue.sup!==_e.sup&&Ce.push({type:tn.UF,key:_e.key,keySup:_e.sup});const Qe=Ls(_e.hotAttr);Be(Qe,Ue.attr);const lt=(0,go.m)(Qe,Ue.attr);lt!==void 0&&Ce.push({type:tn.qC,key:_e.key,attrDiff:lt})}},De=(_e,Ce)=>{o.getFlatItem(_e)&&Ce.push({type:tn.UF,key:_e,keySup:Zt.Ri})},Xe=(_e,Ce,Ue)=>{o.getFlatItem(_e)&&o.getFlatItem(Ce)&&Ue.push({type:tn.UF,key:_e,keySup:Ce})};return{_edit:F,_editAction:ce,_editBatch:Ae,_editActionBatch:ke,onRemotePatchList:_e=>{const Ce=[];for(const Ue of _e){const Qe=o.applyDiffRemote(Ue.diffList,Ue.clock);Qe!==void 0&&Ce.push(...Qe)}m(Ce)},updateHotItem:_e=>F(Ce=>{Fe(_e,Ce)}),updateHotItemBatch:_e=>F(Ce=>{for(const Ue of _e)Fe(Ue,Ce)}),deleteHotItem:_e=>F(Ce=>{De(_e,Ce)}),deleteHotItemBatch:_e=>F(Ce=>{for(const Ue of _e)De(Ue,Ce)}),moveHotItem:(_e,Ce)=>F(Ue=>{Xe(_e,Ce,Ue)}),moveHotItemBatch:_e=>F(Ce=>{for(const[Ue,Qe]of _e)Xe(Ue,Qe,Ce)}),editHotItemBatch:_e=>F(Ce=>{for(const Ue of _e)Ue.type==="update"?Fe(Ue.hotItem,Ce):Ue.type==="delete"&&De(Ue.key,Ce)}),updateHotAttrMerge:(_e,Ce)=>F(Ue=>{const Qe=t(_e);if(Qe===void 0)throw new Error("no item: "+_e);Fe((0,us.MK)(Qe,"hotAttr",{...Qe.hotAttr,...Ce}),Ue)}),updateHotAttrKV:(_e,Ce,Ue)=>F(Qe=>{const lt=t(_e);if(lt===void 0)throw new Error("no item: "+_e);Fe((0,us.MK)(lt,"hotAttr",(0,us.MK)(lt.hotAttr,Ce,Ue)),Qe)}),canUndo:o.canUndo,canRedo:o.canRedo,combineMergeMark:o.combineMergeMark,combineMerge:o.combineMerge,undo:()=>{m(o.undo())},redo:()=>{m(o.redo())}}};var Un=n(66451);const xo=l=>{const t=(0,_s.wz)(),o=t.subscribe,m=t.unsubscribe,F=Ds(l),ce=Os(F,l),Ae=()=>bo(l.getFlatTree),ke=yo(t.send,F,l),{_edit:Be,_editAction:Fe,_editBatch:De,_editActionBatch:Xe,..._e}=ke;return{subscribe:o,unsubscribe:m,...ce,createRoCmtStore:Ae,..._e}},Ds=l=>t=>{const o=l.getFlatTree().get(t);if(o===void 0)return;const m=l.getOCI(o);return m.hotItem===void 0&&(m.hotItem={key:o.key,sup:o.sup,sub:o.sub,hotAttr:ho(o.attr)}),m.hotItem},bo=l=>{const t=(0,Un.b$)(l(),(0,_n.aF)({})),o=()=>t.getFlatTree()!==l(),m=()=>t.sync(l()),F=Ds(t),ce=Os(F,t);return{hasUpdate:o,syncUpdate:m,...ce}};var ps=n(56511),hs=n(99611);if(n.j!=15)var ms=n(17036);if(n.j!=15)var vo=n(50544);var wn=n(73051),fn=n(85782),Wn=n(35236);const _o=l=>{const[t,o,m]=l,F=async()=>(0,fn.BT)(Wn.r,t.tre),ce=async function(De){De===void 0&&(De=-1);const Xe=[];for(const{pbx:_e,t10s:Ce}of o){if(Ce<De)continue;const Ue=(0,vo.CE)(await Wn.r.gunzipU8AAsync(new Uint8Array(_e)));for(const Qe of(0,wn.Pb)(Ue))Xe.push(Qe)}for(const{pch:_e,t10s:Ce}of m)Ce<De||Xe.push(_e);return Xe},Ae=async function(De){De===void 0&&(De=-1);const Xe=[];for(const _e of await ce(De))Xe.push((0,tn.iz)(_e));return Xe},ke=async function(De){De===void 0&&(De=-1);const Xe=[];for(const _e of await ce(De)){const{clock:Ce,diffList:Ue}=(0,tn.iz)(_e);Xe.push([(0,_n._r)(Ce).slice(5),Ue,_e])}return Xe};return{getParsedTre:F,getPchList:ce,getPatchList:Ae,getReadablePatchList:ke,filterReadablePatchList:async function(De,Xe){return Xe===void 0&&(Xe=-1),(await ke(Xe)).filter(_e=>{let[,,Ce]=_e;return Ce.includes(De)})},getMergedReadablePatchList:async function(De,Xe){De===void 0&&(De=-1),Xe===void 0&&(Xe=16);const _e=[];let Ce={timePrefix:"",countDI:0,countDA:0,userIdSet:new Set};const Ue=Qe=>{Ce.timePrefix!==Qe&&(Ce.timePrefix!==""&&_e.push(Ce.timePrefix.slice(5)+"..Z I*"+(Ce.countDI||"-")+" A*"+(Ce.countDA||"-")+" ["+[...Ce.userIdSet].join(",")+"]"),Ce={timePrefix:Qe,countDI:0,countDA:0,userIdSet:new Set})};for(const{clock:[Qe,lt],diffList:jt}of await Ae(De)){const wt=new Date(Qe).toISOString().slice(0,Xe);Ue(wt),Ce.userIdSet.add(lt);for(const{type:Vt}of jt)Vt===tn.UF?Ce.countDI++:Ce.countDA++}return Ue(""),_e},flpak:l}},Rs=l=>Math.floor(l/10/1e3),wo=l=>{const[t]=(0,tn.cx)(l);return Rs(t)},Bs=l=>{let[t,o,m]=l;return m.length!==0?m[m.length-1].t10s:o.length!==0?o[o.length-1].t10s:t.t10s};if(n.j!=15)var gs=n(71544);const fs=(l,t,o)=>{let m=!1,F=0,ce=0;const Ae=new Map;let ke=[],Be,Fe,De,Xe;const _e=We=>{let[ot,,et]=We;if(ot!==l)return!1;const pt=(0,wn.vZ)(et);for(const ut of pt)ke.push([ut,wo(ut),!1]);return De!==void 0&&De(pt.map(ut=>(0,tn.iz)(ut))),!0},Ce=async(We,ot)=>{if(Fe!==void 0)throw new Error("no re-init flatStore");Be=We,Xe=ot;const et=await Xe(l);{const Bt="INSP-INIT-FLPAK";location.hash.includes(Bt)&&Object.assign(globalThis,{[Bt+"/"+l]:{..._o(et),__flpakKey:l,__name:t}})}F=Bs(et);const pt=(0,Un.OR)(),ut=await(0,fn.TN)(Wn.r,et,(Bt,Le)=>(0,wn.qG)(Bt,Le,pt.mutateTFAAFNB));let Ut=Zt.xL;{const Bt="BYPASS-FLPAK";location.hash.includes(Bt)&&(Ut=Le=>console.warn("["+Bt+"|vFT]",Le))}for(const[Bt,Le,ct]of ke)!ct&&F>=Le||(0,wn.qG)(ut,Bt,pt.mutateTFAAFNB);Fe=(0,Un.b$)(ut,We,(Bt,Le,ct)=>{if(m&&console.log("flat|onPatch",{diffList:Bt,clock:Le,isLocal:ct}),ke.push([(0,tn.AO)({diffList:Bt,clock:Le}),Rs(Le[0]),ct]),ct)return;const[Qt,zt,In,yn]=Le;ce=Math.max(ce,Qt);const dn=(0,_n.au)(zt,In);if(Be.selfCCK===dn)throw new Error("unexpected selfCck: "+dn);const jn=Ae.get(dn)||-1;jn>yn&&console.warn("bad editId for cck: "+dn+", last: "+jn+", new: "+yn),Ae.set(dn,yn)},(Bt,Le)=>{console.warn("flat|requestResync",{error:Bt,message:Le})}),De=Bt=>{for(const Le of Bt)Fe.applyDiffRemote(Le.diffList,Le.clock)};const $t=pt.getFixDiffList(ut);$t.length&&(Fe.applyDiff($t),Fe.resetUndo()),o===!0&&Ut(ut)},Ue=We=>{De=We},Qe=()=>Be,lt=()=>Fe,jt=async function(We){if(We===void 0&&(We=""),o===!0)try{if(!Fe||!F||!Ft())return;const ot=Fe.getFlatTree(),[et,pt]=await(0,fn.Vz)(Wn.r,ot);await(0,gs.hp)("//FSS/"+t+"/"+l,new Blob([pt],{type:"application/octet-stream"}),{message:We,treRawSize:et,treSize:pt.byteLength})}catch(ot){console.warn("saveSOS",We,ot)}},wt=async()=>{if(o===!0)try{const We=await(0,gs.Ey)("//FSS/"+t+"/"+l);if(We.length){console.warn("[loadSOS] found "+We.length+" record");const{data:ot,extra:et}=We[0];console.warn("[loadSOS] load record from "+new Date(et.time).toISOString());const pt=await(0,ms.WL)(ot),ut=await(0,fn.BT)(Wn.r,pt);return console.warn("[loadSOS] record tree: "+ut.slowSize()),{tree:ut,...et}}}catch(We){console.warn("loadSOS",We)}},Vt=async()=>{if(o===!0)try{return await(0,gs.EP)("//FSS/"+t+"/"+l)}catch(We){console.warn("freeSOS",We)}},Ft=()=>{if(o!==!0)return!1;for(const[,,We]of ke)if(We)return!0;return!1};return{flpakKey:l,name:t,__setIsDev:We=>{m=We},onRemotePayloadSave:_e,bind:Ce,useExtORPL:Ue,getClockStore:Qe,getFlatStore:lt,saveSOS:jt,loadSOS:wt,freeSOS:Vt,hasPatch:Ft,preSettlePatch:()=>{if(o!==!0)return[];const We=[];for(const[ot,,et]of ke)et&&We.push(ot);return We},postSettlePatch:We=>{o===!0&&(ke=ke.filter(ot=>{let[et,pt,ut]=ot;return!ut||!We.includes(et)}))}}},So=(l,t,o)=>{let m,F;return{flpakKey:l,name:"[DUMMY]"+t,__setIsDev:ce=>{},onRemotePayloadSave:ce=>{let[Ae,,ke]=ce;return!1},bind:async(ce,Ae)=>{if(F!==void 0)throw new Error("no re-init flatStore");m=ce,F=(0,Un.b$)((0,Zt.Id)(),ce)},useExtORPL:ce=>{},getClockStore:()=>m,getFlatStore:()=>F,saveSOS:async ce=>{},loadSOS:async()=>{},freeSOS:async()=>0,hasPatch:()=>!1,preSettlePatch:()=>[],postSettlePatch:ce=>{}}};if(n.j!=15)var Co=n(54704);const Fs=n.j!=15?Rt.x3:null,Mo=n.j!=15?Rt.fm:null,No=l=>{const t=new Map;let o=!1,m=!1,F,ce,Ae=()=>"";const ke=()=>{t.clear(),De()};let Be=0;const Fe=it=>{const We={socketId:it,index:Be++,lastCurAt:0,cur:void 0,lastStatAt:0,stat:void 0};return t.set(it,We),o=!0,We},De=(0,h.Ds)(async()=>{if(await(0,C.Y_)(2*1e3),F===void 0)return;const it=[];for(const{socketId:pt,lastStatAt:ut}of t.values())ut!==0&&it.push(pt);for(const[pt,ut,Ut]of await F([l,it])){const $t=t.get(pt)||Fe(pt);$t.lastStatAt=Date.now(),$t.stat=[ut,Ut]}const[We,ot,et]=Ce;We&&ce&&ce([l,We,Fs(ot,et)])},it=>{console.warn("_tPS",it)}).trigger,Xe=it=>{let[We,ot,et]=it;const[pt,ut]=Mo(et),Ut=[pt,ut,ot],$t=t.get(We)||Fe(We);$t.lastCurAt=Date.now(),$t.cur=Ut,$t.lastStatAt===0?De():m=!0},_e=it=>{let[We,ot]=it;const et=t.has(ot);We===0&&et&&(t.delete(ot),o=!0)};let Ce=["",NaN,NaN],Ue=0;const Qe=function(it){it===void 0&&(it=Ce[0]);const We=Ae();if(We==="")return!1;for(const{socketId:ot,cur:et}of t.values())if(et&&et[2]===it&&ot!==We)return!0;return!1},lt=function(it,We,ot){We===void 0&&(We=Rt.Ni),ot===void 0&&(ot=Rt.Ni),!(Ce[0]===it&&Ce[1]===We&&Ce[2]===ot)&&(Ce[0]!==it&&(Ue=1),!(!Ue&&(t.size<2||!Qe(it)))&&(Ce=[it,We,ot],Ue&&Ue--,ce&&ce([l,it,Fs(We,ot)])))},jt=async(it,We,ot)=>{if(F!==void 0)throw new Error("no re-init fetchCurStat");F=it,ce=We,Ae=ot},wt=()=>{const it=Ae(),We=[];if(it==="")return We;for(const{socketId:ot,stat:et}of t.values()){if(et===void 0)continue;const[pt,ut]=et;it===ot?We.unshift([ot,pt,ut]):We.push([ot,pt,ut])}return We},Vt=it=>{const We=Ae(),ot=[];if(We==="")return ot;for(const{socketId:et,index:pt,cur:ut,stat:Ut}of t.values()){if(We===et||ut===void 0||Ut===void 0)continue;const[$t,Bt,Le]=ut;if(Le!==it||$t===Rt.Ni)continue;const[ct,Qt]=Ut;ot.push([pt,$t,Bt,ct,Qt])}return ot},Ft=()=>o?(o=!1,!0):!1,At=()=>m?(m=!1,!0):!1;return{flpakKey:l,__curStatMap:t,onSocketConnect:ke,onRemoteCur:Xe,onRemoteSocket:_e,hasOtherUser:Qe,tryPackCur:lt,bind:jt,getRoomStat:wt,getSocketStat:wt,getCurStat:Vt,pollRoomChg:Ft,pollCurChg:At,pollChange:At}},Io=l=>{const t=()=>{},o=De=>{let[Xe,_e,Ce]=De},m=De=>{let[Xe,_e]=De},F=De=>!1,ce=(De,Xe,_e)=>{},Ae=async(De,Xe,_e)=>{},ke=()=>[],Be=De=>[],Fe=()=>!1;return{flpakKey:l,onSocketConnect:t,onRemoteCur:o,onRemoteSocket:m,hasOtherUser:F,tryPackCur:ce,bind:Ae,getRoomStat:ke,getSocketStat:ke,getCurStat:Be,pollRoomChg:Fe,pollCurChg:Fe,pollChange:Fe}},zs=()=>{};let Us=!1;const jo=l=>{Us=l},Ws="dat",ys="cmt",Hs="mkt:dat",Hn=async l=>{let{flpakKey:t,userId:o,uTag:m,token:F,passwd:ce,isDummyCmt:Ae=!1,isAllowDat:ke=!1,isAllowCmt:Be=!1,isAllowCur:Fe=!1,afterStoreCreate:De=zs,__fetchFlpakAsync:Xe=hs.T,onTransferError:_e=zs}=l;const Ce=fs(t,Ws,ke),Ue=(Ae?So:fs)((0,Co.J6)(t),ys,Be),Qe=(Fe?No:Io)(t);await De({fssDat:Ce});const lt=async(Le,ct)=>{await Ce.saveSOS("OTE|"+Le+"|"+ct),await _e(Le,ct)},jt=(0,Pt.LZ)({flpakKey:t,needDat:!!ke,needCmt:!!Be,needCur:!!Fe}),wt=!o||!jt?Xs():ws({query:{uId:String(o),uTag:m,rKey:jt},usePolling:Us,lossyListenerMap:{[Pt.NX]:Le=>{const{payload:ct}=Le;Qe.onRemoteCur(ct)}},queueListenerMap:{[Pt.VU]:Le=>{const{error:ct}=Le;console.log("flat-ws drop-client",ct),lt("4XX",ct)},[Pt.Ei]:Le=>{const{error:ct}=Le;console.log("flat-ws error",ct),lt("5XX",ct)},[Pt.zS]:()=>{console.log("flat-ws (re)connected"),Qe.onSocketConnect()},[Pt.sP]:Le=>{const{payload:ct}=Le;Ce.onRemotePayloadSave(ct)||Ue.onRemotePayloadSave(ct)||console.warn("drop save payload:",ct)},[Pt.$7]:Le=>{const{payload:ct}=Le;console.log("flat-ws room cursor:",ct),Qe.onRemoteSocket(ct)}}});await wt.getReadyPromise();const Vt=async(Le,ct,Qt)=>{try{return await Xe(Le,{token:F,passwd:ce,skipTTre:String(ct||""),skipTPbxList:(Qt||[]).join("")})}catch(zt){const In=Vn(zt);throw Ln(zt)!=="Fch"&&(0,ln.p)("fFS "+Ln(zt),zt),await lt(In,zt),zt}};await Promise.all([Ce.bind((0,_n.aF)({userId:o,mtimeOffset:wt.getOffsetMsec()}),Vt).catch(Le=>{throw(0,ln.p)("bindDat",Le),Le}),Ue.bind((0,_n.aF)({userId:o,mtimeOffset:wt.getOffsetMsec()}),Vt).catch(Le=>{throw(0,ln.p)("bindCmt",Le),Le}),Qe.bind(async Le=>{try{if(wt.getIsConnected())return await wt.emitAsync(Pt.Am,Le)}catch(ct){await(0,C.Y_)(42*1e3)}return[]},Le=>wt.getIsConnected()&&wt.emitLossy(Pt.pL,Le),wt.getSocketId).catch(Le=>{throw(0,ln.p)("bindCur",Le),Le})]);const Ft=new Error("[tracked-error]"),At=async Le=>{if(!Le.hasPatch())return;const ct=Le.preSettlePatch(),Qt=(0,wn.ok)((0,wn.oG)(ct));for(let zt=0,In=Qt.length;zt<In;zt++){const yn=Qt[zt];try{await wt.emitAsync(Pt.s5,[Le.flpakKey,yn.length,(0,wn.iM)(yn)])}catch(dn){const jn=Vn(dn);throw jn==="5XX"&&(0,ln.p)("saveFss "+Ln(dn),dn,Le.name,Le.flpakKey,zt+1+"/"+In,yn),await lt(jn,dn),Ft}}Le.postSettlePatch(ct)},it=(0,h.Ds)(async()=>(0,h.g7)(async()=>{await At(Ce),await At(Ue),await Ce.freeSOS()},5*60*1e3,"lFFss.lA"),Le=>{if(Le===Ft)return;const ct=Vn(Le);(0,ln.p)("lFFss "+Ln(Le),Le),Promise.resolve(lt(ct,Le)).catch(Qt=>{(0,ln.p)("lFFss "+ct+" Err",Qt)})}),We=(0,h.Ds)(async()=>{it.trigger(),await it.getRunningPromise();for(let Le=0;Le++<16;)!Qe.hasOtherUser()&&await(0,C.Y_)(1e3)});setInterval(We.trigger,2*1e3),Fe&&setInterval(()=>Qe.onSocketConnect(),20*60*1e3);const ot=Ce.getFlatStore(),et=(0,Ss.uq)(Ce.getFlatStore());Ce.useExtORPL(et.onRemotePatchList);const pt=xo(Ue.getFlatStore());Ue.useExtORPL(pt.onRemotePatchList);const ut=()=>Ce.hasPatch()||Ue.hasPatch(),Ut=(0,h.B1)(async()=>(0,h.JN)(async()=>{let Le=0;for(;ut();)await(0,C.Y_)(Math.min(Le,5)*1e3),it.trigger(),await it.getRunningPromise(),Le++})),$t=()=>globalThis.MB.getSelectionItems()[0].key,Bt=(0,h.J9)(Qe.tryPackCur,125);return{fssDat:Ce,fssCmt:Ue,cssCur:Qe,flatSocket:wt,flatStore:ot,sdkStore:et,cmtStore:pt,sendCur:Bt,hasSave:ut,saveAsync:Ut,theTree:function(Le){return Le===void 0&&(Le=Zt.gT),console.log((0,Zt.Wr)(ot.getFlatTree(),Le))},hotTree:function(Le){return Le===void 0&&(Le=Zt.gT),console.log(et.__devHotTree(Le))},slctTree:function(Le){return Le===void 0&&(Le=$t()),console.log(et.__devHotTree(Le))},upTree:function(Le,ct){return Le===void 0&&(Le=$t()),ct===void 0&&(ct=Zt.gT),console.log(et.findUpHotItemList(Le,ct))},newFFT:async function(Le,ct,Qt){return Qt===void 0&&(Qt=ct.name+"-\u4FEE\u590D\u6570\u636E"),(0,ps.N)(Le,ct.team_cid,{...ct,name:Qt})},cmtTree:function(Le){return Le===void 0&&(Le=Zt.gT),console.log(pt.__devHotTree(Le))}}},Vn=l=>{const t=l&&l.status;return t>=400&&t<500?"4XX":String(l).toLowerCase().includes("timeout")?"Tot":"5XX"},Ln=l=>{const t=l&&l.status,o=[];t>=400&&o.push(String(t));const m=String(l).toLowerCase();return m.includes("timeout")&&o.push("Tot"),m.includes("fetch")&&o.push("Fch"),o.join("")||"Err"},Eo=async l=>{let{flpakKey:t}=l;const o=fs(t,Hs,!1),m=async(ce,Ae,ke)=>(0,hs.T)(ce,{skipTTre:String(Ae||""),skipTPbxList:(ke||[]).join("")});return await o.bind((0,_n.aF)({}),m),{sdkStore:(0,Ss.uq)(o.getFlatStore())}}},27374:(Me,de,n)=>{"use strict";n.d(de,{$I:()=>q,Rj:()=>A,SR:()=>h,Tq:()=>I,UP:()=>k});var i=n(4114);let h=function(N){return N.AIAssistant="AIAssistant",N.Page="Page",N.Flow="flow",N.Mind="mind",N.Table="table",N.Chart="chart",N.AutoFill="autofill",N.Semantic="semantic",N.Component="Component",N.PageV9="PageV9",N.Chat="Chat",N}({}),C=function(N){return N.page="page",N.component="component",N.other="other",N.semantic="semantic ",N}({}),d=function(N){return N.hot="hot",N.other="other",N.semantic="semantic ",N}({});const I="GENERATE_AI_COMPONENT",q=(0,i.R)(()=>[{label:I18N.ChatGPT.ai_prototype,title:I18N.ChatGPT.ai_prototype_title,type:h.PageV9,points:400,recommends:[I18N.ChatGPT.ai_prototype_label_1,I18N.ChatGPT.ai_prototype_label_2,I18N.ChatGPT.ai_prototype_label_3],aiType:"\u751F\u6210\u539F\u578B\u9875\u9762",source:"",menu:C.page,hotMenu:d.hot,icon:"chatGPT/ai-component-page",desc:I18N.ChatGPT.ai_prototype_desc,className:"ai-page",componentTitle:I18N.ChatGPT.ai_prototype_component_title},{label:I,title:I18N.ChatGPT.ai_component_title,type:h.Component,points:200,aiType:"\u751F\u6210AI\u7EC4\u4EF6",source:"",menu:C.component,hotMenu:d.hot,icon:"chatGPT/ai-component-component",desc:I18N.ChatGPT.ai_component_desc,className:"ai-component",componentTitle:I18N.ChatGPT.ai_component_component_title},{label:I18N.ArtBoard.flow,title:I18N.ChatGPT.ai_flow_title,type:h.Flow,points:200,recommends:[I18N.ChatGPT.ai_flow_label_1,I18N.ChatGPT.ai_flow_label_2,I18N.ChatGPT.ai_flow_label_3],aiType:"\u751F\u6210\u6D41\u7A0B\u56FE",source:"",menu:C.component,hotMenu:d.other,icon:"chatGPT/ai-component-flow",desc:I18N.ChatGPT.ai_flow_desc,className:"ai-flow",componentTitle:I18N.ChatGPT.ai_flow_component_title},{label:I18N.ArtBoard.mind,title:I18N.ChatGPT.ai_mind_title,type:h.Mind,points:200,recommends:[I18N.ChatGPT.ai_mind_label_1,I18N.ChatGPT.ai_mind_label_2,I18N.ChatGPT.ai_mind_label_3],aiType:"\u751F\u6210\u601D\u7EF4\u5BFC\u56FE",source:"",menu:C.component,hotMenu:d.other,icon:"chatGPT/ai-component-mind",desc:I18N.ChatGPT.ai_mind_desc,className:"ai-mind",componentTitle:I18N.ChatGPT.ai_mind_component_title},{label:I18N.w.table,title:I18N.ChatGPT.ai_table_title,type:h.Table,points:200,recommends:[I18N.ChatGPT.ai_table_label_1,I18N.ChatGPT.ai_table_label_2,I18N.ChatGPT.ai_table_label_3],aiType:"\u751F\u6210\u8868\u683C",source:"",menu:C.component,hotMenu:d.other,icon:"chatGPT/ai-component-table",desc:I18N.ChatGPT.ai_table_desc,className:"ai-table",componentTitle:I18N.ChatGPT.ai_table_component_title},{label:I18N.w.wChart,title:I18N.ChatGPT.ai_Chart_title,type:h.Chart,points:200,recommends:[I18N.ChatGPT.ai_wChart_label_1,I18N.ChatGPT.ai_wChart_label_2,I18N.ChatGPT.ai_wChart_label_3],aiType:"\u751F\u6210\u56FE\u8868",source:"",menu:C.component,hotMenu:d.other,icon:"chatGPT/ai-component-chart",desc:I18N.ChatGPT.ai_Chart_desc,className:"ai-chart",componentTitle:I18N.ChatGPT.ai_Chart_component_title},{label:I18N.ChatGPT.magic_fill,title:I18N.ChatGPT.ai_magicFill_title,type:h.AutoFill,points:200,recommends:[I18N.ChatGPT.ai_smart_fill_label_2,I18N.ChatGPT.ai_smart_fill_label_1,I18N.ChatGPT.ai_smart_fill_label_3],aiType:"\u667A\u80FD\u586B\u5145",source:"",menu:C.other,hotMenu:d.other,icon:"chatGPT/ai-component-autofill",desc:I18N.ChatGPT.ai_magicFill_desc,className:"ai-magic-fill"},{label:"\u8BED\u4E49\u5316",title:"AI \u8BED\u4E49\u5316",type:h.Semantic,points:200,recommends:["\u5E2E\u6211\u751F\u6210\u4E00\u4E2A\u7535\u5546\u7C7BAPP\uFF0C\u5E76\u4E14\u8F93\u5165\u4E00\u4EFDprd\u6587\u6863","`\u6211\u7231\u52A0\u73ED`\u3002\u8BF7\u5E2E\u6211\u628A\u4E0A\u9762\u8FD9\u6BB5\u8BDD\u8C03\u6574\u7684\u66F4\u52A0\u4E30\u5BCC\u751F\u52A8\u4E00\u70B9","\u5E2E\u6211\u751F\u6210\u4E00\u4EFD2022\u5E74\u56FD\u5BB6\u7ECF\u6D4E\u66F2\u7EBF\u56FE\u30012022\u5E74\u5404\u7701\u7ECF\u6D4E\u6536\u5165\u8868\u683C"],aiType:"MD\u8BED\u4E49\u5316",source:"AI\u8BED\u4E49\u5316\u9762\u677F",menu:C.semantic,hotMenu:d.semantic,icon:"chatGPT/ai-component-autofill",desc:I18N.ChatGPT.ai_magicFill_desc,className:"ai-magic-fill"}]),U=(0,i.R)(()=>[{title:I18N.ChatGPT.ai_prototype,items:q().filter(O=>O.menu===C.page)},{title:I18N.ChatGPT.ai_advanced_components,items:q().filter(O=>O.menu===C.component)},{title:I18N.ChatGPT.ai_magic_fill,items:q().filter(O=>O.menu===C.other)}]),k=(0,i.R)(()=>[{title:I18N.ChatGPT.ai_hot_menu,items:q().filter(O=>O.hotMenu===d.hot)},{title:I18N.ChatGPT.ai_other_menu,items:q().filter(O=>O.hotMenu===d.other)}]),A=(0,i.R)(()=>q().reduce((N,O)=>(N[O.type]=O,N),{}))},46664:(Me,de,n)=>{"use strict";n.d(de,{A1:()=>L,A9:()=>b,CH:()=>Je,Cp:()=>i.Cp,E8:()=>x,F7:()=>Ne,G8:()=>s,Gx:()=>$,Jm:()=>D,Kc:()=>k,OJ:()=>r,PK:()=>_t,Qs:()=>Q,Qy:()=>je,SD:()=>we,Tf:()=>O,V7:()=>y,Wr:()=>c,XG:()=>me,Xw:()=>W,Yu:()=>N,bX:()=>Y,cn:()=>A,dC:()=>dt,hY:()=>P,kZ:()=>ie,l9:()=>v,ob:()=>ae,qi:()=>X,r3:()=>H,s_:()=>oe,sw:()=>ft,ty:()=>He,up:()=>st,vS:()=>ze,vs:()=>Ke,wR:()=>S,wZ:()=>yt,yV:()=>qe,yY:()=>Se,yk:()=>Oe,yr:()=>K});var i=n(52781),h=n(46795),C=n(45465),d=n(72907);if(n.j!=15)var I=n(79619);if(n.j!=15)var q=n(63967);const U=(he,be)=>{const Ee=new Error("[NO SENTRY] "+he);return Object.assign(Ee,be),Ee},k=(he,be)=>(0,h.DE)("/api/upper/web_v1/design/readonly_initial?access_token="+he+"&password="+be),A=async(he,be)=>{const Ee=be==="inspect"?"read_only":be,Ge="/api/flat/web_v1/preview/initial?access_token="+he+"&view_mode="+Ee,$e=await fetch(Ge,{credentials:"same-origin"}),gt=await $e.json();if($e.status!==200)throw U("[fetchGetHead] failed with "+$e.status+": "+Ge,{status:$e.status,error_type:gt==null?void 0:gt.error_type});return gt},N=(he,be)=>(0,h.SN)("/api/upper/web_v1/basics/"+he,{...be}),O=async()=>{let he=[];try{const be=await(0,h.DE)("/api/library/v4/recent_keywords");be!=null&&be.keywords&&(he=be==null?void 0:be.keywords)}catch(be){(0,d.$r)()}return he},oe=()=>(0,h.sM)("/api/library/v4/recent_keywords"),$=he=>(0,h.Ds)("/api/library/v4/recent_keywords",{keyword:he}),X=async()=>{if((0,I.Z)())return R();{var he;let be;try{be=await(0,h.DE)("/api/library/v3/project_upper/user_combo_groups")}catch(Ee){return await(0,d.FY)(Ee),{}}return{userComboGroupList:(he=be)==null?void 0:he.user_combo_groups}}},R=async()=>{var he;let be;try{be=await(0,h.DE)("/api/library/v3/project_upper/org_combo_groups?org_cid="+MB.user.solo_org.cid)}catch(Ee){return await(0,d.FY)(Ee),{}}return{userComboGroupList:(he=be)==null?void 0:he.org_combo_groups}},Y=async he=>{var be;let{orgCid:Ee}=he,Ge;try{Ge=await(0,h.DE)("/api/library/v3/project_upper/org_combo_groups?org_cid="+Ee)}catch($e){return await(0,d.FY)($e),{}}return{orgComboGroupList:(be=Ge)==null?void 0:be.org_combo_groups}},K=async he=>{const{icon_group:be,market_template:Ee}=await(0,i.Yk)(he.cid),{source:Ge,title:$e}=be||{},gt=await(0,h.DE)(Ge),Wt=C.I1[$e]||$e||"svg",{iconGroupData:Et}=(0,C.u2)(gt,Wt);return{iconGroupData:Et,marketTemplate:Ee}},r=async()=>{const he=MB.user.solo_org.cid;try{const{asset_groups:be=[],assets:Ee}=await(0,h.Yo)("/api/library/v6/asset_groups?org_cid="+he);return{userAssetGroupList:be,userAssets:Ee}}catch(be){return(0,d.$r)(),{userAssetGroupList:[],userAssets:[]}}},v=async function(he){he===void 0&&(he="");const be=he||MB.currentOrg.cid;try{const{asset_groups:Ee,assets:Ge}=await(0,h.Yo)("/api/library/v6/asset_groups?org_cid="+be);return{orgAssetGroupList:Ee,orgAssets:Ge}}catch(Ee){return(0,d.$r)(),{orgAssetGroupList:[],orgAssets:[]}}},x=async he=>{if((0,I.Z)())return g(he);try{const{asset:be,user_asset:Ee}=await(0,h.B7)("/api/library/v3/asset_data/me/search_by_url",{image_url:he});return{asset:be,user_asset:Ee}}catch(be){await(0,d.FY)(be)}},g=async he=>{const be=MB.user.solo_org.cid;try{const{asset:Ee,flat_asset:Ge}=await(0,h.B7)("/api/library/v6/assets/search_by_url",{image_url:he,org_cid:be});return{asset:Ee,user_asset:Ge}}catch(Ee){await(0,d.FY)(Ee)}},c=async(he,be)=>{try{const{asset:Ee,flat_asset:Ge}=await(0,h.B7)("/api/library/v6/assets/search_by_url",{image_url:he,org_cid:be});return{asset:Ee,org_asset:Ge}}catch(Ee){await(0,d.FY)(Ee)}},y=async he=>{if((0,I.Z)())return M(he);try{const{user_asset_group:be}=await(0,h.uP)("/api/library/v4/users/asset_groups/"+he.cid,{...he});return{user_asset_group:be}}catch(be){await(0,d.FY)(be)}},b=async(he,be)=>{const{name:Ee,parentCid:Ge=null,position:$e}=be,{asset_group:gt}=await(0,h.zi)("/api/library/v6/asset_groups",{org_cid:he,name:Ee,parent_cid:Ge,position:$e});return{asset_group:gt}},M=async he=>{const{cid:be,name:Ee,parent_cid:Ge,position:$e}=he;try{const{asset_group:gt}=await(0,h.uP)("/api/library/v6/asset_groups/"+be,{name:Ee,parent_cid:Ge,position:$e});return{user_asset_group:gt}}catch(gt){await(0,d.FY)(gt)}},L=async he=>{const{cid:be,name:Ee,parent_cid:Ge,position:$e}=he;try{const{asset_group:gt}=await(0,h.uP)("/api/library/v6/asset_groups/"+be,{name:Ee,parent_cid:Ge,position:$e});return{org_asset_group:gt}}catch(gt){await(0,d.FY)(gt)}},S=async he=>{if((0,I.Z)())return re(he);try{return await(0,h.uP)("/api/library/v3/asset_data/me/assets/"+he.asset_cid,{...he})}catch(be){await(0,d.FY)(be)}},D=async he=>(await(0,h.SN)("/api/library/v6/asset_groups/",{asset_groups:he})).asset_groups,H=async(he,be)=>{const{name:Ee,groupCid:Ge}=be;return await(0,h.SN)("/api/library/v6/assets",{cids:he,name:Ee,group_cid:Ge})},re=async he=>{try{return await(0,h.uP)("/api/library/v6/assets",{...he})}catch(be){await(0,d.FY)(be)}},P=async he=>{let{cids:be,...Ee}=he;try{return await(0,h.uP)("/api/library/v6/assets",{cids:be,...Ee})}catch(Ge){await(0,d.FY)(Ge)}},W=async he=>{let{assetCid:be,name:Ee,groupCid:Ge}=he;if((0,I.Z)())return ee({assetCid:be,name:Ee,groupCid:Ge});try{await(0,h.B7)("/api/library/v3/asset_data/me/assets",{cid,name:Ee,group_cid:Ge})}catch($e){await(0,d.FY)($e)}},ee=async he=>{let{assetCid:be,name:Ee,groupCid:Ge}=he;try{await(0,h.B7)("/api/library/v6/assets",{asset_cid:[be],name:Ee,group_cid:Ge})}catch($e){await(0,d.FY)($e)}},ae=async he=>{let{assetCid:be,name:Ee,groupCid:Ge}=he;try{const $e=await(0,h.B7)("/api/library/v6/assets",{asset_cid:[be],name:Ee,group_cid:Ge});return $e==null?void 0:$e.cid}catch($e){await(0,d.FY)($e)}},ie=async he=>{let{org_cid:be,name:Ee,group_cid:Ge}=he;if((0,I.Z)())return xe({org_cid:be,name:Ee,group_cid:Ge});try{return(0,h.B7)("/api/library/v3/asset_data/org/asset_group_from_user",{user_asset_group_cid,org_cid:be,org_asset_group_cid})}catch($e){await(0,d.FY)($e)}},xe=async he=>{let{org_cid:be,name:Ee,group_cid:Ge}=he;try{return(0,h.B7)("/api/library/v6/asset_groups",{org_cid:be,name:Ee,parent_cid:null,group_cid:Ge,position:-99})}catch($e){await(0,d.FY)($e)}},je=async he=>{(0,I.Z)()?await Re(he):await(0,h.sM)("/api/library/v3/asset_data/me/assets/"+he.cid)},Re=async he=>{await(0,q.uz)("/api/library/v6/assets",{cids:[he.cid]})},ze=async he=>{await(0,q.uz)("/api/library/v6/assets",{cids:[he.cid]})},He=async he=>{(0,I.Z)()?await Ze(he):await(0,h.sM)("/api/library/v3/asset_data/me/asset_groups/"+he)},Ze=async he=>{await(0,h.sM)("/api/library/v6/asset_groups/"+he)},qe=async he=>{await(0,h.sM)("/api/library/v6/asset_groups/"+he)},we=he=>(0,h.iv)("/preferences/update",{...he}),Q=async(he,be)=>{if((0,I.Z)())return Z(he,be);try{return await(0,h.uP)("/api/library/v4/users/asset_groups/"+he,{...be})}catch(Ee){await(0,d.FY)(Ee)}},Z=async(he,be)=>{const Ee=MB.user.solo_org.cid;try{return await(0,h.uP)("/api/library/v6/asset_groups/"+he,{...be,org_cid:Ee})}catch(Ge){await(0,d.FY)(Ge)}},me=he=>async(be,Ee)=>{try{const Ge={...Ee,org_cid:he};return await(0,h.uP)("/api/library/v6/asset_groups/"+be,{...Ge})}catch(Ge){await(0,d.FY)(Ge)}},Se=async(he,be)=>{let Ee=null;try{const Ge=await(0,h.Yo)("/api/community/v1/workspace?category="+he+"&plabel="+be);Ge!=null&&Ge.market_templates&&(Ee=Ge==null?void 0:Ge.market_templates)}catch(Ge){(0,d.$r)()}return Ee},Ne=async(he,be)=>{let Ee=null,Ge=null;try{const $e=await(0,h.DE)("/flpak/ww-p2wsearch?"+he);if($e!=null&&$e.data){const gt=$e.data,{user_flat_assets:Wt,user_flat_asset_groups:Et,org_flat_assets:Ht,org_flat_asset_groups:Kt}=gt.asset||{};return Ee={...gt,asset:{user_assets:Wt,user_asset_groups:Et,org_assets:Ht,org_asset_groups:Kt}},Ge=$e.p2mMMap,{data:Ee,p2mMMap:Ge}}}catch($e){(0,d.$r)({onClick:gt=>gt({type:"entry:search-panel:search:from:keyword",payload:{from:be}})})}},Ke=async he=>{let be=null;try{const Ee=await(0,h.DE)("/flpak/ww-p2meta/"+he);Ee!=null&&Ee.length&&(be=Ee)}catch(Ee){(0,d.$r)()}return be},s=async he=>{let{currentComboPanel:be,projectMetaCid:Ee}=he;try{await(0,h.zi)("/flpak/ww-migrate-"+be+"-combo-group/"+Ee+"?mode=normal")}catch(Ge){await(0,d.FY)(Ge)}},Oe=async he=>{let{projectBasicCid:be}=he;try{const{userId:Ee,flatKey:Ge}=await(0,h.DE)("/api/flat/web_v1/proj2-edit-info?prj2Cid="+be);return{userId:Ee,flatKey:Ge}}catch(Ee){await(0,d.FY)(Ee)}},Je=async he=>{let{projectBasicCid:be,accessToken:Ee,password:Ge}=he;try{const{userId:$e,flatKey:gt}=await(0,h.DE)("/api/flat/web_v1/proj2-preview-info?prj2Cid="+be+"&access_token="+Ee+"&password="+Ge);return{userId:$e,flatKey:gt}}catch($e){await(0,d.FY)($e)}},st=he=>(0,h.DE)("/api/dsh2/web_v1/org_entry/"+he),ft=async he=>{const{project:be}=await(0,h.DE)("/api/dashboard/v5/projects/"+he);return be},yt=async he=>(0,h.DE)("/api/upper/web_v1/basics/statstics/"+he),dt=async()=>{try{const{result:he}=await(0,h.DE)("/api/community/v1/community/scene_tag_labels?label_type=combo_group");return he}catch(he){console.log(he)}},_t=async he=>{try{const{stickers:be}=await(0,h.zi)("/api/community/v1/sticker_search_es",{q:he,page:1,page_size:200});return be}catch(be){return console.log(be),[]}}},52781:(Me,de,n)=>{"use strict";if(n.d(de,{$r:()=>O,$z:()=>U,Aq:()=>oe,Cp:()=>R,Jv:()=>r,PJ:()=>x,Uy:()=>N,Wu:()=>I,X:()=>A,Yk:()=>k,ZF:()=>K,a3:()=>q,je:()=>v,rd:()=>Y}),n.j!=15)var i=n(46795);var h=n(72907),C=n(81811);const d=300,I=async function(g){g===void 0&&(g="");const c=1;let y=[];try{const b=await(0,i.Yo)("/api/community/v1/workspace/my_star?page="+c+(g&&"&category="+g)+"&page_size="+d);b&&(y=b==null?void 0:b.market_templates.filter(M=>(M==null?void 0:M.version)!=="v1"))}catch(b){(0,h.$r)()}return y.map(b=>({...b,is_star:!0}))},q=async g=>{await(0,i.Ds)("/api/community/v1/market_template/star/"+g)},U=async g=>{await(0,i.DW)("/api/community/v1/market_template/star/"+g)},k=async function(g,c){c===void 0&&(c=!0);let y;try{y=await(0,i.DE)("/api/community/v1/market_template/"+g)}catch(b){c&&(0,h.ai)(b)}return y},A=function(g){return g===void 0&&(g=""),(0,i.rh)("/api/community/v1/market_template?is_from_workspace=true&page="+1+g+"&page_size="+d)},N=async()=>{let g;try{g=await(0,i.DE)("/flpak/ww-p2recent")}catch(c){(0,h.$r)()}return g},O=async()=>{try{return await(0,i.DE)("/api/community/v1/hot_icons")}catch(g){(0,h.$r)()}},oe=async()=>{try{return await(0,i.DE)("/api/community/v1/hot_color_icons")}catch(g){(0,h.$r)()}},$=g=>{let{category:c="combo_group",keyword:y=""}=g;return fetchGetJSON("/api/community/v1/es/basic_resource/search_"+c+"?q="+encodeURIComponent(y))},X={screen_list:"screen",combo_group:"combo",icon_group:"icon",user_combo:"user_combo"},R=g=>{let{projectUpperType:c="",projectUpperCid:y="",itemCid:b=""}=g;return(0,i.Ds)("/api/community/v1/recent_template",{project_upper_type:X[c]||c,project_upper_cid:y,item_cid:b})},Y=async g=>{const{sdkStore:c}=await(0,C.O3)({flpakKey:g});return c},K=async function(g){g===void 0&&(g="mobile");try{return(await(0,i.DE)("/api/market_template/v4/workspace/new_page_types?platform="+g)).types}catch(c){return console.error(c),[]}},r=async function(g){g===void 0&&(g="mobile");try{return await(0,i.DE)("/api/community/v1/workspace/recommend_page?platform="+g)}catch(c){return(0,h.$r)({onClick:y=>y({type:"entry:resources:set:pagePanel:find:update:data",payload:{platformType:g,isReRequest:!0}})}),{}}},v=async g=>{let{platform:c,firstTypeCid:y,secondTypeCid:b=null}=g;const M={first_type_cid:y,second_type_cid:b,platform:c};let L=new URLSearchParams;L=Object.assign(L,M);for(const[S,D]of Object.entries(L))D?D==="default"?L.delete(S):L.set(S,D):L.delete(S);try{return await(0,i.DE)("/flpak/ww-p2pagemkt?"+L.toString())}catch(S){return(0,h.$r)({onClick:D=>D({type:"entry:resources:set:pagePanel:find:update:data",payload:{platformType:c,isReRequest:!0}})}),{}}},x=async()=>{try{const{color_icon_groups:g}=await(0,i.DE)("/api/community/v1/color_icon_groups");return g&&g.length>0?g.reduce((c,y)=>(c[y.source_upper_cid]=y,c),{}):{}}catch(g){return(0,h.$r)(),{}}}},15668:(Me,de,n)=>{"use strict";n.d(de,{Oc:()=>I,Qi:()=>A,jf:()=>q,jn:()=>U,lV:()=>R,tA:()=>k,z9:()=>O});var i=n(51044),h=n(82152),C=n(7290),d=n(57464);const I=(0,i.memo)(Y=>{let{type:K="linear",className:r,disabled:v=!1,size:x="common",corner:g="smooth",forceTheme:c,children:y,onClick:b}=Y;return(0,d.jsx)(h.Yr,{type:K,className:r,disabled:v,size:x,corner:g,forceTheme:c,onClick:b,children:y})}),q=n.j!=15?(0,i.memo)(Y=>{let{type:K="linear",className:r,disabled:v=!1,size:x="common",corner:g="smooth",icon:c,children:y,forceTheme:b,onClick:M}=Y;return(0,d.jsx)(h.hE,{type:K,className:r,disabled:v,size:x,corner:g,icon:c,forceTheme:b,onClick:M,children:y})}):null,U=(0,i.memo)(Y=>{let{className:K,children:r,disabled:v=!1,onClick:x}=Y;return(0,d.jsx)(h.Yr,{type:"primary",size:"common",className:K,disabled:v,onClick:x,children:r})}),k=Y=>{let{className:K,children:r,disabled:v=!1,onClick:x}=Y;return(0,d.jsx)(h.Yr,{type:"secondary",size:"common",className:K,disabled:v,onClick:x,children:r})},A=(0,i.memo)(Y=>{let{className:K,children:r,disabled:v=!1,onClick:x}=Y;return(0,d.jsx)(h.Yr,{type:"danger",size:"common",className:K,disabled:v,onClick:x,children:r})}),N=null,O=n.j!=15?(0,i.memo)(Y=>{let{className:K,children:r,disabled:v=!1,onClick:x}=Y;return(0,d.jsx)(h.Yr,{type:"link",className:K,disabled:v,onClick:x,children:r})}):null,oe=null,$=null,X=null,R=n.j!=15?(0,i.memo)(Y=>{let{className:K,isLoading:r=!1,children:v,disabled:x=!1,corner:g="soft",onClick:c}=Y;return(0,d.jsx)(h.hE,{type:"secondary",size:"tiny",corner:g,className:K,icon:r?(0,d.jsx)(C.C,{name:"general/loading",className:"btn-loading"}):null,disabled:x,onClick:c,children:v})}):null},82152:(Me,de,n)=>{"use strict";n.d(de,{Yr:()=>U,hE:()=>k,in:()=>q});var i=n(21676),h=n(93839),C=n(15388),d=n(54909);const I=(A,N)=>{const O=A.forceTheme;return O?d.f[N]["value_"+O]:A.theme[N]},q=(0,i.AH)(["line-height:18px;&[class*='type-primary']{color:",";background:",";border:1px solid transparent;&:hover:not([class*='is-disabled']){background:",";border:1px solid transparent;}&:active:not([class*='is-disabled']){background:",";border:1px solid transparent;}&[class*='is-disabled']{color:",";background:",";border:1px solid transparent;}}&[class*='type-secondary']{color:",";background:",";border:1px solid ",";&:hover:not([class*='is-disabled']){background:",";border:1px solid ",";}&:active:not([class*='is-disabled']){background:",";border:1px solid ",";}&[class*='is-disabled']{color:",";background:",";border:1px solid ",";}}&[class*='type-danger']{color:",";background:",";border:1px solid transparent;&:hover:not([class*='is-disabled']){background:",";border:1px solid transparent;}&:active:not([class*='is-disabled']){background:",";border:1px solid transparent;}&[class*='is-disabled']{color:",";background:",";border:1px solid transparent;}}&[class*='type-text']{color:",";background:transparent;border:1px solid transparent;&:hover:not([class*='is-disabled']){background:",";border:1px solid transparent;}&:active:not([class*='is-disabled']){background:",";border:1px solid transparent;}&[class*='is-disabled']{color:",";background:transparent;border:1px solid transparent;}}&[class*='size-tiny']{max-height:28px;font-size:12px;line-height:14px;padding:6px 8px;.btn-icon-text-container{min-width:46px;}}&[class*='size-common']{max-height:32px;font-size:13px;padding:6px 10px;.btn-icon-text-container{min-width:58px;}}&[class*='size-medium']{max-height:32px;font-size:13px;padding:6px 12px;.btn-icon-text-container{min-width:70px;}}&[class*='is-disabled']{opacity:1;}"],A=>I(A,"color_text_btn"),A=>I(A,"color_btn_primary_normal"),A=>I(A,"color_btn_primary_hover"),A=>I(A,"color_btn_primary_clicked"),A=>I(A,"color_text_disabled02"),A=>I(A,"color_btn_primary_disabled"),A=>I(A,"color_text_L1"),A=>I(A,"color_bg_white"),A=>I(A,"color_bg_border_02"),A=>I(A,"color_btn_secondary_hover"),A=>I(A,"color_bg_border_02"),A=>I(A,"color_btn_secondary_active"),A=>I(A,"color_bg_border_02"),A=>I(A,"color_text_disabled01"),A=>I(A,"color_bg_white"),A=>I(A,"color_bg_border_02"),A=>I(A,"color_text_btn"),A=>I(A,"color_btn_danger_normal"),A=>I(A,"color_btn_danger_hover"),A=>I(A,"color_btn_danger_clicked"),A=>I(A,"color_text_disabled02"),A=>I(A,"color_btn_danger_disabled"),A=>I(A,"color_text_L1"),A=>I(A,"color_btn_secondary_hover"),A=>I(A,"color_btn_secondary_active"),A=>I(A,"color_text_disabled01")),U=(0,i.Ay)(h.A).withConfig({displayName:"styles__StyledProtoButton",componentId:"sc-1pmgkeq-0"})(["",";"],q),k=(0,i.Ay)(C.A).withConfig({displayName:"styles__StyledProtoIconButton",componentId:"sc-1pmgkeq-1"})(["",";"],q)},60081:(Me,de,n)=>{"use strict";n.d(de,{s:()=>D,A:()=>L});var i=n(74059),h=n(51044),C=n(86634),d=n.n(C),I=n(67231),q=n.n(I),U=n(11334),k=n(19418),A=n(7775),N=n(7290),O=n(11777),oe=n(89535),$=n(73773),X=n(57465),R=n(21676),Y=n(17084);const K=(0,R.DU)([".no-pointer-events{pointer-events:none;user-select:none;&.col-resize{cursor:",";}&.row-resize{cursor:",";}}"],Y.M.ewResizeActive,Y.M.nsResizeActive),r=R.Ay.label.withConfig({displayName:"styles__StyledInputNumber",componentId:"sc-1hqayf3-0"})(['position:relative;display:flex;justify-content:space-between;align-items:center;min-width:2em;border:1px solid transparent;font-family:-apple-system,system-ui,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;height:28px;font-size:12px;border-radius:6px;overflow:hidden;.title{display:flex;align-items:center;justify-content:center;padding:0 3px 0 5px;width:max-content;height:100%;user-select:none;color:',";&.title-cursor{&.col-resize{cursor:",";}&.row-resize{cursor:",";}}}.left-title{padding:0 13px 0 0;}.normal-right{margin-left:","px;}input{color:",";width:100%;height:100%;margin-left:8px;cursor:default;}.text-align-right{text-align:right;padding-right:2px;}.suffix{position:absolute;top:0;display:flex;align-items:center;height:100%;pointer-events:none;user-select:none;width:100%;color:",";&::before{content:attr(data-value);display:inline-block;margin-right:0.125em;width:fit-content;overflow:hidden;opacity:0;}}.action{position:absolute;top:0;right:0;width:14px;height:100%;text-align:center;visibility:hidden;svg{height:4px;fill:currentColor;fill-rule:evenodd;}button{display:block;margin:0;padding:0;width:100%;height:50%;line-height:0;color:",";&.no-transition{transition:none;}&:hover{color:",";}&:active{color:",";}&[data-action=up] svg{margin:5px 0 2px;}&[data-action=down] svg{margin:2px 0 5px;}}&.caret{width:26px;svg{width:26px;height:26px;margin-right:0;color:",";}button{height:100%;}&.active{visibility:visible;}}}&.is-disabled{> *{color:",";cursor:not-allowed;}}&.is-readOnly{pointer-events:none;.action{visibility:hidden;}}&:hover:not(.has-menu):not(.is-disabled){border:1px solid ",";.action{visibility:visible;color:#c8cdd0;}}&.is-active:not(.has-menu):not(.is-disabled){border:1px solid ",";outline:1px solid ",";outline-offset:-2px;.action{&:not(.caret){visibility:visible;}}}&.is-active-title{border:1px solid ",";outline:1px solid ",";outline-offset:-2px;cursor:pointer;}&.has-menu{border:1px solid transparent;input{width:calc(100% - 26px);border:1px solid transparent;border-radius:4px 0 0 4px;margin-left:0;padding-left:5px;}&:hover:not(.is-active):not(.is-disabled){border:1px solid ",";.action.caret{visibility:visible;background:",";svg.icon{color:",";}}}&:active:not(.is-active):not(.is-disabled){border:1px solid ",";.action.caret{visibility:visible;background:",";svg.icon{color:",";}}}&.is-active{overflow:visible;input{border:1px solid ",";outline:1px solid ",";position:relative;z-index:2;}.action.caret{visibility:visible;color:#c8cdd0;position:relative;z-index:1;svg.icon{color:",";}&:hover{background:",";border-radius:0 4px 4px 0;outline:1px solid ",";}}}}"],H=>H.theme.color_text_L3,Y.M.ewResize,Y.M.nsResize,H=>31-H.valueLength*6,H=>H.theme.color_text_L1,H=>H.theme.color_text_L2,H=>H.theme.color_text_L3,H=>H.theme.color_text_L2,H=>H.theme.color_text_L2,H=>H.theme.color_text_L3,H=>H.theme.color_text_disabled01,H=>H.theme.color_bg_border_02,H=>H.theme.color_proto,H=>H.theme.color_proto,H=>H.theme.color_proto,H=>H.theme.color_proto,H=>H.theme.color_bg_border_02,H=>H.theme.color_btn_secondary_hover,H=>H.theme.color_text_L1,H=>H.theme.color_bg_border_02,H=>H.theme.color_btn_secondary_active,H=>H.theme.color_text_L1,H=>H.theme.color_proto,H=>H.theme.color_proto,H=>H.theme.color_text_L1,H=>H.theme.color_btn_secondary_hover,H=>H.theme.color_bg_border_02);var v=n(57464);const x=500,g=30,c=(H,re)=>Number(Number(H).toFixed(re));function y(H,re,P){return P===void 0&&(P=0),re?H:c(H!==""&&q()(Number(H))?Number(H):"",P)}const b=function(H,re){let{shiftKey:P,metaKey:W}=H;return re===void 0&&(re=1),P?re*10:W?re*100:re},M=H=>{let{currentTarget:re}=H;return setTimeout(()=>re.select(),50)};class L extends h.PureComponent{constructor(re){super(re),(0,i.A)(this,"setElemRef",P=>this.$title=P),(0,i.A)(this,"setLabelRef",P=>this.$label=P),(0,i.A)(this,"setInputRef",P=>this.$input=P),(0,i.A)(this,"onChange",P=>{const{target:{value:W}}=P,{isEditing:ee}=this.state;!ee&&this.setState({isEditing:!0});const ae=W.trim();this.setValue(ae,P)}),(0,i.A)(this,"correctNumber",P=>{const{value:W,min:ee,max:ae,precision:ie,suffix:xe,parser:je}=this.props,Re=je(P,xe),ze=c(Math.min(Math.max(Re,ee),ae),ie);return isNaN(ze)?W:ze}),(0,i.A)(this,"checkValidity",P=>/^\+$/.test(P)?this.canBePositive:/^-$/.test(P)?this.canBeNegative:P===""||isFinite(P)&&this.correctNumber(P)===Number(P)),(0,i.A)(this,"setValue",(P,W,ee)=>{W.persist&&W.persist(),this.setState({value:P},ee)}),(0,i.A)(this,"setConfirmedValue",(P,W)=>this.setValue(P,W,()=>this.onConfirm(W))),(0,i.A)(this,"onConfirm",P=>{const{attr:W,value:ee,precision:ae,onConfirm:ie,shouldCorrectOnConfirm:xe,onlyPreview:je,fontSize:Re,fontFamily:ze,isWRichText:He}=this.props,{value:Ze}=this.state,qe=this.checkValidity(Ze);if(this.props.isDisabled||this.props.disabled)return;P.persist&&P.persist();const Q=this.correctNumber(Ze),Z=isNaN(Q)?ee:Q;let me=Ze===""?ee:qe?/^[+-]$/.test(Ze)?0:je?Math.min(Math.max(Number(Ze),20),400):Number(Ze):Q===c(Ze,ae)?Q:xe?Z:ee||Z;(!qe||Ze==="")&&He&&(me=(0,X.qp)(ze,Re));const Se=me;return this.setState({value:me,isEditing:!1},()=>ie(Se,W,P,Ze))}),(0,i.A)(this,"focusOnInput",P=>{try{const W=P.currentTarget.closest("label").querySelector("input");setTimeout(()=>{W.focus()})}catch(W){console.error(W)}}),(0,i.A)(this,"onStep",async P=>{P.persist(),P.nativeEvent.stopPropagation(),this.handleBeforeChangeValue();const{parser:W,suffix:ee}=this.props,{value:ae}=this.state,ie=W(ae,ee),{action:xe}=P.currentTarget.dataset,je=b(P,this.props.step)*(xe==="up"?1:-1);await this.focusOnInput(P),this.setConfirmedValue(this.correctNumber(ie+je),P),Object.assign(this,{longPressedTimeout:setTimeout(()=>Object.assign(this,{steppingInterval:setInterval(()=>{const{parser:Re,suffix:ze}=this.props,{value:He}=this.state,Ze=Re(He,ze);this.setConfirmedValue(this.correctNumber(Ze+je),P)},g)}),x)})}),(0,i.A)(this,"onRelease",()=>{clearTimeout(this.longPressedTimeout),clearInterval(this.steppingInterval),this.handleAfterChangeValue()}),(0,i.A)(this,"onFocus",P=>{const{attr:W,dontSelectOnFocus:ee,onFocus:ae=ee?void 0:M}=this.props;this.state.isActive||this.setActive(),ae(P,W)}),(0,i.A)(this,"onKeyDown",P=>{const{key:W,currentTarget:ee}=P,{disableKeyboardEvents:ae}=this.props;if(ae&&(W===$._.ArrowUp||W===$._.ArrowDown)){P.preventDefault();return}const ie=W===$._.ArrowUp?"up":W===$._.ArrowDown?"down":W===$._.Enter?"enter":W===$._.Tab?"tab":null,xe=ee instanceof Element&&ee.matches("input");if(ie){if(P.persist&&P.persist(),ie!=="tab"&&P.preventDefault(),xe&&ie==="tab")return this.setInactive(),this.setState({isEditing:!1}),this.onConfirm(P);if(xe&&ie==="enter"){this.onConfirm(P),this.setInactive(),this.setState({isEditing:!1}),this.$input.blur();return}if(xe){const{parser:je,suffix:Re}=this.props,{value:ze}=this.state,He=je(ze,Re),Ze=b(P,this.props.step)*(ie==="up"?1:-1);this.handleBeforeChangeValue(),this.setState({isEditing:!1}),this.setConfirmedValue(this.correctNumber(He+Ze),P)}}}),(0,i.A)(this,"setActive",()=>{this.setState({isActive:!0}),MB&&MB.f&&(MB.f.isInSetting=!0);const{withToolTip:P,onChangeTooltipsHover:W}=this.props;P&&(this.setState({showTooltip:!1}),W&&W(!1))}),(0,i.A)(this,"setInactive",()=>{this.setState({isActive:!1,isEditing:!1}),MB&&MB.f&&(MB.f.isInSetting=!1)}),(0,i.A)(this,"toggleMenu",()=>this.setState({isMenuOpen:!this.state.isMenuOpen})),(0,i.A)(this,"closeMenu",()=>this.setState({isMenuOpen:!1})),(0,i.A)(this,"onSelect",P=>{P.persist();const{attr:W,onConfirm:ee}=this.props,{currentTarget:ae}=P,{value:ie}=ae.dataset;this.setState({value:ie,isEditing:!1},()=>ee(ie,W,P)),this.setInactive(),this.closeMenu()}),(0,i.A)(this,"onClickOutside",P=>{const{target:W}=P,{onClickOutside:ee}=this.props;ee&&!(ee!=null&&ee(P))||W.closest("label")&&this.$label.contains(W)||W.closest(".SelectOption")||(this.onConfirm(P),this.setInactive(),this.setState({isEditing:!1}))}),(0,i.A)(this,"onBlur",async P=>{await this.onConfirm(P),this.setState({isEditing:!1}),this.props.onBlur(P)}),(0,i.A)(this,"handleRectResize",P=>{P.stopPropagation();const{isDisabled:W,disabled:ee,cursorSize:ae,cursorDirection:ie,onResizeMove:xe,onResizeEnd:je,attr:Re}=this.props;if(W||ee)return;const{left:ze,right:He,top:Ze,bottom:qe}=this.$title.getBoundingClientRect();this.lastRecordedClientX=ae==="col-resize"?(ze+He)/2:(Ze+qe)/2,this.lastRecordedValue=Number(this.state.value),this.setState({isTitleActive:!0}),document.querySelector("html").classList.add("no-pointer-events",ae),sdkStore.combineMergeMark("input-number-"+Re),this.handleBeforeChangeValue();const we=Z=>{xe&&xe();const me=(ae==="col-resize"?Z.pageX:Z.pageY)-this.lastRecordedClientX,Se=this.correctNumber(this.lastRecordedValue+(ie?Number(me):-Number(me)));this.setConfirmedValue(Se,Z)},Q=()=>{je&&je(),this.setState({isTitleActive:!1}),document.querySelector("html").classList.remove("no-pointer-events",ae),this.handleAfterChangeValue(),sdkStore.combineMerge("input-number-"+Re),document.removeEventListener("mousemove",we),document.removeEventListener("mouseup",Q)};document.addEventListener("mousemove",we),document.addEventListener("mouseup",Q)}),(0,i.A)(this,"handleChangeCursor",()=>{const{isDisabled:P,disabled:W}=this.props;P||W||this.setState({isCursor:!this.state.isCursor})}),(0,i.A)(this,"handleAfterChangeValue",()=>{const{onAfterChangeValue:P}=this.props;P()}),(0,i.A)(this,"handleBeforeChangeValue",()=>{const{onBeforeChangeValue:P}=this.props;P()}),(0,i.A)(this,"onInputNumberMouseEnter",P=>{const{onMouseEnter:W,withToolTip:ee,onChangeTooltipsHover:ae}=this.props;W(P),this.setState({mouseEntered:!0});const ie=()=>this.setState({showTooltip:!0});ee&&(ae?ae(!0,ie):ie())}),(0,i.A)(this,"onInputNumberMouseLeave",P=>{const{onMouseLeave:W,withToolTip:ee,onChangeTooltipsHover:ae}=this.props;W(P),this.setState({mouseEntered:!1}),ee&&(this.setState({showTooltip:!1}),ae&&ae(!1))}),this.state={prevProps:this.props,value:y(this.props.value,this.props.isNotVerify,this.props.precision),isActive:!1,isMenuOpen:!1,isTitleActive:!1,isCursor:!1,isEditing:!1,showTooltip:!1,mouseEntered:!1},this.lastRecordedClientX=null,this.lastRecordedValue=y(this.props.value,this.props.isNotVerify,this.props.precision),this.toolTipNode=document.getElementById("IBOT_TOOLTIP_ROOT")}static getDerivedStateFromProps(re,P){let{prevProps:W,value:ee}=P;return W.value!==re.value||W.isNotVerify!==re.isNotVerify||W.precision!==re.precision?{prevProps:re,value:y(re.value,re.isNotVerify,re.precision)}:null}componentDidMount(){this.props.isSelect&&(this.$input.select(),this.setState({isActive:!0}))}componentDidUpdate(re){!re.isSelect&&this.props.isSelect&&this.$input.select()}get canBePositive(){return this.props.max>0}get canBeNegative(){return this.props.min<0}render(){const{inputClassName:re,menuClassName:P,className:W="",placeholder:ee,title:ae,rightTitle:ie,cursorSize:xe,suffix:je,actionButton:Re,formatter:ze,optionList:He,canSlidingAdjustment:Ze,readOnly:qe,toolTipContent:we,showCaretIcon:Q,normalRight:Z,isLongTimeHoverForInput:me=!1}=this.props,{value:Se,isActive:Ne,isMenuOpen:Ke,isTitleActive:s,isCursor:Oe,isEditing:Je,showTooltip:st,mouseEntered:ft}=this.state,yt=Se,dt=this.props.isDisabled||this.props.disabled,_t=He&&He.length>0,he=d()(W,"WorkspaceInputNumber",{"is-disabled":dt,"is-active":Ne&&!dt,"is-menu-open":Ke,"is-active-title":s,"can-sliding-adjustment":Ze,"has-menu":_t,"is-readOnly":qe}),be=ee,Ee=String(Se).split(".").join("").length-1,Ge=me?O.A:oe.A;return(0,v.jsx)(Ge,{content:we,direction:"down",children:(0,v.jsxs)(r,{className:he,ref:this.setLabelRef,onMouseDown:_t?void 0:this.setActive,onMouseEnter:this.onInputNumberMouseEnter,onMouseLeave:this.onInputNumberMouseLeave,valueLength:Ee,children:[ae&&(0,v.jsx)("span",{className:d()("title",{"title-cursor":Oe},xe),ref:this.setElemRef,onMouseDown:this.handleRectResize,onMouseEnter:this.handleChangeCursor,onMouseLeave:this.handleChangeCursor,children:ae}),(0,v.jsx)("input",{className:d()(re,{"text-align-right":Z&&!ft&&!Ne}),type:"text",value:Je?yt:ze(yt,je),placeholder:be,ref:this.setInputRef,disabled:dt,onChange:this.onChange,onKeyDown:this.onKeyDown,onKeyUp:this.handleAfterChangeValue,onMouseDown:_t?this.setActive:void 0,onFocus:this.onFocus,onBlur:this.onBlur}),ie&&(0,v.jsx)("span",{className:d()("title","left-title",{"title-cursor":Oe},xe),ref:this.setElemRef,onMouseDown:this.handleRectResize,onMouseEnter:this.handleChangeCursor,onMouseLeave:this.handleChangeCursor,children:ie}),Re&&(0,v.jsx)(S,{hasMenu:_t,onToggleMenu:this.toggleMenu,onStep:this.onStep,onRelease:this.onRelease,showCaretIcon:Q}),_t&&Ke&&(0,v.jsx)(A.V0,{isOpen:Ke,menuClassName:d()("SelectNumberMenu",P),$select:this.$label,optionList:He,value:yt,onChange:this.onSelect,onClose:this.closeMenu}),Ne&&(0,v.jsx)(k.A,{target:document,onMouseDown:(0,k.t)(this.onClickOutside,{capture:!0})})]})})}}(0,i.A)(L,"defaultProps",{unstyled:!1,value:"",placeholder:"",cursorSize:"col-resize",inputClassName:"",menuClassName:"",cursorDirection:!0,step:1,isNotVerify:!1,formatter:(H,re)=>""+H+(re||""),parser:(H,re)=>{const P=H.toString();return re&&P.endsWith(re)?Number(P.slice(0,P.length-re.length)):Number(P)},min:0,max:1/0,isDisabled:!1,disabled:!1,readOnly:!1,actionButton:!0,isSelect:!1,onConfirm:()=>null,onMouseEnter:()=>null,onMouseLeave:()=>null,onAfterChangeValue:()=>null,onBeforeChangeValue:()=>null,onBlur:()=>null,shouldCorrectOnConfirm:!0,precision:0,dontSelectOnFocus:!1,canSlidingAdjustment:!0,isLineHeight:!1,disableKeyboardEvents:!1});const S=(0,h.memo)(H=>{let{hasMenu:re,onToggleMenu:P,onStep:W,onRelease:ee,showCaretIcon:ae}=H;return(0,v.jsxs)(h.Fragment,{children:[re?(0,v.jsx)("div",{className:d()("action caret",{active:ae}),children:(0,v.jsx)(U.Ay,{className:"no-transition",type:"text",tabIndex:"-1",onClick:P,children:(0,v.jsx)(N.C,{name:"common/expand@26"})})}):(0,v.jsxs)("div",{className:"action",children:[(0,v.jsx)(U.Ay,{className:"no-transition",type:"text",tabIndex:"-1","data-action":"up",onMouseDown:W,onMouseLeave:ee,onMouseUp:ee,children:(0,v.jsx)(N.C,{name:"general/triangle_up"})}),(0,v.jsx)(U.Ay,{className:"no-transition",type:"text",tabIndex:"-1","data-action":"down",onMouseDown:W,onMouseLeave:ee,onMouseUp:ee,children:(0,v.jsx)(N.C,{name:"general/triangle_down"})})]}),(0,v.jsx)(K,{})]})}),D=H=>(0,v.jsx)(L,{...H,isLongTimeHoverForInput:!0})},46479:(Me,de,n)=>{"use strict";n.d(de,{Os:()=>N,Tw:()=>O,ft:()=>oe});var i=n(51044),h=n(57464);const C="/mb-static/2308/loading.gif",d="/mb-static/2308/loading-mo.gif",I=($,X)=>X?"."+$:$,q=$=>(0,h.jsx)("img",{className:$.className,alt:"Loading...",src:I($.isMockitt?d:C,$.isHtmlZip)}),U=$=>(0,h.jsx)("img",{className:$.className,alt:"Loading...",src:I(ENV.IS_WONDER_SHARE?d:C,$.isHtmlZip)}),k=$=>(0,h.jsx)("img",{className:$.className,alt:"Loading...",src:I(d,$.isHtmlZip)});var A=n(94947);const N=n.j!=15?(0,i.memo)($=>(0,h.jsx)(q,{...$,isHtmlZip:(0,A.FM)()})):null,O=n.j!=15?(0,i.memo)($=>(0,h.jsx)(U,{...$,isHtmlZip:(0,A.FM)()})):null,oe=(0,i.memo)($=>(0,h.jsx)(k,{...$,isHtmlZip:(0,A.FM)()}))},54608:(Me,de,n)=>{"use strict";n.d(de,{n:()=>N,A:()=>O});var i=n(51044),h=n(86634),C=n.n(h),d=n(7290),I=n(11777),q=n(21676);const U=q.Ay.ol.withConfig({displayName:"styles__StyledNewSlideNav",componentId:"sc-17e9w47-0"})(["display:flex;height:48px;.nav-label{position:relative;height:100%;padding:0 3px;display:flex;align-items:center;justify-content:center;white-space:nowrap;}.nav-item{position:relative;display:flex;flex:none;justify-content:center;align-items:center;color:",";padding:0 3px;cursor:pointer;.nav-underline{position:absolute;display:none;bottom:0;width:70%;border-bottom:2px solid ",";}&:lang(ja){font-size:10px;}&.active{color:",";&:not(:first-child:nth-last-child(1)){.nav-underline{display:inline;}}&.background_active{background-color:transparent;}&.line_active::after{content:'';position:absolute;bottom:0;width:30px;height:2px;background:",";}}&.disabled{color:",";cursor:not-allowed;}&:not(:first-child){}.tabNewIcon{position:absolute;width:30px;top:0;right:3px;path:first-child{fill:#1684fc;}path:last-child{fill:#fff;}}}.nav-item-small:lang(en){font-size:10px;}min-height:48px;padding:0 6px;.nav-item{font-size:13px;&.active{font-weight:bold;}}"],oe=>oe.theme.color_text_L3,oe=>oe.theme.color_text_L1,oe=>oe.theme.color_text_L1,oe=>oe.theme.color_text_L1,oe=>oe.theme.color_text_disabled01);var k=n(57464);const A=(0,i.memo)(oe=>{let{activeIndex:$=0,className:X,layoutV9:R="old",children:Y,onTabChange:K}=oe;return(0,k.jsx)(U,{className:C()(X),children:i.Children.map(Y,(r,v)=>{const x={index:v,active:v===$,onClick:K};return i.cloneElement(r,x)})})}),N=(0,i.memo)(oe=>{let{className:$,index:X,active:R,onClick:Y,label:K,tooltip:r,isNew:v,disabled:x,tempDisabled:g}=oe;const c=()=>{if(x)return g&&MB.notice({text:I18N.Common.feature_is_not_available,type:"warning"}),null;Y(X)},y=(0,k.jsxs)("li",{className:C()("nav-item",{active:R},{disabled:x},$),onClick:c,children:[K&&(0,k.jsxs)("span",{className:"nav-label",children:[K,r&&r]}),v&&(0,k.jsx)(d.C,{name:"design/tab/new",className:"tabNewIcon"})]});return x?(0,k.jsx)(I.A,{content:"\u6682\u4E0D\u5F00\u653E",direction:"down",children:y}):y}),O=A},39719:(Me,de,n)=>{"use strict";n.d(de,{eY:()=>c,At:()=>x,pU:()=>g,DV:()=>y,Ay:()=>v});var i=n(74059),h=n(51044);if(n.j!=15)var C=n(15336);var d=n(72605),I=n(21676);const q=(0,I.DU)(["div.notice-tips-container{z-index:9999;.notice-tips{min-height:38px;p{color:",";}:not(.pure-svg-icon).svg-icon{fill:",";}&.success{.tip-svg{path:nth-child(1){fill:",";}}}&.warning{.tip-svg{path:nth-child(1){fill:",";}}}&.error{.tip-svg{circle{fill:",";}}.button-a{cursor:pointer;}.button-p{margin-left:0;}}&.super{background-color:",";p{margin:0 16px 0 4px;}.times-icon{path{fill:",";}}}}}"],b=>b.theme.color_text_btn,b=>b.theme.color_text_btn,b=>b.theme.color_success,b=>b.theme.color_warning,b=>b.theme.color_error,b=>b.theme.color_error,b=>b.theme.color_text_btn);var U=n(43441),k=n(90503),A=n(37337);const N=I.Ay.div.withConfig({displayName:"styles__StyledNoticeTips",componentId:"sc-1ehf3rt-0"})([".notice-tips{width:100%;height:100%;min-height:38px;padding:8px 16px;display:flex;align-items:center;font-size:14px;color:",";box-shadow:0 2px 8px 0 rgba(0,0,0,0.05),0 4px 12px 0 rgba(0,0,0,0.15);border-radius:6px;p{margin:0 0 0 4px;}&.info{background-color:",";p{margin:0 4px;}a{margin-left:12px;color:#80BCFF;&:hover{color:#A6D2FF;}}}&.success{background:",";box-shadow:0 3px 6px -4px rgba(0,0,0,0.12),0 6px 16px rgba(0,0,0,0.08),0 9px 28px 8px rgba(0,0,0,0.05);border-radius:6px;}&.warning{background-color:",";}&.error{background-color:",";}&.super{background-color:",";}&.loading{background-color:",";.tip-svg{animation:design-ani-spinning 1s infinite linear;fill:rgb(69,70,71);}}@keyframes design-ani-spinning{0%{transform:rotate(0deg);}100%{transform:rotate(359deg);}}.times-icon{width:20px;display:flex;flex-shrink:0;opacity:1;cursor:pointer;transition:opacity 0.15s ease-out;margin-left:16px;align-self:center;&:hover{opacity:1;}}.tip-svg{width:20px;height:20px;}}a{text-decoration:underline;color:",";&:hover{color:",";}}.fade{&-enter{transform:translateY(-50%);opacity:0;}&-enter-active{opacity:1;transform:translateY(0);transition:all 0.15s ease-out;}&-exit{opacity:1;}&-exit-active{opacity:0;transition:opacity 0.25s ease-in-out;}&-exit-done{opacity:0;}}"],A.f.color_bg_white.value_light,A.f.color_btn_secondary_active.value_dark,A.f.color_btn_secondary_active.value_dark,A.f.color_btn_secondary_active.value_dark,A.f.color_btn_secondary_active.value_dark,A.f.color_error.value_light,A.f.color_btn_secondary_active.value_dark,A.f.color_text_link_normal.value_dark,A.f.color_text_link_hover.value_dark);var O=n(57464);const oe={success:"design/toast/success",error:"design/toast/error",warning:"design/toast/warning",super:"design/toast/offline",loading:"design/toast/loading"};class $ extends h.PureComponent{render(){const{isShow:M,type:L,text:S,showClose:D,isReactDom:H,CustomChildComponent:re,svgName:P,onDisappear:W}=this.props;return(0,O.jsx)(N,{children:(0,O.jsx)(U.A,{in:M,timeout:2500,classNames:"fade",unmountOnExit:!0,children:(0,O.jsxs)("div",{className:"notice-tips "+L,children:[P&&(0,O.jsx)(k.C,{name:P,className:"tip-svg",isColorPure:!0}),!P&&L&&oe[L]&&(0,O.jsx)(k.C,{name:oe[L],className:"tip-svg",isColorPure:!0}),(0,O.jsxs)(h.Fragment,{children:[H?S:(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)("p",{dangerouslySetInnerHTML:{__html:S}}),(typeof re=="function"||typeof re=="object")&&(0,O.jsx)(re,{})]}),D&&(0,O.jsx)(k.C,{className:"times-icon",name:"general/times",onClick:W})]})]})})})}}(0,i.A)($,"defaultProps",{isShow:!1,type:"info",showClose:!1,isReactDom:!1,svgName:""});const X=I.Ay.div.withConfig({displayName:"styles__StyledNoticeTipsContainer",componentId:"sc-1ewb7bf-0"})(["position:fixed;left:50%;top:56px;max-width:480px;transform:translateX(-50%);z-index:1052;"]);var R=n(60185);class Y extends h.PureComponent{constructor(M){super(M),(0,i.A)(this,"timerId",null),(0,i.A)(this,"handleDisappear",()=>{typeof this.props.closeCallback=="function"&&this.props.closeCallback()}),this.el=document.createElement("div")}componentDidMount(){document.body.appendChild(this.el),this.props.isShow&&this.updateTimer()}componentDidUpdate(M,L,S){const{isShow:D,id:H}=this.props,{isShow:re,id:P}=M;(H!==P&&D||D&&D!==re)&&this.updateTimer()}updateTimer(){this.timerId&&clearTimeout(this.timerId);const{duration:M}=this.props;this.timerId=M&&setTimeout(this.handleDisappear,M)}componentWillUnmount(){document.body.removeChild(this.el),this.timerId&&clearTimeout(this.timerId)}render(){const{isShow:M,type:L,text:S,showClose:D,isReactDom:H,CustomChildComponent:re,svgName:P,className:W}=this.props;return(0,R.createPortal)(M&&(0,O.jsx)(X,{className:W,children:(0,O.jsx)($,{isShow:M,type:L,showClose:D,onDisappear:this.handleDisappear,isReactDom:H,text:S,CustomChildComponent:re,svgName:P})}),this.el)}}(0,i.A)(Y,"defaultProps",{text:"",isShow:!1,type:"info",showClose:!1,isReactDom:!1,CustomChildComponent:void 0,svgName:"",id:"",duration:2e3,closeCallback:()=>null});const K=Y,r={isShow:!1,text:"",type:"info",showClose:!1,isReactDom:!1,CustomChildComponent:void 0,svgName:"",duration:2e3,id:""};class v extends h.PureComponent{constructor(M){super(M),(0,i.A)(this,"closeCallback",null),(0,i.A)(this,"handleDisappear",()=>{this.setState({isShow:!1}),typeof this.closeCallback=="function"&&this.closeCallback(),this.priority=0}),this.state=r,this.priority=0}componentDidMount(){MB.notice=M=>{let{text:L,type:S="info",CustomChildComponent:D=void 0,duration:H=2e3,showClose:re=!1,isReactDom:P=!1,closeCallback:W=null,priority:ee=0,svgName:ae="",id:ie=Math.random().toString(36).slice(2),isShow:xe=!0}=M;this.priority>ee||(clearTimeout(this.timer),this.setState({isShow:xe,text:L,type:S,showClose:re,id:ie,isReactDom:P,CustomChildComponent:D,svgName:ae,duration:H}),this.closeCallback=W,this.priority=ee)}}componentWillUnmount(){this.setState({isShow:!1})}render(){const{isShow:M,type:L,duration:S,text:D,showClose:H,id:re,isReactDom:P,CustomChildComponent:W,svgName:ee}=this.state;return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(K,{className:"notice-tips-container",isShow:M,type:L,text:D,id:re,duration:S,showClose:H,isReactDom:P,CustomChildComponent:W,svgName:ee,closeCallback:this.handleDisappear}),(0,O.jsx)(q,{})]})}}const x=b=>(0,h.memo)(()=>{const M=()=>(0,C.JW)("/hc/articles/393","_blank","noreferrer");return(0,O.jsx)("a",{style:{cursor:"pointer"},onClick:M,children:b})}),g=n.j!=15?(0,h.memo)(()=>{const b=(0,d.wA)(),M=()=>b({type:"toolbar:sharingManager:open"});return(0,O.jsx)("a",{onClick:M,children:I18N.ScreenPanel.share_panel})}):null,c=b=>(0,h.memo)(()=>{const M=()=>(0,C.JW)(I18N.link.link_article_business_font_state,"_blank","noreferrer");return(0,O.jsx)("a",{className:"button-a",onClick:M,children:b})}),y=b=>{let{onClick:M}=b;return(0,h.memo)(()=>{const L=(0,d.wA)(),S=()=>{M&&M(L)};return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)("a",{className:"button-a",onClick:S,children:I18N.dModule.network_api_error_2}),(0,O.jsx)("p",{className:"button-p",children:I18N.dModule.network_api_error_3})]})})}},3895:(Me,de,n)=>{"use strict";n.d(de,{FU:()=>d,OO:()=>U,Z8:()=>h,au:()=>q,lY:()=>I,p_:()=>C,zB:()=>i});const i={OWNER:1e4,SUPERMANAGER:9999,MANAGER:999,MEMBER:99,LIMITER:10,VIEWER:9,BANNED:1,UNKNOWN:0,UNJOINED:-1},h={space_owner:16,space_manager:15,space_member:14,space_viewer:13,space_limiter:12,team_owner:11,team_manager:10,team_member:9,team_viewer:8,project_owner:6,project_manager:5,project_member:4,project_viewer:3,project_ban_viewer:2,project_team_owner:1,team_ban_viewer:1},C={org_owner:i.OWNER,org_manager:i.SUPERMANAGER,org_admin:i.MANAGER,org_member:i.MEMBER,org_viewer:i.VIEWER},d={space_owner:i.MANAGER,space_manager:i.MANAGER,space_member:i.MEMBER,space_viewer:i.VIEWER,space_limiter:i.LIMITER},I={team_owner:i.MANAGER,team_manager:i.MANAGER,team_member:i.MEMBER,team_viewer:i.VIEWER,team_none:i.VIEWER,team_ban_viewer:i.BANNED},q=Object.assign({project_owner:i.MANAGER,project_team_owner:i.MANAGER,project_manager:i.MANAGER,project_member:i.MEMBER,project_viewer:i.VIEWER,project_none:i.VIEWER,project_ban_viewer:i.BANNED},I),U={space_owner:"project_manager",space_manager:"project_manager",space_member:"project_member",space_viewer:"project_viewer",team_owner:"project_manager",team_manager:"project_manager",team_member:"project_member",team_viewer:"project_viewer",team_ban_viewer:"project_ban_viewer",team_none:"project_viewer",project_owner:"project_manager"},k={space_owner:"team_manager",space_manager:"team_manager",space_member:"team_member",space_viewer:"team_viewer",team_none:"team_viewer",team_owner:"team_manager"}},96510:(Me,de,n)=>{"use strict";n.d(de,{s:()=>O});var i=n(46795);const h=async(oe,$)=>{const{project:X}=await(0,i.zi)("/api/dashboard/v5/projects/"+oe+"/invite",$);return X},C=async(oe,$)=>(0,i.SN)("/api/dashboard/v5/permissions/projects/"+oe,$),d=async(oe,$)=>{await(0,i.uz)("/api/dashboard/v5/permissions/projects/"+oe,$)};var I=n(15573),q=n(61654),U=n(50378);const k=async(oe,$)=>await(0,i.DE)("/api/dashboard/v5/spaces/"+oe+"?org_cid="+$),A={project_manager:"\u7684\u6743\u9650\u53D8\u4E3A\u300C\u7BA1\u7406\u5458\u300D",project_member:"\u7684\u6743\u9650\u53D8\u4E3A\u300C\u53EF\u7F16\u8F91\u300D",project_viewer:"\u7684\u6743\u9650\u53D8\u4E3A\u300C\u4EC5\u67E5\u770B\u300D",project_ban_viewer:"\u7684\u6743\u9650\u53D8\u66F4\u4E3A\u300C\u7981\u6B62\u67E5\u770B\u300D"};let N=function(oe){return oe.Org="org",oe.OrgSpace="space",oe.Folder="folder",oe.Project="project",oe}({});const O={"entry:projectAccess:initProjectData":async(oe,$)=>{let{getState:X,dispatch:R}=oe,{payload:Y}=$;try{const{initData:K,members:r}=Y,v=K==null?void 0:K.org,{user:x,space:g,project:c,team:y,top_parent_team:b,lang:M}=K||{},L=new Map,S=new Map;return L.set(y==null?void 0:y.cid,y),L.set(b==null?void 0:b.cid,b),y!=null&&y.parent_cid&&(y==null?void 0:y.parent_cid)!==b.cid&&L.set(y==null?void 0:y.parent_cid,b),S.set(c==null?void 0:c.cid,c),R({type:U.X2.UpdateState,payload:{user:x,org:{...v,members:r},space:g,folderListMap:L,projectListMap:S,lang:M}}),!0}catch(K){return console.error(K.message),!1}},"entry:projectAccess:inviteOrgMemberToProject":async(oe,$)=>{let{getState:X,dispatch:R}=oe,{payload:Y}=$;const{projectCid:K,userCid:r,roleName:v,userName:x}=Y;if(!K||!r)return;const g=X(),c=(0,q.IE)(g),y=(0,q.M0)(g),b=(0,q._B)(g);try{const M=await h(K,{user_cid:r,role:v}),{space:L}=await k(y,c);b.set(M.cid,M),await R({type:U.X2.UpdateProjectListMap,payload:new Map(b)}),await R({type:U.X2.UpdateSpace,payload:L}),window.top.postMessage({type:"updateApp",data:{newApp:(0,I.A)(M)}},"*"),window.top.postMessage({type:"successMsg",data:{msg:{name:x,other:A[v]}}},"*")}catch(M){window.top.postMessage({type:"errMsg",data:{msg:"\u6743\u9650\u66F4\u6539\u5931\u8D25"}},"*")}},"entry:projectAccess:updateMemberProjectPermission":async(oe,$)=>{let{getState:X,dispatch:R}=oe,{payload:Y}=$;const{projectCid:K,userId:r,roleName:v,userName:x}=Y,g=X();try{const{permission:c}=await C(K,{target_role:v,target_user_id:r}),y=(0,q._B)(g),b=y.get(K),M=(b==null?void 0:b.permissions)||[],L=M.find(H=>Number(H.user_id)===Number(r));let S=[];L?S=M.map(H=>Number(H.user_id)===Number(r)?c:H):S=[...M,c];const D={...b,permissions:S};y.set(K,D),await R({type:U.X2.UpdateProjectListMap,payload:new Map(y)}),window.top.postMessage({type:"updateApp",data:{newApp:(0,I.A)(D)}},"*"),window.top.postMessage({type:"successMsg",data:{msg:{name:x,other:A[v]}}},"*")}catch(c){window.top.postMessage({type:"errMsg",data:{msg:"\u6743\u9650\u66F4\u6539\u5931\u8D25"}},"*")}},"entry:projectAccess:removeProjectMemberPermission":async(oe,$)=>{let{getState:X,dispatch:R}=oe,{payload:Y}=$;const{projectCid:K,userId:r,roleName:v,userName:x}=Y,g=X();try{await d(K,{target_role:v,target_user_id:r});const c=(0,q._B)(g),y=c.get(K),b=(y==null?void 0:y.permissions)||[];if(b.find(L=>Number(L.user_id)===Number(r))){const L=b.filter(D=>Number(D.user_id)!==Number(r)),S={...y,permissions:L};c.set(K,S),await R({type:U.X2.UpdateProjectListMap,payload:new Map(c)}),window.top.postMessage({type:"successMsg",data:{msg:{name:x,other:"\u7684\u6743\u9650\u5DF2\u79FB\u9664"}}},"*"),window.top.postMessage({type:"updateApp",data:{newApp:(0,I.A)(S)}},"*")}}catch(c){window.top.postMessage({type:"errMsg",data:{msg:"\u6743\u9650\u66F4\u6539\u5931\u8D25"}},"*")}}}},50378:(Me,de,n)=>{"use strict";n.d(de,{Ay:()=>d,X2:()=>h});const i={user:{id:0,user_id:"",user_cid:"",email:"",is_viewer:!1,name:"",mobile:null,avatar:""},org:{name:"",cid:"",logo:null,spaces:[],plan:"",trial_end_on:null,next_billing_on:"",settings:{},permissions:[],limitation:{is_export_watermark:!1,is_org_quit_transfer:!0,is_org_recent:!0,max_mkt_count:0,max_org_log_days:0,max_pic_bytes:0,max_project_count:0,max_project_share_count:0,max_project_template_count:0,max_project_version_count:0,max_recycler_days:0,max_screen_count:0,storage:0},members:[]},space:{cid:"",created_at:"",deleted:!1,name:"",org_cid:"",permissions:[],space_type:"",updated_at:"",user_id:0,is_disable_banned_viewer:!0},folderListMap:new Map,projectListMap:new Map,lang:"zh-CN"};let h=function(I){return I.UpdateState="reducer:update:user",I.UpdateUser="reducer:update:user",I.UpdateOrg="reducer:update:org",I.UpdateSpace="reducer:update:space",I.UpdateFolderListMap="reducer:update:folderListMap",I.UpdateProjectListMap="reducer:update:projectListMap",I}({});const d=function(I,q){I===void 0&&(I=i);const{type:U,payload:k}=q;switch(U){case h.UpdateState:return{...I,...k};case h.UpdateUser:return{...I,user:{...I.user,...k}};case h.UpdateOrg:return{...I,org:{...I.org,...k}};case h.UpdateSpace:return{...I,space:{...I.space,...k}};case h.UpdateFolderListMap:return{...I,folderListMap:k};case h.UpdateProjectListMap:return{...I,projectListMap:k};default:return I}}},61654:(Me,de,n)=>{"use strict";n.d(de,{IE:()=>q,M0:()=>N,WR:()=>d,XW:()=>oe,_B:()=>$,cb:()=>X,hG:()=>K,iF:()=>O,il:()=>A,kG:()=>k,oV:()=>Y,q7:()=>v,wA:()=>I,yZ:()=>R});var i=n(63686),h=n(59318),C=n(37673);const d=x=>{var g;return(g=x.projectAccess.user)==null?void 0:g.user_id},I=x=>x.projectAccess.org,q=x=>{var g;return((g=x.projectAccess.org)==null?void 0:g.cid)||""},U=x=>{var g;return((g=x.projectAccess.org)==null?void 0:g.members)||[]},k=x=>{var g;return((g=x.projectAccess.org)==null?void 0:g.permissions)||[]},A=x=>x.projectAccess.space,N=x=>x.projectAccess.space.cid,O=x=>x.projectAccess.space.permissions||[],oe=x=>x.projectAccess.folderListMap||new Map,$=x=>x.projectAccess.projectListMap||new Map,X=(0,i.Mz)(d,k,(x,g)=>(0,h.oE)({userId:x,orgPermissions:g})),R=(0,i.Mz)(d,O,(x,g)=>(0,h.sq)({userId:x,spacePermissions:g})),Y=(0,i.Mz)(O,x=>{const g=(0,h.Rc)(x);return x.reduce((c,y)=>{const{user_id:b}=y,M=(0,h.CF)({userId:b,permissionsMap:g,permissionScope:C.W.OrgSpace});return c.set(Number(b),M)},new Map)}),K=(0,i.Mz)(O,x=>x.filter(c=>c.role==="space_limiter").reduce((c,y)=>{const{user_id:b}=y;return c.set(Number(b),y)},new Map)),r=(0,i.Mz)(U,x=>x.reduce((g,c)=>{const{user_id:y,user_cid:b,email:M,mobile:L}=c;return y&&b?g.set(Number(y)||y,{...c}):(M&&g.set(M,{...c}),L&&g.set(L,{...c}),g)},new Map)),v=(0,i.Mz)(k,r,(x,g)=>x.reduce((c,y)=>{const{user_id:b,unsign_remark:M}=y,L=b||M,S=g.get(L)||{},D=(0,h.Sc)(y);return c.set(L,{...S,permission:D})},new Map))},37673:(Me,de,n)=>{"use strict";n.d(de,{W:()=>i,p:()=>h});let i=function(C){return C.Org="org",C.OrgSpace="space",C.Folder="folder",C.Project="project",C}({}),h=function(C){return C.OrgSpace="orgspace-permission-tip",C.OrgSpaceLimiter="orgspace-limiter-permission-tip",C.RootFolder="root-folder-permission-tip",C.SubFolder="sub-folder-permission-tip",C.Project="project-permission-tip",C}({})},15573:(Me,de,n)=>{"use strict";n.d(de,{A:()=>d,u:()=>C});var i=n(63924),h=n.n(i);const C=(I,q)=>{if(!(I!=null&&I.cid))return-1;let U=0,k="",A=I;for(;A&&!A.root_project&&(U=U+1,k=A.parent_cid,!!k);)A=q.get(k);return U};function d(I){return I&&Object.entries(I).reduce((q,U)=>{let[k,A]=U;return Object.assign(q,{[h()(k)]:A})},{})}},44367:(Me,de,n)=>{"use strict";n.d(de,{HZ:()=>C,rA:()=>I});var i=n(39547),h=n(67029);const C=q=>{const U={pt_total_seats:10,pt_bindings:[],ptlt_total_seats:0,ptlt_bindings:[],bx_total_seats:10,bx_bindings:[]},{pt_total_seats:k,pt_bindings:A,ptlt_total_seats:N,ptlt_bindings:O,bx_total_seats:oe,bx_bindings:$}=q||U;return{plTotalSeats:N,pTotalSeats:k,pBindings:A,plBindings:O,bTotalSeats:oe,bBindings:$}},d=(q,U)=>{const{pBindings:k,plBindings:A,bBindings:N}=C(q),O=A.includes(U),oe=k.includes(U),$=N.includes(U);return{isPLSeat:O,isPSeat:oe,isBSeat:$}},I=(q,U)=>{if(!q)return{protoSeat:!1,bomxSeat:!1};if(q.otype==="personal")return{protoSeat:!0,bomxSeat:!0};const k=i.t.InitialOrg(q),A=k.planSdk.getIsDefaultFreeOrg(),N=k.planSdk.getOrgStatus()===h._E.Trial;if(A||N)return{protoSeat:!0,bomxSeat:!0};const{pTotalSeats:O,bTotalSeats:oe,plTotalSeats:$}=C(q),{isPLSeat:X,isPSeat:R,isBSeat:Y}=d(q,U);return{protoSeat:O>0||$>0?X||R:!0,bomxSeat:oe>0?Y:!0}}},59318:(Me,de,n)=>{"use strict";n.d(de,{CF:()=>K,CZ:()=>d,Cj:()=>N,Rc:()=>Y,Sc:()=>U,oE:()=>O,ox:()=>q,pf:()=>R,sq:()=>oe});var i=n(3895),h=n(37673);const C=function(r,v,x){return x===void 0&&(x=!1),{level:r,roleName:v,isInherited:x,isOwner:r>=i.zB.OWNER,isSuperManager:r>=i.zB.SUPERMANAGER,isManager:r>=i.zB.MANAGER,isMember:r>=i.zB.MEMBER,isViewer:r>=i.zB.VIEWER,isLimiter:r===i.zB.LIMITER,isBanned:r===i.zB.BANNED,isUnknown:r===i.zB.UNKNOWN}},d=C(i.zB.UNKNOWN),I=C(i.zB.UNJOINED),q=(r,v)=>{if(!v||v.length<=0)return null;const x=v.find(g=>{let{user_id:c,unsign_remark:y}=g;return Number(c)===Number(r)||y===r});return x||null},U=r=>r?C(i.p_[r.role],r.role):C(i.zB.UNKNOWN),k=(r,v)=>{if(!r)return[];let x=[],g=r,c=v.get(g);for(;c&&!c.root_project;)x=x.concat(c.permissions),g=c.parent_cid,c=v.get(g);return x},A=(r,v,x)=>{let g=k(r,v);return g=g.concat(x).reverse(),g=g.filter(c=>c.role!=="space_limiter"),g.map(c=>{const y=folderInheritePermissionRoleFixMap[c.role];return y?{...c,role:y,inherited:!0}:{...c,inherited:!0}})},N=(r,v,x)=>{let g=k(r,v);return g=g.concat(x).reverse(),g=g.filter(c=>c.role!=="space_limiter"),g.map(c=>{const y=i.OO[c.role];return y?{...c,role:y,inherited:!0}:{...c,inherited:!0}})},O=r=>{const{orgPermissions:v,userId:x}=r;if(!x||!v||v.length<1)return C(i.zB.UNKNOWN);const g=q(x,v);return g?C(i.p_[g.role],g.role):C(i.zB.UNKNOWN)},oe=r=>{const{spacePermissions:v,userId:x}=r;if(!x||!v||v.length<1)return C(i.zB.UNKNOWN);const g=q(x,v);return g?C(i.FU[g.role],g.role):C(i.zB.UNKNOWN)},$=r=>{const{userId:v,orgPermissions:x,spacePermissions:g,currentFolder:c,folderListMap:y}=r;if(!v||!c)return C(permissionLevels.UNKNOWN);const{org_cid:b,space_cid:M}=c;if(!b&&!M)return C(permissionLevels.OWNER,"team_owner");if(!g||g.length<1)return C(permissionLevels.UNKNOWN);const{isRoot:L,root_project:S}=c;if(L||S){const W=oe({spacePermissions:g,userId:v});return W.roleName==="space_limiter"?{...O({orgPermissions:x,userId:v}),isLimiter:!0}:W}const D=c.permissions||[],H=A(c.parent_cid,y,g),re=Object.values(Object.fromEntries([...H,...D].map(W=>[W.user_id,W]))),P=q(v,re);return P?C(folderPermissionLevelsMap[P.role],P.role,P.inherited):C(permissionLevels.UNKNOWN)},X=r=>{const{userId:v,spacePermissions:x,currentProject:g,folderListMap:c}=r;if(!v||!g)return C(permissionLevels.UNKNOWN);const{space_cid:y}=g;if(!y)return C(permissionLevels.OWNER,"project_owner");if(!x||x.length<1)return C(permissionLevels.UNKNOWN);const b=g.permissions||[],M=N(g.team_cid,c,x),L=Object.values(Object.fromEntries([...M,...b].map(D=>[D.user_id,D]))),S=q(v,L);return S?C(projectPermissionLevelsMap[S.role],S.role,S.inherited):C(permissionLevels.UNKNOWN)},R=function(r,v,x){return x===void 0&&(x=!1),v?typeof v[r]<"u"?C(v[r],r,x):C(i.zB.UNJOINED):C(i.zB.UNKNOWN)},Y=r=>!r||r.length<1?new Map:r.reduce((v,x)=>v.set(Number(x.user_id),x),new Map),K=r=>{const{permissionsMap:v,userId:x,permissionScope:g}=r;if(!x||!v||v.size<1)return C(i.zB.UNKNOWN);const{role:c,inherited:y}=v.get(Number(x))||{};if(!c)return C(i.zB.UNKNOWN);let b=null;switch(g){case h.W.Org:b=i.p_;break;case h.W.OrgSpace:b=i.FU;break;case h.W.Folder:b=i.lY;break;case h.W.Project:b=i.au;break;default:break}return R(c,b,y)}},53159:(Me,de,n)=>{"use strict";n.d(de,{A:()=>r});var i=n(51044),h=n(21676),C=n(66748),d=n.n(C),I=n(98236),q=n.n(I),U=n(28149);const k=h.Ay.label.withConfig({displayName:"styled__StyledLabel",componentId:"sc-1pwp3tx-0"})(["position:relative;display:inline-flex;align-items:baseline;line-height:1.5;cursor:pointer;color:#5b6b73;> input[type=radio]{position:absolute;opacity:0;}&.regular{font-size:14px;}&.small{font-size:12px;.Check-state{transform:translateY(2px);}}&.readonly{cursor:default;}&.is-disabled{cursor:not-allowed;&::after{content:'';position:absolute;left:0;top:0;width:100%;height:100%;background-color:rgba(255,255,255,0.5);}}.Check-state{position:relative;flex:0 0 1em;margin-right:0.33333em;width:1em;height:1em;transform:translateY(1px);font-size:12px;background-color:#f6f7f8;border:1px solid #8d9ea7;border-radius:2px;color:#fff;.svg-icon.check{position:absolute;top:-1px;left:-1px;opacity:0;}}&.small .Check-state{transform:translateY(2px);}&.CoreRadio,&.Radio{&.is-checked{.Check-state{background-color:#298df8;border-color:transparent;color:#fff;.svg-icon.check{transform:scale(0.833);}}}}&:not(.is-checked) .Check-state .icon{speak:none;opacity:0;}&.CoreRadio{.Check-state{background-color:#fff;border-color:#bacdd6;}&.is-checked .Check-state{background-color:#eb5648;}}"]),A=(0,h.Ay)(k).withConfig({displayName:"styled__StyledRadio",componentId:"sc-1pwp3tx-1"})([".Check-state{padding:1px;border-radius:50%;&:after{content:'';position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);display:block;width:4px;height:4px;background-color:#fff;border-radius:50%;}}.is-checked .Check-state{position:relative;}"]),N=h.Ay.span.withConfig({displayName:"styled__StyledRadioGroup",componentId:"sc-1pwp3tx-2"})(["position:relative;display:flex;flex-wrap:wrap;&.is-disabled{cursor:not-allowed;}.Radio,.CoreRadio{margin-right:.5em;min-height:2em;}"]);var O=n(57464);function oe(v,x,g){return(x=$(x))in v?Object.defineProperty(v,x,{value:g,enumerable:!0,configurable:!0,writable:!0}):v[x]=g,v}function $(v){var x=X(v,"string");return typeof x=="symbol"?x:x+""}function X(v,x){if(typeof v!="object"||!v)return v;var g=v[Symbol.toPrimitive];if(g!==void 0){var c=g.call(v,x||"default");if(typeof c!="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(x==="string"?String:Number)(v)}class R extends i.PureComponent{constructor(){super(...arguments),oe(this,"state",{prevProps:this.props,isChecked:this.props.isChecked}),oe(this,"onToggle",()=>{const{name:x,value:g,label:c,onToggle:y,onChange:b}=this.props,{isChecked:M}=this.state,{canToggle:L}=this,S=L?!0:M;this.setState({isChecked:S}),y(S,x,g||c),b(x,g||c,S)})}static getDerivedStateFromProps(x,g){let{prevProps:c,isChecked:y}=g;return q()(c,x)?null:{prevProps:x,isChecked:x.isChecked}}get isDisabled(){const{isDisabled:x,disabled:g}=this.props;return x||g}get readOnly(){return this.props.readOnly}get canToggle(){const{isDisabled:x,readOnly:g}=this;return!x&&!g}render(){const{size:x,theme:g,className:c,label:y,name:b}=this.props,{isChecked:M}=this.state,{isDisabled:L,readOnly:S}=this;return(0,O.jsxs)(A,{className:(0,U.Hn)([g==="core"?"CoreRadio":"Radio",x,c,M&&"is-checked",L&&"is-disabled",S&&"readonly"]),children:[(0,O.jsx)("input",{type:"radio",defaultChecked:M,disabled:L,name:b,onClick:this.onToggle}),(0,O.jsx)("span",{className:"Check-state"}),(0,O.jsx)("span",{className:"Check-label",children:y})]})}}oe(R,"propTypes",{size:d().oneOf(["regular","small"]),theme:d().oneOf(["core","plain"]),className:d().string,label:d().any,name:d().string,value:d().any,isChecked:d().bool,isDisabled:d().bool,disabled:d().bool,readOnly:d().bool,onChange:d().func.isRequired,onToggle:d().func.isRequired}),oe(R,"defaultProps",{size:"regular",theme:"plain",isChecked:!1,label:"",className:"",onChange:()=>null,onToggle:()=>null});class Y extends i.PureComponent{constructor(){super(...arguments),oe(this,"name",this.props.name||Math.random().toString(36).substring(2,15)),oe(this,"state",{prevProps:this.props,value:this.props.value}),oe(this,"createOnChangeHandler",(x,g,c)=>()=>{const{onToggle:y,onChange:b}=this.props,{value:M}=this.state,{canToggle:L}=this,S=L?g:M;this.setState({value:S}),y(S,x),b({name:x,value:S,idx:c})})}static getDerivedStateFromProps(x,g){let{prevProps:c,value:y}=g;return q()(c,x)?null:{prevProps:x,value:x.value}}get isDisabled(){const{isDisabled:x,disabled:g}=this.props;return x||g}get readOnly(){return this.props.readOnly}get canToggle(){const{isDisabled:x,readOnly:g}=this;return!x&&!g}render(){const{size:x,theme:g,className:c,optionList:y}=this.props,{value:b}=this.state,{name:M,isDisabled:L,readOnly:S}=this,D=(0,U.Hn)([g==="core"?"CoreRadioGroup":"RadioGroup",x,c,L&&"is-disabled",S&&"readonly"]);return(0,O.jsx)(N,{className:D,children:y.map((H,re)=>H&&(0,O.jsx)(R,{name:M,size:x,theme:g,label:(0,U.Oi)(H),type:"radio",isChecked:(0,U.o3)(H,b),isDisabled:L||H.isDisabled,readOnly:S,onChange:L||H.isDisabled?void 0:this.createOnChangeHandler(M,(0,U.nE)(H),re)},re))})}}oe(Y,"propTypes",{size:d().oneOf(["regular","small"]),theme:d().oneOf(["core","plain"]),className:d().string,name:d().string,optionList:d().arrayOf(d().oneOfType([d().string,d().number,d().shape({label:d().any,value:d().any,isDisabled:d().bool})])).isRequired,value:d().oneOfType([d().number,d().string]),isDisabled:d().bool,disabled:d().bool,readOnly:d().bool,onChange:d().func.isRequired,onToggle:d().func.isRequired}),oe(Y,"defaultProps",{size:"regular",theme:"plain",className:"",optionList:[],onChange:()=>null,onToggle:()=>null});const K=(0,h.Ay)(Y).withConfig({displayName:"styles__StyledRadioGroup",componentId:"sc-1x96wso-0"})([".Radio{color:",';input[type="radio"]{cursor:pointer;}&.is-checked{color:',";.Check-state{background:",";&::after{background:#fff;}}}&:not(.is-checked){.Check-state{background:",";border:1px solid ",";&::after{background:",";}}}&.is-disabled::after{background-color:",";opacity:0.5;}}"],v=>v.theme.color_text_L2,v=>v.theme.color_text_L1,v=>v.theme.color_proto,v=>v.theme.color_bg_white,v=>v.theme.color_text_disabled01,v=>v.theme.color_bg_white,v=>v.theme.color_bg_white);class r extends i.PureComponent{render(){return(0,O.jsx)(K,{...this.props})}}},86778:(Me,de,n)=>{"use strict";n.d(de,{A:()=>R});var i=n(51044),h=n(21676),C=n(66748),d=n.n(C),I=n(98236),q=n.n(I),U=n(28149);const k=h.Ay.label.withConfig({displayName:"styled__StyledSwitch",componentId:"sc-16h4tgy-0"})(["position:relative;display:inline-block;margin:0 10px;width:28px;height:10px;vertical-align:text-bottom;background:rgba(22,132,252,0.4);border-radius:100px;cursor:pointer;transform:matrix(-1,0,0,1,0,0);transition:all 0.2s ease-in;transition-delay:0.15s;&.readonly{cursor:default;}> button{position:absolute;top:-20%;left:0;display:flex;justify-content:center;align-items:center;width:14px;height:14px;font-size:14px;border-radius:50%;background:#1684FC;box-shadow:0px 1px 1px rgba(0,0,0,0.15),0px 0px 2px rgba(0,0,0,0.12);transform:matrix(-1,0,0,1,0,0);cursor:inherit;transition:all 0.2s cubic-bezier(0.55,0.06,0.68,0.19);}&.small{width:28px;height:10px;vertical-align:baseline;> button{width:14px;height:14px;border-width:1px;}}&.is-checked{background:#dbdbdb;> button{transform:translate(14px,0%);cursor:inherit;background-color:#fff;box-shadow:0px 1px 1px rgba(0,0,0,0.15),0px 0px 2px rgba(0,0,0,0.12);}&.small > button{transform:translate(14px,0);background-color:#999;}&.small{background-color:#59515c;}}&.is-disabled{background-color:#dedee4;cursor:not-allowed;&.is-checked{background-color:rgba(22,132,252,0.4);}button{background-color:#f6f7f8;}}&.Switch-IOS{background:#1684fc;transform:matrix(1,0,0,1,0,0);transition:all 0.2s ease-in;> button{top:1px;left:1px;background:#fff;transform:matrix(1,0,0,1,0,0);}&.small{width:24px;height:12px;border-radius:6px;> button{width:10px;height:10px;border-width:0;}}&.is-checked{&.small > button{transform:translate(12px,0);background-color:#fff;}&.small{background-color:#ccc;}}}&.Switch-IOS-NoTransform{background:#1684fc;transition:all 0.2s ease-in;> button{top:1px;left:1px;background:#fff;transform:matrix(1,0,0,1,0,0);}&.small{width:24px;height:12px;border-radius:6px;> button{width:10px;height:10px;border-width:0;}}&.is-checked{&.small > button{transform:translate(12px,0);background-color:#fff;}&.small{background-color:#ccc;}}}"]);var A=n(57464);function N(Y,K,r){return(K=O(K))in Y?Object.defineProperty(Y,K,{value:r,enumerable:!0,configurable:!0,writable:!0}):Y[K]=r,Y}function O(Y){var K=oe(Y,"string");return typeof K=="symbol"?K:K+""}function oe(Y,K){if(typeof Y!="object"||!Y)return Y;var r=Y[Symbol.toPrimitive];if(r!==void 0){var v=r.call(Y,K||"default");if(typeof v!="object")return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return(K==="string"?String:Number)(Y)}class $ extends i.PureComponent{constructor(){super(...arguments),N(this,"state",{prevProps:this.props,isChecked:this.props.isChecked}),N(this,"toggle",K=>{let{target:r}=K;const{onChange:v}=this.props,{isChecked:x}=this.state,{isDisabled:g,canToggle:c}=this,y=c?!x:x;return r.blur(),this.setState({isChecked:y}),!g&&v(y)})}static getDerivedStateFromProps(K,r){let{prevProps:v}=r;return q()(v,K)?null:{prevProps:K,isChecked:K.isChecked}}get isDisabled(){const{isDisabled:K,disabled:r}=this.props;return K||r}get readOnly(){return this.props.readOnly}get canToggle(){const{isDisabled:K,readOnly:r}=this;return!K&&!r}render(){const{size:K,readOnly:r,className:v,children:x,isIOS:g,isIOSReverse:c}=this.props,{isChecked:y}=this.state,{isDisabled:b}=this;return(0,A.jsxs)(k,{className:(0,U.Hn)(["Switch",g&&"Switch-IOS",c&&"Switch-IOS-NoTransform",K,y?"is-checked":"isnt-checked",b&&"is-disabled",r&&"readonly",v]),children:[(0,A.jsx)("button",{type:"button",disabled:b,onClick:this.toggle}),x]})}}N($,"propTypes",{className:d().string,size:d().oneOf(["regular","small"]),isChecked:d().bool,isDisabled:d().bool,disabled:d().bool,readOnly:d().bool,isIOS:d().bool,isIOSReverse:d().bool,onChange:d().func,children:d().any}),N($,"defaultProps",{className:"",size:"regular",isChecked:!1,isDisabled:!1,disabled:!1,readOnly:!1,isIOS:!1,isIOSReverse:!1,onChange:()=>null});const X=(0,h.Ay)($).withConfig({displayName:"styles__StyledSwitch",componentId:"sc-1wltq4q-0"})(["&.Switch-IOS{background:",";transform:matrix(1,0,0,-1,0,0);margin:0;button{border:unset;background:",";}&.regular{width:30px;height:14px;button{height:12px;width:12px;}}&.is-checked{&.small,&.regular{background:",";button{background:",";}}&.regular  button{transform:translate(15px,0);}}}"],Y=>Y.theme.color_text_disabled01,Y=>Y.theme.color_text_btn,Y=>Y.theme.color_proto,Y=>Y.theme.color_text_btn);class R extends i.PureComponent{render(){return(0,A.jsx)(X,{...this.props})}}},7775:(Me,de,n)=>{"use strict";n.d(de,{it:()=>I,V0:()=>N,mq:()=>A});var i=n(51044),h=n(10481),C=n(21676);const d=(0,C.Ay)(h.Ay).withConfig({displayName:"styled__StyledWorkspaceSelectProto",componentId:"sc-32xdp1-0"})(["&.WorkspaceSelect{padding:0px;border-radius:4px;button{width:auto;display:flex;padding:0 6px;align-items:center;color:",";}.caret{flex-shrink:0;width:26px;display:flex;justify-content:center;align-items:center;padding:0;color:",";svg{width:26px;height:26px;}}&:not(.is-disabled):not(.readonly):hover{border-color:",";button{width:calc(100% - 26px);}.caret{padding:0;color:",";}}&.is-open{border-color:transparent;}}"],O=>O.theme.color_text_L1,O=>O.theme.color_text_L3,O=>O.theme.color_bg_border_02,O=>O.theme.color_text_L1),I="select-menu-width-108",q=(0,C.DU)(["#IBOT_SELECT_MENU_ROOT{.SelectMenuPortal{.menu-animation-select{margin-left:-15px;}.WorkspaceSelectMenu{padding:8px;border-radius:8px;color:",";background:",";box-shadow:",";&.is-open{border:1px solid ",";border-radius:8px;width:176px;max-width:176px;padding:8px;background-color:",";box-shadow:",";.SelectOption{&:not(.empty-msg):not(.is-disabled):hover{background:",";}}}> .divider{border-bottom:1px solid ",";margin:5px;}.SelectOption{border-radius:4px;height:28px;line-height:28px;&.is-active{color:",";}&:not(.empty-msg):not(.is-disabled):not(.is-active):hover{background-color:",";color:",";}}}.menu-animation-select .SelectGroup > .title{color:",";}}.autoFillPanelSelectScreenMenu{margin-left:-138px;margin-top:26px;width:175px;}.bdr-width-input-menu{width:88px;}.arrow-setting-menu{width:78px;}.","{width:108px;}}"],O=>O.theme.color_text_L1,O=>O.theme.color_bg_white,O=>O.theme.shadow_m,O=>O.theme.color_bg_border_01,O=>O.theme.color_bg_white,O=>O.theme.shadow_m,O=>O.theme.color_btn_secondary_hover,O=>O.theme.color_bg_border_01,O=>O.theme.color_text_L1,O=>O.theme.color_btn_secondary_hover,O=>O.theme.color_text_L1,O=>O.theme.color_text_L3,I);var U=n(7290),k=n(57464);class A extends i.PureComponent{render(){return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(d,{...this.props,arrowSvg:(0,k.jsx)(U.C,{className:"triangle-icon",name:"common/expand@26"})}),(0,k.jsx)(q,{})]})}}class N extends i.PureComponent{render(){return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(h.eB,{...this.props}),(0,k.jsx)(q,{})]})}}},24660:(Me,de,n)=>{"use strict";n.d(de,{l:()=>i});const i=function(h,C,d,I){d===void 0&&(d=""),I===void 0&&(I=!1);let q;return h?q={mode:"org",orgCid:h.cid,payEntrance:C,checkoutArea:"proto",checkoutPlace:d||"org_use_vip_mkt"}:q={mode:I?"org":"solo",isSelectOrg:!!I,payEntrance:C,checkoutArea:"proto",checkoutPlace:d||"solo_use_vip_mkt"},q}},64598:(Me,de,n)=>{"use strict";n.d(de,{_:()=>C});var i=n(36820);const h=d=>{let{exposure_reason:I}=d;try{saTrack("trial_watermark_exposure",{exposure_reason:I})}catch(q){console.log(q.message)}},C=d=>{let{click_button:I}=d;try{(0,i.kH)("trial_watermark_click",{click_button:I})}catch(q){console.log(q.message)}}},10286:(Me,de,n)=>{"use strict";n.d(de,{ER:()=>r,J_:()=>X,Or:()=>A,QC:()=>c,X0:()=>Y,Y5:()=>R,aX:()=>g,dJ:()=>oe,g:()=>N,l1:()=>x,wi:()=>k,yq:()=>O});var i=n(26114),h=n(29815),C=n(72907),d=n(46795),I=n(29601),q=n(36521),U=n(57464);const k=async y=>{let{projectCid:b}=y;return(0,d.DE)("/api/upper/web_v1/sharing/initial?cid="+b)},A=async y=>{let{projectCid:b,sharing:M}=y;return(await(0,d.zi)("/api/flat/web_v1/project_share/"+b,{...M})).project_share},N=async y=>{let{projectCid:b,sharingCid:M}=y;try{return await(0,d.OD)("/api/flat/web_v1/project_share/"+M+"?project_cid="+b)}catch(L){await(0,C.FY)(L)}},O=async y=>{let{sharing:b}=y;try{return await(0,d.SN)("/api/flat/web_v1/project_share/"+b.cid,{project_share:b})}catch(M){await(0,C.FY)(M)}},oe=async y=>{try{return await(0,d.DE)("/api/flat/web_v1/preview/visit_count/"+y)}catch(b){console.error(b)}},$=()=>{const y=document.getElementById("workspace");(0,i.createRoot)(y).render((0,U.jsx)(h.A,{locale:(0,I.w)(),errorType:404,customDes:I18N.ToolBar.ReEnter,isShowPrimaryBtn:!1}))},X=async y=>{try{if(!y.accessToken||y.project.access_token===y.accessToken)return R(y.project);{const{project:b,accessToken:M}=y,{project_share:L}=await(0,d.DE)("/api/flat/web_v1/project_share/"+b.cid+"?access_token="+M);return{sharing:{...L,type:"advanced",view_mode:L.device_model}}}}catch(b){await $()}},R=y=>{const{cid:b,access_token:M,access:L,building:S,comment_permission:D,password:H,visibility:re,wechat:P,is_first_canvas_open:W}=y,ee=new URLSearchParams(location.search),ae=ee.get("screen"),ie=ee.get("canvasId"),xe=ee.get("view_mode")||(0,q.Yt)(b+"_default_sharing_view_mode","read_only",q.qW.String),je=ee.get("view_mode")||(0,q.Yt)(b+"_default_sharing_view_mode","read_only",q.qW.String),Re=!!ee.get("selection"),ze=Re?ee.get("selection").split(","):[];return{sharing:{type:"default",project_cid:b,access_token:M,view_access:L,view_sticky:S,comment_permission:D,password:H,visibility:re,wechat:P,view_mode:xe,screen_visible_switch:Re,screen_visible_list:ze,page_begin:ae,canvas_begin:ie,device_model:je,is_first_canvas_open:W}}},Y=async y=>{let{projectCid:b}=y;try{const{project_shares:M}=await(0,d.DE)("/api/flat/web_v1/project_share/"+b+"/all");return M.sort((L,S)=>new Date(S.created_at).getTime()-new Date(L.created_at).getTime())}catch(M){return await(0,C.FY)(M),[]}},K=async y=>{try{const{result:b}=await fetchGetJSON("/api/accesses/v4/project/"+y+"/permission_check?permission=P:update");return b}catch(b){await apiErrorModals(b)}},r=async y=>{let b=null;try{b=await(0,d.DE)("/flpak/ww-p2meta/"+y)}catch(M){await(0,C.FY)(M)}return b},v={access_token:"",comment_permission:"",device_model:"",highlight:!0,password:"",project_cid:"",screen_visible_switch:!1,screen_visible_list:[],shell_type:"device",simulator_type:"device",sticky:!0,view_access:"private",view_count:0,view_prd:!1,wechat:!1,enable_version_record:!1,view_sticky:!0,is_first_canvas_open:!1},x=()=>({sharing:v}),g=async y=>{let b,M;try{b=await(0,d.DE)("/api/upper/web_v1/basics/"+y+"/get_details"),b&&JSON.stringify(b)!=="{}"&&(M=!0)}catch(L){b=L,M=!1}return{result:b,statusOk:M}},c=async y=>{let b,M;try{b=await(0,d.DE)("/api/dsh2/web_v1/permissions/can_edit_check?cid="+y),b&&JSON.stringify(b)!=="{}"&&(M=!0)}catch(L){b=L,M=!1}return{result:b,statusOk:M}}},77180:(Me,de,n)=>{"use strict";n.d(de,{gE:()=>h,nM:()=>i,nQ:()=>C});const i="local_sharing_copy_url_v8_1",h=50,C={public:"share_anyone_view",restricted:"org_members_only"}},40432:(Me,de,n)=>{"use strict";n.d(de,{n:()=>Ai});var i=n(51044),h=n(28055),C=n(96510),d=n(82928),I=n(50378),q=n(30939);const U={cid:"pslj5lho8lkbh1m4",project_cid:"pblj5lho3sfrgsvp",view_access:"restricted",access_token:"bNDBP6orwlnj5R57xaJ4y",password:"",view_count:0,view_prd:!0,screen_visible_switch:!1,screen_visible_list:[],wechat:!1,highlight:!0,sticky:!0,view_sticky:!0,comment_permission:"org_member",link_name:"\u5206\u4EAB",is_default_link:!1,creator_id:2735130,expire_type:"forever",device_model:"read_only",is_first_canvas_open:!1},k=null,A="123",N={projectBasicToken:"BcHc8Xdrrwlnj5pdDxPloA",projectShares:[{cid:"pslj5lho8lkbh1m4",project_cid:"pblj5lho3sfrgsvp",view_access:"restricted",access_token:"bNDBP6orwlnj5R57xaJ4y",password:"",view_count:0,view_prd:!0,screen_visible_switch:!1,screen_visible_list:[],wechat:!1,highlight:!0,sticky:!0,view_sticky:!0,comment_permission:"org_member",link_name:"\u5206\u4EAB",is_default_link:!1,creator_id:2735130,expire_type:"forever",device_model:"bbb"},{cid:"pslj5lho8lkbh1m4",project_cid:"pblj5lho3sfrgsvp",view_access:"restricted",access_token:"bNDBP6orwlnj5R57xaJ4y",password:"",view_count:0,view_prd:!0,screen_visible_switch:!1,screen_visible_list:[],wechat:!1,highlight:!0,sticky:!0,view_sticky:!0,comment_permission:"org_member",link_name:"\u5206\u4EAB",is_default_link:!1,creator_id:2735130,expire_type:"forever",device_model:"bbb"},{cid:"pslj5lho8lkbh1m4",project_cid:"pblj5lho3sfrgsvp",view_access:"restricted",access_token:"bNDBP6orwlnj5R57xaJ4y",password:"",view_count:0,view_prd:!0,screen_visible_switch:!1,screen_visible_list:[],wechat:!1,highlight:!0,sticky:!0,view_sticky:!0,comment_permission:"org_member",link_name:"\u5206\u4EAB",is_default_link:!1,creator_id:2735130,expire_type:"forever",device_model:"bbb"}]},O={owner_id:10,owner_name:"d9",owner_email:"d9@d.dd",owner_avatar:"/images/avatar.png",id:71,limitation:{storage:5e3,exportable:["png","pngs","htmlzip"],encryptable:!0,inspectable:!0,slices:!0,projects:65535,screens:65535,commentable:!0},screens_count:0,cid:"pb2lje6hu9dax5akx",team_cid:"teuaroot",space_cid:null,name:"sharing",type:"proto2",attr:{},created_at:1687863747e3,updated_at:1688043155e3,timestamp:"1688043155",access:"public",access_token:"32vJ5gBXrwws03fxYV0OK2",version:"v3",icon:null,splash:null,width:390,height:844,device:"iphone",model:"iphone_13_pro",scale:100,archived:!1,parent_cid:null,source_upper_cid:null,clones:0,shell_type:"device",password:"",wechat:!1,highlight:!0,preview_option:1,expired:!1,deleted:!1,duplicating:!1,permissions:[{user_id:10,role:"project_owner"}],is_org_project:!1,is_sub_project:!1,runner_mode:"preview",comment_permission:"org_member",tabs:null,visibility:"open",building:"view_sticky"},oe={owner_id:10,owner_name:"d9",owner_email:"d9@d.dd",owner_avatar:"/images/avatar.png",id:71,limitation:{storage:5e3,exportable:["png","pngs","htmlzip"],encryptable:!0,inspectable:!0,slices:!0,projects:65535,screens:65535,commentable:!0},screens_count:0,cid:"pb2lje6hu9dax5akx",team_cid:"teuaroot",space_cid:null,name:"sharing",type:"proto2",attr:{},created_at:1687863747e3,updated_at:1688043155e3,timestamp:"1688043155",access:"public",access_token:"32vJ5gBXrwws03fxYV0OK2",version:"v3",icon:null,splash:null,width:390,height:844,device:"iphone",model:"iphone_13_pro",scale:100,archived:!1,parent_cid:null,source_upper_cid:null,clones:0,shell_type:"device",password:"",wechat:!1,highlight:!0,preview_option:1,expired:!1,deleted:!1,duplicating:!1,permissions:[{user_id:10,role:"project_owner"}],is_org_project:!1,is_sub_project:!1,runner_mode:"preview",comment_permission:"org_member",tabs:null,visibility:"open",building:"view_sticky"};var $=n(10286),X=n(46664),R=n(60482),Y=n(15039);const r=(()=>{const e={project:void 0,flatKey:void 0,theme:"light",user:void 0,org:void 0,settingPageType:"create",subSettingPageType:"basic",currentSharing:U,hostType:"proto",topPageIndex:"edit",advancedSharingList:[],canEditByUser:!1,mainPage:"share",tabIndex:0,projShareToEdit:"",members:[],isEditMode:location.pathname.includes("/design/"),screenMetaList:void 0,initData:{},loading:!0,hostSharingData:void 0,sharingToast:"",currentSelectSharing:void 0,isOnlyMemberManager:!1,hostCurrentScreen:void 0},a=function(_,f){_===void 0&&(_=e);let{type:j="sharing:state:update",payload:E=e}=f;switch(j){case"sharing:state:update":return{..._,...E};case"sharing:state:clear":return{...e};default:return _}},u={"sharing:init":(_,f)=>{let{dispatch:j}=_,{payload:E}=f;j({type:"sharing:state:update",payload:E})},"sharing:currentSharing:update":(_,f)=>{let{getState:j,dispatch:E}=_,{payload:{updatedKV:z}}=f;const G=j(),B={...p.getCurrentSharing(G),...z};E({type:"sharing:state:update",payload:{currentSharing:B}})},"sharing:remote:sharing:update":async(_,f)=>{let{getState:j,dispatch:E}=_,{payload:{sharingData:z,updatedKV:G}}=f;const J=j(),B=p.getOrg(J),le=p.getProject(J);let ne;if(z.type==="default"){var T,te;ne=async()=>(0,X.Yu)(le.cid,{...G}),await(0,R.eH)({updateType:"update",updateFn:ne,org:B});const se={...le,...G};E({type:"sharing:state:update",payload:{project:se}}),(T=MB)!=null&&T.action&&((te=MB)==null||te.action("current:update:state",{currentProject:se}))}else{const se=p.getAdvancedSharingList(J),ge={...z,...G};ne=async()=>(0,$.yq)({sharing:ge});const{expired_at:ue}=await(0,R.eH)({updateType:"update",updateFn:ne,org:B,updatedKV:G});E({type:w["sharing:currentSharing:update"],payload:{updatedKV:{expired_at:ue}}});const pe=se.map(V=>V.cid===ge.cid?{...ge,expired_at:ue}:V);E({type:w["sharing:advancedSharingList:update"],payload:{sharingList:pe}})}},"sharing:remote:sharing:delete":async(_,f)=>{let{getState:j,dispatch:E}=_,{payload:{sharingCid:z}}=f;const G=j(),J=p.getProject(G),B=p.getAdvancedSharingList(G);await(0,$.g)({projectCid:J.cid,sharingCid:z});const le=B.filter(ne=>ne.cid!==z);E({type:w["sharing:advancedSharingList:update"],payload:{sharingList:le}})},"sharing:settingPage:advanced:confirm":async(_,f)=>{let{getState:j,dispatch:E}=_,{payload:{updatedKV:z,isCustom:G}}=f;const J=j(),B=p.getSettingPageType(J),le=p.getCurrentSharing(J),ne=p.getOrg(J),T=p.getProject(J);if(B==="create"){const te=async()=>(0,$.Or)({projectCid:T.cid,sharing:le});await(0,R.eH)({updateType:"create",updateFn:te,org:ne}),E({type:w["sharing:topPageIndex:jump"],payload:{topPageIndex:"edit"}})}else{const te=async()=>(0,$.yq)({sharing:le}),{expired_at:se}=await(0,R.eH)({updateType:"update",updateFn:te,org:ne,updatedKV:z,isCustom:G});E({type:w["sharing:currentSharing:update"],payload:{updatedKV:{expired_at:se}}})}E({type:"sharing:advance:click:track"})},"sharing:settingPage:default:confirm":async _=>{var f,j;let{getState:E,dispatch:z}=_;const G=E(),J=p.getCurrentSharing(G),B=p.getProject(G),le=p.getOrg(G),ne=async()=>(0,X.Yu)(B.cid,Object.assign({},J,{building:J.view_sticky}));await(0,R.eH)({updateType:"update",updateFn:ne,org:le});const T=Object.assign({},B,J,{building:J.view_sticky});z({type:"sharing:state:update",payload:{project:T}}),(f=MB)!=null&&f.action&&((j=MB)==null||j.action("current:update:state",{currentProject:T}))},"sharing:go-settingPage":(_,f)=>{let{dispatch:j}=_,{payload:{currentSharing:E,settingPageType:z,subSettingPageType:G=e.subSettingPageType}}=f;j({type:"sharing:state:update",payload:{currentSharing:E,settingPageType:z,topPageIndex:"setting",subSettingPageType:G}})},"sharing:topPageIndex:jump":(_,f)=>{let{dispatch:j}=_,{payload:{topPageIndex:E=e.topPageIndex}}=f;j({type:"sharing:state:update",payload:{topPageIndex:E}})},"sharing:advancedSharingList:update":(_,f)=>{let{dispatch:j}=_,{payload:{sharingList:E}}=f;j({type:"sharing:state:update",payload:{advancedSharingList:E}})},"sharing:projectAccess:init":async _=>{let{dispatch:f,getState:j}=_;const E=j(),z=p.getMembers(E),G=p.getProject(E),J=G==null?void 0:G.cid,B=G==null?void 0:G.is_org_project;if(!J||!B){setTimeout(()=>{f({type:r.entryKey["sharing:init"],payload:{loading:!1}})},100);return}const{result:le,statusOk:ne}=await(0,$.aX)(J);if(f({type:r.entryKey["sharing:init"],payload:{loading:!1}}),!!ne&&le){var T,te;const{project:se,org:ge}=le;await f({type:"entry:projectAccess:initProjectData",payload:{initData:le,members:z}}),f({type:r.entryKey["sharing:init"],payload:{project:se,org:ge,initData:le}}),(T=MB)!=null&&T.action&&((te=MB)==null||te.action("current:update:state",{currentProject:se}))}},"sharing:function:track":(_,f)=>{let{getState:j}=_,{payload:{operation:E,viewMode:z,isDefault:G}}=f;const J=j(),B=p.getProject(J)||{},le=p.getCanEditByUser(J),ne=p.getOrg(J)||{},T=p.getUser(J),te=p.getInitData(J)||{},se=(te==null?void 0:te.space)||{},ge=p.getIsEditMode(J),ue=p.getHostType(J),{cid:pe,name:V}=B,fe={userCanEdit:le,userId:T==null?void 0:T.id,orgPermissions:ne==null?void 0:ne.permissions,spacePermissions:se==null?void 0:se.permissions,projectPermissions:B==null?void 0:B.permissions,isEditMode:ge,view_mode:z,optionType:E,share_type:G?"\u9ED8\u8BA4\u5206\u4EAB":"\u9AD8\u7EA7\u5206\u4EAB",isIframe:ue==="iframe",project_name:V,project_cid:pe};(0,Y.Xc)(fe)},"sharing:advance:click:track":(_,f)=>{let{getState:j}=_,{}=f;const E=j(),z=p.getSettingPageType(E),G=p.getCurrentSharing(E),J=p.getProject(E),B=p.getAdvancedSharingList(E)||[],le=p.getScreenMetaList(E),ne=p.getHostType(E),T=(0,R.RF)(le.pageAttrMap),te=(0,R.Mj)(!G.screen_visible_switch,G.screen_visible_list,T);let se="\u5168\u90E8";G.screen_visible_switch&&(se=""+te);const ge=B.length;(0,Y.nr)({link_name:G.link_name,links_number:z==="create"?ge+1:ge,share_type:G.device_model==="device"?"\u6F14\u793A\u6A21\u5F0F":"\u753B\u5E03\u6A21\u5F0F",page_number:se,operation_type:z==="create"?"\u65B0\u5EFA":"\u7F16\u8F91",source:ne==="iframe"?"\u5DE5\u4F5C\u53F0":"\u7F16\u8F91\u533A",project_name:J.name,project_cid:J.cid})}},p=q.B.genQuery(e,{getStateFn:_=>_.sharing}),w=q.B.genEntryKey(u);return{__initialState:e,__reducer:a,__entry:u,entryKey:w,query:p}})(),v=(0,h.HY)({sharing:r.__reducer,projectAccess:I.Ay}),x={...r.__entry,...C.s},g=()=>{const e=(0,d.RZ)(),a=(0,h.y$)(v,(0,h.Tw)(e.middleware));return e.setEntryMap(x),a};var c=n(72605),y=n(21676),b=n(21952),M=n(57716),L=n(86634),S=n.n(L),D=n(77180);const H=y.Ay.div.withConfig({displayName:"styles__StyledSharingToolBar",componentId:"sc-1k4rs1h-0"})(["display:flex;align-items:center;justify-content:space-between;height:","px;padding-right:12px;border-bottom:1px solid ",";&.tool-upgrade{padding-right:24px;}.sharing-title{margin-left:24px;color:",";font-size:14px;font-family:PingFang SC;font-style:normal;font-weight:500;line-height:24px;}.upgrade-team-business{padding:0 10px;height:26px;border-radius:13px;display:flex;align-items:center;justify-content:center;background:",";font-size:14px;font-weight:500;position:relative;cursor:pointer;z-index:1;&:hover{background:",";}.team-business{background:linear-gradient(265.2deg,"," -21.19%,"," 105.08%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;text-fill-color:transparent;flex:none;order:0;flex-grow:0;}.content{font-size:12px;font-family:PingFang SC;font-style:normal;font-weight:400;line-height:18px;position:absolute;background:#454647;top:36px;right:0;width:300px;padding:12px 16px;border-radius:6px;.learn-text{margin-left:8px;color:#80BCFF;&:hover{color:#A6D2FF;}}&::before{content:'';position:absolute;top:0px;right:30px;transform:translateY(-100%);display:inline-block;width:0;height:0;border:6px solid transparent;border-bottom:6px solid #454647;}.top-bar{position:absolute;width:100%;height:10px;top:-10px;right:0;}span{color:",";}a{cursor:pointer;color:",";&:hover{color:",";}}}}"],D.gE,e=>e.theme.color_bg_border_02,e=>e.theme.color_text_L1,e=>e.theme.color_background_AI_head_tag,e=>e.theme.color_background_AI_head_tag_hover,e=>e.theme.color_AI_switch_gradient_start,e=>e.theme.color_AI_switch_gradient_end,e=>e.theme.color_text_btn,e=>e.theme.color_text_link_normal,e=>e.theme.color_text_link_hover),re=y.Ay.div.withConfig({displayName:"styles__StyledShareHeadMembers",componentId:"sc-1d78taz-0"})(["height:36px;border-radius:18px;display:flex;align-items:center;padding:0 4px;cursor:pointer;&:hover{background:",";}.avatar{height:24px;width:24px;border-radius:12px;box-sizing:border-box;border:1px solid ",";&:not(:first-child){margin-left:-6px;}&.avater-name{text-align:center;background:rgb(22,133,252);justify-content:center;color:white;font-size:12px;text-align:center;display:flex;align-items:center;}}.item-line{margin-left:6px;width:1px;height:16px;background:",";}.remaining{box-sizing:border-box;border-radius:12px;border:1px solid ",";background:rgb(22,133,252);justify-content:center;display:flex;align-items:center;margin-left:-6px;width:24px;height:24px;svg{width:24px;height:24px;}}.arror{margin-left:6px;width:14px;height:14px;}"],e=>e.theme.color_btn_secondary_active,e=>e.theme.color_share_member__border_color,e=>e.theme.color_bg_border_02,e=>e.theme.color_share_member__border_color);var P=n(37673),W=n(7290),ee=n(59318);const ae="__mb_delete_permission",ie=[{value:"org_owner",label:"permissions_org_owner"},{value:"org_manager",label:"permissions_org_super_administrator"},{value:"org_admin",label:"permissions_org_administrator"},{value:"org_member",label:"permissions_org_collaboration_member"},{value:"org_viewer",label:"permissions_org_review_member"}],xe=[{value:"space_manager",label:"permissions_space_manager"},{value:"space_member",label:"permissions_space_collaboration_member"},{value:"space_viewer",label:"permissions_space_review_member"},{value:"space_limiter",label:"permissions_space_unregistered_member"}],je=[{value:"team_manager",label:"permissions_manager"},{value:"team_member",label:"permissions_can_edit"},{value:"team_viewer",label:"permissions_only_view"},{value:"team_ban_viewer",label:"permissions_ban_view"}],Re=[{value:"project_manager",label:"permissions_manager"},{value:"project_member",label:"permissions_can_edit"},{value:"project_viewer",label:"permissions_only_view"},{value:"project_ban_viewer",label:"permissions_ban_view"}],ze={space_owner:"project_manager",space_manager:"project_manager",space_member:"project_member",space_viewer:"project_viewer",team_owner:"project_manager",team_manager:"project_manager",team_member:"project_member",team_viewer:"project_viewer",team_ban_viewer:"project_ban_viewer",team_none:"project_viewer",project_owner:"project_manager"},He={space_owner:"team_manager",space_manager:"team_manager",space_member:"team_member",space_viewer:"team_viewer",space_ban_viewer:"team_ban_viewer",team_none:"team_viewer",team_owner:"team_manager"},Ze=Object.fromEntries([...ie,...xe,...je,...Re].map(e=>[e.value,e.label]));var qe=n(3895),we=n(61654),Q=n(15573);const Z=e=>{const a=(0,c.d4)(we.XW),u=a.get(e);return(0,Q.u)(u,a)},me=(e,a)=>{const u=(0,c.d4)(we.XW),p=(0,c.d4)(we._B),w=(0,c.d4)(we.kG),_=(0,c.d4)(we.iF),f=(0,c.d4)(we.yZ);let j=null,E=null;const z=e;let G=[],J=[],B=[];j=p.get(a),J=j.permissions,B=(0,ee.Cj)(j.team_cid,u,_),E=P.W.Org,G=w,B=Object.values(Object.fromEntries(B.map(se=>[se.user_id,se])));const le=Object.values(Object.fromEntries([...B,...J].map(se=>[se.user_id,se]))),ne=(0,i.useMemo)(()=>{const se=(0,ee.Rc)(G);return G.reduce((ge,ue)=>{const{user_id:pe}=ue,V=(0,ee.CF)({userId:pe,permissionsMap:se,permissionScope:E});return ge.set(Number(pe),V)},new Map)},[G]),T=(0,i.useMemo)(()=>{const se=(0,ee.Rc)(le);return G.reduce((ge,ue)=>{const{user_id:pe}=ue,V=(0,ee.CF)({userId:pe,permissionsMap:se,permissionScope:z});return ge.set(Number(pe),V)},new Map)},[le,G]),te=(0,i.useMemo)(()=>{const se=(0,ee.Rc)(B);return B.reduce((ge,ue)=>{const{user_id:pe}=ue,V=(0,ee.CF)({userId:pe,permissionsMap:se,permissionScope:z});return ge.set(Number(pe),V)},new Map)},[B]);return{userCurrentSpacePermission:f,membersTopScopePermissonMap:ne,membersCurrentScopePermissonMap:T,membersInheritedCurrentScopePermissonMap:te,topScopePermissionMembers:G,currentScopePermissionMembers:J,inheritedPermissionMembers:B,combinedCurrentPermissionMembers:le}},Se=(e,a,u)=>{const p=(0,c.wA)();return(0,i.useCallback)(async(_,f)=>{const{name:j,email:E,mobile:z,permissionMap:G}=_,{memberCurrentScopePermisson:J,currentScopeRoleName:B}=G;if(!J)return;const le=j||E||z;let ne=!1;f===ae&&(ne=!0),J.isUnknown?await p({type:"entry:projectAccess:inviteOrgMemberToProject",payload:{projectCid:a,userCid:_.user_cid,roleName:f,userName:le}}):ne?await p({type:"entry:projectAccess:removeProjectMemberPermission",payload:{projectCid:a,userId:_.user_id,roleName:B,userName:le}}):await p({type:"entry:projectAccess:updateMemberProjectPermission",payload:{projectCid:a,userId:_.user_id,roleName:f,userName:le}})},[a,p])},Ne=(e,a)=>{const u=(0,c.d4)(we.WR),p=(0,c.d4)(we.q7),w=(0,c.d4)(we.oV),_=(0,c.d4)(we.hG),{userCurrentSpacePermission:f,membersTopScopePermissonMap:j,membersCurrentScopePermissonMap:E,membersInheritedCurrentScopePermissonMap:z,topScopePermissionMembers:G,inheritedPermissionMembers:J,currentScopePermissionMembers:B,combinedCurrentPermissionMembers:le}=me(e,a),ne=E.get(Number(u))||ee.CZ,T=!!_.get(Number(u)),te=(0,i.useMemo)(()=>{const ye=new Map;return G.forEach(Te=>{let{user_id:Ie,role:Ve}=Te;const Pe=j.get(Number(Ie))||ee.CZ,Ye=w.get(Number(Ie))||ee.CZ,nt=E.get(Number(Ie))||ee.CZ,rt=z.get(Number(Ie))||ee.CZ,at=!!_.get(Number(Ie)),St=p.get(Number(Ie));if(!St)return;const Nt=St.permission,Lt=nt.isUnknown?Ve:nt.roleName;ye.set(Number(Ie),{...St,permissionMap:{currentScopeRoleName:Lt,userCurrentSpacePermission:f,userCurrentScopePermisson:ne,memberTopScopePermisson:Pe,memberCurrentScopePermisson:nt,memberInheritedPermisson:rt,memberOrgPermisson:Nt,isSelf:Number(Ie)===Number(u),userIsSpaceLimiter:T,memberIsSpaceLimiter:at,memberIsSpaceManager:Ye.isManager}})}),ye},[G,j,E,z,_]),se=(0,i.useMemo)(()=>B.sort((ye,Te)=>qe.Z8[Te.role]-qe.Z8[ye.role]).map(ye=>te.get(Number(ye.user_id))).filter(ye=>ye),[B,te]),ge=(0,i.useMemo)(()=>J.sort((ye,Te)=>qe.Z8[Te.role]-qe.Z8[ye.role]).map(ye=>{const{user_id:Te,role:Ie}=ye,Ve=z.get(Number(Te))||ee.CZ,Pe=te.get(Number(ye.user_id));return Pe?{...Pe,permissionMap:{...Pe.permissionMap,currentScopeRoleName:Ie,memberCurrentScopePermisson:Ve}}:null}).filter(ye=>ye),[J,te,z]),ue=(0,i.useMemo)(()=>le.sort((ye,Te)=>qe.Z8[Te.role]-qe.Z8[ye.role]).map(ye=>te.get(Number(ye.user_id))).filter(ye=>ye),[le,te]),pe=(0,i.useMemo)(()=>{const ye=ue.map(Ie=>Number(Ie.user_id)),Te=[];for(const[Ie,Ve]of te.entries())ye.includes(Number(Ie))||Ve&&Te.push(Ve);return Te},[te,ue]),V=(0,i.useMemo)(()=>{const ye=ge.filter(Ie=>{var Ve;return(Ve=Ie.permissionMap)==null||(Ve=Ve.memberCurrentScopePermisson)==null?void 0:Ve.isManager});return Object.values(Object.fromEntries([...ye,...se].map(Ie=>[Ie.user_id,Ie])))},[ge,se]),fe=(0,i.useMemo)(()=>{const ye=V.map(Ie=>Number(Ie.user_id)),Te=[];for(const[Ie,Ve]of te.entries())ye.includes(Number(Ie))||Ve&&Te.push(Ve);return Te},[te,V]);return{isOnlyOneManager:(0,i.useMemo)(()=>ue.filter(ye=>{var Te;return(Te=ye.permissionMap)==null||(Te=Te.memberCurrentScopePermisson)==null?void 0:Te.isManager}).length===1,[ue]),userCurrentScopePermisson:ne,userCurrentSpacePermission:f,currentMembers:se,inheritedMembers:ge,joinedMembers:ue,unjoinedMembers:pe,assignedMembers:V,unassignedMembers:fe,currentOrgMembersMap:p}};var Ke=n(11777),s=n(57464);const Oe=()=>{var e;const a=(0,c.d4)(r.query.getUser),u=(0,c.d4)(r.query.getProject),p=(0,c.d4)(r.query.getInitData),w=Z(u==null?void 0:u.team_cid),_=u==null?void 0:u.cid,f=(0,c.wA)(),j=(0,i.useCallback)(T=>{T.stopPropagation(),f({type:r.entryKey["sharing:init"],payload:{mainPage:"access"}}),f({type:r.entryKey["sharing:function:track"],payload:{operation:"\u56E2\u961F\u534F\u4F5C"}})},[f]),{currentMembers:E,inheritedMembers:z,joinedMembers:G}=Ne(P.W.Project,_);let J=E;w>=1?z.forEach(T=>{J.find(se=>se.id===T.id)||J.push(T)}):J=G;const le=(e=J)==null?void 0:e.filter(T=>Number(T.user_id)!==Number(a==null?void 0:a.id));le&&(J=le.slice(0,2));const ne=(0,i.useCallback)(T=>{var te;const{avatar:se,name:ge,id:ue}=T;return se&&!se.includes("/images/avatar.png")?(0,s.jsx)("img",{className:"avatar",src:T.avatar,alt:T.name},ue):(0,s.jsx)("div",{className:"avatar avater-name",children:ge==null||(te=ge.slice(0,1))==null?void 0:te.toUpperCase()},ue)},[]);return!p||JSON.stringify(p)==="{}"?null:(0,s.jsx)(Ke.A,{content:I18N.imockSharing.team_collaborator,direction:"down",distance:5,enterHoverTime:500,children:(0,s.jsxs)(re,{onClick:j,children:[ne(a),J.length>0&&J.map(T=>ne(T)),(0,s.jsx)("div",{className:"remaining",children:(0,s.jsx)(W.C,{name:"sharing/add_member",isColorPure:!0})}),(0,s.jsx)(W.C,{name:"sharing/member_arror",isColorPure:!0,className:"arror"})]})})},Je=(0,i.memo)(Oe),st=y.Ay.div.withConfig({displayName:"styles__StyledSharingSliderBar",componentId:"sc-1garbfp-0"})(["display:flex;height:100%;align-items:center;position:relative;padding-left:24px;.tab-item{color:",";font-size:14px;font-family:PingFang SC;cursor:pointer;height:100%;display:flex;align-items:center;&:not(:first-child){margin-left:14px;}&.tab-sel{color:",";font-weight:500;border-top:2px solid rgba(0,0,0,0);border-bottom:2px solid ",";box-sizing:border-box;}}"],e=>e.theme.color_share_switch_sel_color,e=>e.theme.color_text_L1,e=>e.theme.color_text_L1),ft=e=>{let{tabs:a,handleChangeTabIndex:u,tabIndex:p,className:w}=e;return(0,s.jsx)(st,{className:w,children:a.map((_,f)=>(0,s.jsx)("div",{className:S()("tab-item",p===f&&"tab-sel"),id:"tab-item-"+f,onClick:()=>u(f),children:_},f))})},yt=(0,i.memo)(ft);var dt=n(15336),_t=n(47755);const he=()=>{let e=null;const a=(0,c.wA)(),u=(0,c.d4)(r.query.getProject),p=(0,c.d4)(r.query.getCanEditByUser),w=(0,c.d4)(r.query.getHostType),_=(0,c.d4)(r.query.getIsEditMode),f=(0,c.d4)(r.query.getInitData),j=(0,c.d4)(r.query.getTabIndex),[E,z]=(0,i.useState)(!1),G=(u==null?void 0:u.is_org_project)||!1,J=w==="iframe"||_,le=new URLSearchParams(location.search).get("view_mode")||"read_only",ne=J&&G&&f&&JSON.stringify(f)!=="{}",T=p&&!G,te=(0,i.useCallback)(()=>{const pe=w==="iframe",V=(pe?"\u5DE5\u4F5C\u533A":"\u7F16\u8F91\u533A")+"-v8_\u4E2A\u4EBA_\u5206\u4EAB_\u56E2\u961F\u534F\u4F5C\u5347\u7EA7",fe=(pe?"dashboard":"workspace")+"-v8_solo_share_upgrade",ve={payEntrance:V,checkoutPlace:fe,checkoutArea:pe?"dashboard":"proto",mode:"org",isSelectOrg:!0};if(pe){const ye="/workspace/''?payment_param="+(0,_t._)(ve);(0,dt.JW)(ye,"_blank","noreferrer")}else MB.global.popupHelper.chargeAsync(ve)},[]),se=()=>{e=setTimeout(()=>{z(!0)},1e3)},ge=()=>{e&&clearTimeout(e),z(!1)},ue=(0,i.useCallback)(pe=>{a({type:r.entryKey["sharing:init"],payload:{tabIndex:pe}})},[a]);return(0,s.jsx)(H,{className:S()(T&&"tool-upgrade"),children:J?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(yt,{tabIndex:j,tabs:[I18N.imockSharing.default_share,I18N.imockSharing.advanced_sharing],handleChangeTabIndex:ue}),T&&(0,s.jsxs)("div",{className:"upgrade-team-business",onClick:te,onMouseEnter:se,onMouseLeave:ge,children:[(0,s.jsx)("span",{className:"team-business",children:I18N.imockSharing.team_collaboration}),E&&(0,s.jsxs)("div",{className:"content",onClick:pe=>pe.stopPropagation(),children:[(0,s.jsx)("div",{className:"top-bar"}),(0,s.jsx)("span",{children:I18N.imockSharing.upgrade_to_team_business_plan}),(0,s.jsx)("a",{className:"learn-text",href:I18N.link.link_upgrade_enterprise,target:"_blank",rel:"noopener noreferrer",children:I18N.imockSharing.learn_more})]})]}),ne&&(0,s.jsx)(Je,{})]}):(0,s.jsx)("div",{className:"sharing-title",children:le==="read_only"?I18N.pPreviewToolbar.share:I18N.pPreviewToolbar.share_preview})})},be=(0,i.memo)(he),Ee=y.Ay.div.withConfig({displayName:"styles__StyledSharingAdvancedPage",componentId:"sc-1h5adoi-0"})(["width:100%;height:calc(100% - ","px);padding:16px 20px 5px;overflow-y:auto;.create-item{display:flex;align-items:center;padding:6px 12px;height:32px;color:",";text-align:center;font-size:14px;font-family:PingFang SC;width:fit-content;border-radius:6px;cursor:pointer;svg{width:12px;margin-right:4px;svg path{fill:",";}}&:not(.no-edit):hover{background:",";}&:not(.no-edit):active{background:",";}&.no-edit{opacity:0.3;pointer-events:none;}}"],D.gE,e=>e.theme.color_text_L1,e=>e.theme.color_text_L1,e=>e.theme.color_btn_secondary_hover,e=>e.theme.color_btn_secondary_active),Ge=y.Ay.div.withConfig({displayName:"styles__StyledSharingEmpty",componentId:"sc-1h5adoi-1"})(["width:100%;height:calc(100% - ","px);display:flex;justify-content:center;flex-direction:column;align-items:center;svg{width:254px;}.create-sharing{width:134px;margin-top:40px;}"],D.gE);var $e=n(15668),gt=n(44057),Wt=n(48590);const Et=y.Ay.div.withConfig({displayName:"styles__StyledSharingNormalItem",componentId:"sc-11k1y99-0"})(["margin-top:12px;padding:0px 13px;height:134px;display:flex;flex-direction:column;justify-content:center;background:",";border-radius:8px;.share-icon{width:24px;height:24px;border-radius:4px;margin-left:6px;cursor:pointer;&.tempDisabled{pointer-events:none;}svg{width:100%;height:100%;}}"],e=>e.theme.color_bg_canvas),Ht=y.Ay.div.withConfig({displayName:"styles__StyledCenterItem",componentId:"sc-11k1y99-1"})(["display:flex;min-height:36px;width:100%;margin-top:12px;margin-bottom:16px;&.default-link{margin-bottom:0px;}&.advance-item{margin-bottom:12px;}&.userNoEdit{.left.normal-hover{cursor:not-allowed;.view-access-select{svg,path{fill:",";}}}}&.notView{cursor:not-allowed;.url-copy-button{background:",";border:"," solid 1px;color:",";pointer-events:none;}}.left{flex-grow:1;background-color:",";display:flex;align-items:center;border:"," solid 1px;border-right:none;border-radius:6px 0 0 6px;&.can-not-edit{pointer-events:none;}&.normal-hover{cursor:pointer;&:hover{background-color:",";}}.chore{margin-right:21px;color:",";}.view-access-select{margin-left:10px;display:flex;align-items:center;.access-name{color:",";}&.is-expired{","}.svg-icon{color:",";transition:all 0.2s;transform :",";}}.single-preview{width:100%;padding:0 6px;color:",";}}.url-copy-button{flex-grow:0;width:97px;}"],e=>e.theme.color_share_access__button_disable,e=>e.theme.color_share_copy__button_disable_bg,e=>e.theme.color_bg_border_02,e=>e.theme.color_share_copy__button_disable,e=>e.isViewActiveDropdown?e.theme.color_btn_secondary_hover:e.theme.color_bg_white,e=>e.theme.color_bg_border_02,e=>e.theme.color_btn_secondary_hover,e=>e.theme.color_text_L3,e=>e.theme.color_text_L1,e=>e.theme.color_text_L3,e=>e.theme.color_text_L1,e=>e.isViewActiveDropdown?"rotate(-180deg)":"",e=>e.theme.color_text_L1),Kt=(0,y.Ay)(gt.Ay).withConfig({displayName:"styles__StyledMenuContent",componentId:"sc-11k1y99-2"})(["ul{width:270px;li > a{padding-left:10px;svg{position:absolute;right:8px;}}}",";&.advance_menu ul{width:244px;}&.misc ul{width:80px;min-width:auto;}"],Wt.ZJ),Xt=y.Ay.button.withConfig({displayName:"styles__StyledCopyButton",componentId:"sc-11k1y99-3"})(["display:flex;position:relative;width:82px;font-size:12px;font-weight:500;border-top-right-radius:6px;border-bottom-right-radius:6px;background-color:",";&:hover{background-color:",";}&:active{background-color:",";}color:",";&.is-disabled{cursor:not-allowed;pointer-events:none;color:",";background-color:",";}.state{position:absolute;left:0;top:0;display:flex;justify-content:center;align-items:center;width:100%;height:100%;transition:all 0.15s ease-out;}.state-1{opacity:0;.copy-check{color:#ffffff;width:24px;}}&.is-state-1 .state-0{opacity:0;transform:translateY(50%);}&.is-state-1 .state-1{opacity:1;transform:none;}"],e=>e.theme.color_btn_primary_normal,e=>e.theme.color_btn_primary_hover,e=>e.theme.color_btn_primary_clicked,e=>e.theme.color_text_btn,e=>e.theme.color_text_disabled02,e=>e.theme.color_btn_primary_disabled),On=y.Ay.div.withConfig({displayName:"styles__StyledSharingItemHead",componentId:"sc-1tpfzbt-0"})(["display:flex;align-items:center;justify-content:space-between;color:",";font-size:12px;font-family:PingFang SC;.head-left{display:flex;font-size:14px;font-weight:500;align-items:center;color:",";.public-access{margin-right:8px;}.link-form{width:176px;input{width:176px;}}.link-name{width:176px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;cursor:text;&.link-name-not-edit{pointer-events:none;}&:not(.link-name-not-edit):hover{border-bottom:1px solid ",";}position:relative;height:24px;line-height:24px;}input{height:24px;line-height:24px;color:",";width:240px;border-bottom:1px solid ",";}.edit-name{width:20px;height:20px;margin-left:5px;}}.head-right{display:flex;justify-content:center;align-items:center;border-radius:4px;padding-left:4px;&:hover{background-color:",";}}.foot-right{display:flex;align-items:center;}.view-mode-icon{width:16px;height:16px;margin-right:6px;[stroke]{stroke:currentColor;fill:none;}}.share-icon{margin-left:5px;}&.canNotEdit{label{pointer-events:none;opacity:0.3;cursor:not-allowed;}}"],e=>e.theme.color_text_L1,e=>e.theme.color_text_L1,e=>e.theme.color_proto,e=>e.theme.color_text_L1,e=>e.theme.color_proto,e=>e.theme.color_btn_secondary_active);function En(e){const{fBlur:a,name:u}=e,[p,w]=(0,i.useState)(!1),[_,f]=(0,i.useState)(u),j=(0,i.useRef)(null);(0,i.useEffect)(()=>{if(p){var B;(B=j.current)==null||B.focus()}},[p]);const E=()=>{a(),w(!1)};return{inputRef:j,isRenaming:p,setIsRenaming:w,inputName:_,setInputName:f,handleFocus:()=>{var B;(B=j.current)==null||B.select()},handleBlur:E,handleKeyDown:B=>{B.key==="Enter"&&E()},handleInput:B=>{let le=B.target.value;le.length>200&&(le=le.substring(0,200)),f(le)}}}const Tt={embed:"embed",QRcode:"QRcode",setting:"setting",mkt:"mkt_icon",showPage:"showPage"},pn=y.Ay.div.withConfig({displayName:"styles__StyledIconBox",componentId:"sc-1juwfby-0"})(["display:flex;justify-content:center;align-items:center;width:20px;height:20px;color:",";cursor:pointer;border-radius:4px;position:relative;transition:background-color 0.2s ease-in-out;.Tooltip{display:flex;}&.tempDisabled{opacity:0.3;}&.isBorder{border-radius:50%;border:1px solid ",";}&.disabled{cursor:not-allowed;color:",";}&:not(.disabled):hover{background:",";}&:not(.disabled):active{background:",";}"],e=>e.theme.color_text_L2,e=>e.theme.color_bg_border_02,e=>e.theme.color_text_disabled01,e=>e.theme.color_btn_secondary_active,e=>e.theme.color_btn_secondary_active);function on(e){const{className:a,size:u=20,name:p,onClick:w,onMouseEnter:_,onMouseLeave:f,children:j,tempDisabled:E,direction:z,toolTipName:G,type:J,isColorPure:B,isBorder:le}=e,ne=T=>{E||w(T,J)};return(0,s.jsx)(Ke.A,{content:G,direction:z||"up",distance:5,enterHoverTime:500,children:(0,s.jsxs)(pn,{className:S()(a,E&&"tempDisabled",le&&"isBorder"),onClick:ne,onMouseEnter:_,onMouseLeave:f,children:[(0,s.jsx)(W.C,{size:u,name:p,isColorPure:B}),j]})})}const Cn=e=>{let{sharingData:a,handleItemAction:u}=e;const{link_name:p}=a,w=(0,c.wA)(),_=a.device_model,[f,j]=(0,i.useState)(p),E=(0,c.d4)(r.query.getCanEditByUser),z=(0,c.d4)(r.query.getIsEditMode),G=(0,c.d4)(r.query.getHostType),J=(0,c.d4)(r.query.getScreenMetaList),B=(0,c.d4)(r.query.getAdvancedSharingList),le=G==="iframe"||z,ne=le&&E,T=le&&E,te=()=>{const Ye=ve.current.value;if(Ye==="")Te(f),w({type:r.entryKey["sharing:init"],payload:{sharingToast:I18N.Common.name_cannot_be_empty}});else if((0,R.it)({value:Ye,currentSharing:a,sharingList:B}))Te(f),w({type:r.entryKey["sharing:init"],payload:{sharingToast:I18N.imockSharing.sharing_name_repeate_wran}});else{j(Ye);const nt={link_name:Ye};w({type:r.entryKey["sharing:remote:sharing:update"],payload:{sharingData:a,updatedKV:nt}})}},se=(0,i.useMemo)(()=>a.type==="advanced"?(0,R.Sy)(J,a):null,[a,J]),{isRenaming:ge,setIsRenaming:ue,handleKeyDown:pe,handleBlur:V,handleFocus:fe,inputRef:ve,handleInput:ye,setInputName:Te,inputName:Ie}=En({name:f||"",fBlur:te}),Ve=(0,i.useCallback)(()=>{ue(!0)},[ue]),Pe=(0,i.useMemo)(()=>[{name:"sharing/embed_icon",toolTipName:I18N.imockSharing.insert,className:Tt.embed,tempDisabled:!1},ENV.IS_ON_PREMISES?null:{name:"sharing/QRcode_icon",toolTipName:I18N.imockSharing.qr_code,className:Tt.QRcode,tempDisabled:!1},{name:"sharing/more",toolTipName:I18N.LeftSidePanel.menu,className:Tt.setting,tempDisabled:!T}].filter(Boolean),[T]);return(0,s.jsxs)(On,{className:S()(!ne&&"canNotEdit"),children:[(0,s.jsxs)("div",{className:"head-left",children:[(0,s.jsx)(W.C,{className:"view-mode-icon",name:_==="device"?"sharing/mode_device":"sharing/mode_canvas"}),ge?(0,s.jsx)("form",{className:"link-form",children:(0,s.jsx)("input",{value:Ie,onFocus:fe,onChange:ye,ref:ve,onBlur:V,onKeyPress:pe})}):(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:S()("link-name",!T&&"link-name-not-edit"),onClick:Ve,children:f})})]}),(0,s.jsx)(Ke.A,{content:I18N.imockSharing.tab_screen,direction:"up",distance:5,enterHoverTime:500,children:(0,s.jsxs)("div",{className:"head-right",children:[(0,s.jsx)("div",{children:se}),(0,s.jsx)(on,{className:"share-icon",name:"sharing/page_visible",tempDisabled:!T,size:20,onClick:Ye=>u(Ye,Tt.showPage)})]})}),(0,s.jsx)("div",{className:"foot-right",children:Pe.map((Ye,nt)=>Ye&&(0,s.jsx)(on,{className:S()("share-icon",Ye.className),name:Ye.name,type:Ye.className,toolTipName:Ye.toolTipName,onClick:u,tempDisabled:Ye.tempDisabled,isColorPure:Ye.isColorPure,size:20},nt))})]})},Pn=(0,i.memo)(Cn),hn=y.Ay.div.withConfig({displayName:"styles__StyledSharingItemFoot",componentId:"sc-1b50v3w-0"})(["display:flex;align-items:center;justify-content:space-between;color:",";font-size:12px;font-family:PingFang SC;.visit_count{color:",";.svg-icon{path{fill:rgba(22,132,252,1);}path:last-of-type{fill:#fff;}}}.expiration-time{display:flex;align-items:center;color:",";.expire-text{margin:0 4px;cursor:pointer;.expired-desc{color:",";}.expired-no{color:",";}}.expire-icon{width:24px;height:24px;}&.is-expired{color:",";}svg{color:",";cursor:pointer;}.self-transform{svg{transition:all 0.4s;transform:rotate(360deg);}}}"],e=>e.theme.color_text_L2,e=>e.theme.color_text_L1,e=>e.theme.color_text_L3,e=>e.theme.color_text_L1,e=>e.theme.color_text_L3,e=>e.theme.color_text_L1,e=>e.theme.color_text_L1),rn=(0,y.DU)([".visit-tips{padding:6px;.tip-updated{display:flex;cursor:pointer;align-items:center;font-size:12px;p{margin:0;display:flex;align-items:center;}.icon-updated{display:inline-flex;align-items:center;margin-left:10px;line-height:14px;color:rgba(112,188,246,1);&:hover{color:rgba(149,209,248,1);}.svg-icon{margin-right:2px;path{fill:rgba(22,132,252,1);}path:last-of-type{fill:#fff;}}}}}"]);var Do=n(76713),Yn=n.n(Do);function $n(e,a,u){const p=(0,i.useMemo)(()=>{const f=Yn()(),j=Yn()(e.expired_at).subtract(2,"s");return j.isBefore(f)?0:j.diff(f,"days")+1},[e]),w=p<=0;let _;return a?_="\u5206\u4EAB\u8D85\u9650\uFF0C\u5347\u7EA7\u89E3\u9501":p>0&&p<=9999?_=p+" \u5929\u540E\u5931\u6548":p>9999?_=u===1?"\u6C38\u4E45\uFF08\u9650\u65F6\u514D\u8D39\uFF09":"\u6C38\u4E45\u6709\u6548":_="\u91CD\u65B0\u751F\u6548",{isExpired:w,remainTimeText:_}}var an=n(89604),Dn=n(59305);const Gs=e=>{let{sharingData:a,handleUpdateSharing:u}=e;const p=(0,c.wA)(),[w,_]=(0,i.useState)(null),[f,j]=(0,i.useState)(!1),{remainTimeText:E,isExpired:z}=$n(a,!1,999),G=a.device_model,J=a.expire_type==="forever",B=(0,c.d4)(r.query.getUser),le=(0,c.d4)(r.query.getOrg),ne=(0,c.d4)(r.query.getProject),T=(0,c.d4)(we.cb),te=ne==null?void 0:ne.is_org_project;let se=!1,ge=!1;if(te){const{plan:ve,trial:ye}=(0,Dn.rM)(le);ge=ye,se=ve===an.Sj.OrgFull&&!ge}const ue=ge||se,pe=T.roleName&&["org_owner","org_admin","org_manager"].includes(T.roleName),V=ue?pe?"enterpriseAdmin":"enterpriseUser":"nonEnterprise",fe=(0,i.useCallback)(()=>{u({expire_type:a.expire_type}),j(!0),setTimeout(()=>j(!1),500),p({type:r.entryKey["sharing:function:track"],payload:{operation:"\u91CD\u7F6E\u6709\u6548\u671F",viewMode:G,isDefault:!1}})},[p,u,a.expire_type,G]);return(0,i.useEffect)(()=>{(async()=>{if(a.access_token)try{const ye=await(0,$.dJ)(a.access_token);_(ye.count)}catch(ye){console.error("Error fetching visit count:",ye)}})()},[a.access_token]),(0,s.jsxs)(hn,{children:[(0,s.jsxs)("div",{className:"visit_count",children:[I18N.imockSharing.visit_count," ",w]}),(0,s.jsxs)("div",{className:S()("expiration-time",{"is-expired":z}),children:[(0,s.jsx)("div",{className:"expire-text",children:(0,s.jsx)("span",{className:z?"expired-desc":"expired-no",children:E})}),!J&&(0,s.jsx)(on,{direction:"down",toolTipName:I18N.imockSharing.resetLink,onClick:fe,className:S()("expire-icon",{"self-transform":f}),size:12,name:"sharing/refresh_24"})]}),(0,s.jsx)(rn,{})]})},Zs=(0,i.memo)(Gs);var mn=n(36521),xn=n(36820);const Qn=e=>{const{project:a,sharing:u,user:p}=e,[w,_]=(0,i.useState)(!1),[f,j]=(0,i.useState)(void 0);return{isURLCopied:w,handleCopyURL:()=>{(0,R.kv)({project:a,action:u.password!==""?"\u590D\u5236\u94FE\u63A5\u548C\u5BC6\u7801":"\u590D\u5236\u94FE\u63A5",linkName:u.link_name}),_(!0),clearTimeout(f);const z=setTimeout(()=>_(!1),3e3);j(z);const G=Yn()().format("YYYY-MM-DD HH:mm:ss"),J=(0,R.EL)(p)&&!(0,mn.kV)(D.nM);(0,mn.cH)(D.nM,G),J&&(0,xn.Sx)({prototype_activation_time:G})}}};var bn=n(93869);function Jn(e){const{password:a}=e;return{isHavePassword:(0,i.useMemo)(()=>a!==null&&a!=="",[a])}}const Xn=e=>{var a;let{sharingData:u,setShowDelConfirmModal:p,fromDefault:w}=e;const _=(0,c.wA)(),f=(0,i.useRef)(null),j=u.view_access,E=u.device_model,z=(0,c.d4)(r.query.getProject),G=(0,c.d4)(r.query.getCanEditByUser),J=(0,c.d4)(r.query.getIsEditMode),B=(0,c.d4)(r.query.getHostType),le=(0,c.d4)(r.query.getUser),ne=(0,c.d4)(r.query.getHostCurrentScreen),T=ne==null?void 0:ne.cid,te=(z==null?void 0:z.is_org_project)||!1,ge=(B==="iframe"||J)&&G,[ue,pe]=(0,i.useState)({top:0,left:0}),[V,fe]=(0,i.useState)(!1),{isURLCopied:ve,handleCopyURL:ye}=Qn({project:z,sharing:u,user:le}),{isHavePassword:Te}=Jn(u),Ie=(0,i.useCallback)(()=>{const ht=(0,R.O8)(z,u,T);(0,bn.$)(ht),ye(),_({type:r.entryKey["sharing:function:track"],payload:{operation:"\u9AD8\u7EA7\u5206\u4EAB\u590D\u5236\u94FE\u63A5",viewMode:E,isDefault:!1}})},[_,u,T,ye,z,E]),Ve=(0,i.useCallback)(ht=>{const It={view_access:ht};_({type:r.entryKey["sharing:remote:sharing:update"],payload:{sharingData:u,updatedKV:It}}),_({type:r.entryKey["sharing:function:track"],payload:{operation:ht==="public"?"\u6240\u6709\u4EBA":"\u5207\u6362\u56E2\u961F",viewMode:E,isDefault:!1}})},[u,_,E]),Pe=(0,i.useCallback)(()=>{p({isOpened:!0,item:u})},[p,u]),Ye=(0,i.useCallback)(()=>{_({type:r.entryKey["sharing:go-settingPage"],payload:{currentSharing:u,settingPageType:"edit"}}),_({type:r.entryKey["sharing:function:track"],payload:{operation:"\u8BBE\u7F6E",viewMode:E,isDefault:!1}})},[_,u,E]),nt=(0,i.useCallback)(ht=>{_({type:r.entryKey["sharing:remote:sharing:update"],payload:{sharingData:u,updatedKV:ht}})},[_,u]),[rt,at]=(0,i.useState)(void 0),St=(0,i.useMemo)(()=>{if(rt==="viewAccess"){const ht=(0,s.jsx)(W.C,{name:"toolbar/selected",className:"selected-icon"});if(te){const It=j==="public";return[{label:I18N.imockSharing.share_anyone_view,onclick:()=>Ve("public"),icon:It?ht:(0,s.jsx)("div",{style:{width:0}})},{label:I18N.imockSharing.org_members_only,onclick:()=>Ve("restricted"),icon:It?(0,s.jsx)("div",{style:{width:0}}):ht}]}else return[]}else return[{label:I18N.imockSharing.setting,onclick:Ye},{label:I18N.imockSharing.delete,onclick:Pe}]},[rt,Ve,Pe,Ye,j,te]),Nt=(0,i.useCallback)(ht=>{if(!te||!ge)return;at("viewAccess");const It=ht.currentTarget.getBoundingClientRect();pe({top:It.y+It.height+3,left:It.x-1}),fe(!V)},[te,ge,V,at,pe]),Lt=(0,i.useCallback)((ht,It)=>{if(ht!=null&&ht.currentTarget)switch(It){case Tt.QRcode:ht.stopPropagation(),_({type:r.entryKey["sharing:init"],payload:{topPageIndex:"qrCode",currentSelectSharing:u}}),_({type:r.entryKey["sharing:function:track"],payload:{operation:"\u70B9\u51FB\u626B\u7801",viewMode:E,isDefault:!1}});break;case Tt.embed:_({type:r.entryKey["sharing:init"],payload:{topPageIndex:"embed",currentSelectSharing:u}}),_({type:r.entryKey["sharing:function:track"],payload:{operation:"\u70B9\u51FB\u5D4C\u5165\u4E09\u65B9",viewMode:E,isDefault:!1}});break;case Tt.mkt:(0,dt.JW)("/com24/upload?project_cid="+(z==null?void 0:z.cid),"_blank","noreferrer");break;case Tt.setting:{at("misc");const Ot=ht.currentTarget.getBoundingClientRect(),nn=document.getElementById("v8-share-page").getBoundingClientRect().bottom-Ot.bottom<120?Ot.y-75:Ot.bottom+5;pe({top:nn,left:B==="iframe"?Ot.x+20:Ot.x-60}),fe(!V)}break;case Tt.showPage:_({type:r.entryKey["sharing:go-settingPage"],payload:{currentSharing:u,settingPageType:"edit",subSettingPageType:"visible"}});break;default:break}},[V,at,pe,fe,_,z,u,E,B]),Dt=(0,i.useCallback)(()=>{var ht;pe({...ue,left:((ht=f.current)==null?void 0:ht.getBoundingClientRect().x)-1})},[ue]);(0,i.useEffect)(()=>(window.addEventListener("resize",Dt),()=>window.removeEventListener("resize",Dt)));const{isExpired:Gt}=$n(u,!1,999);return(0,s.jsxs)(Et,{className:S()(w&&"from-default"),children:[(0,s.jsx)(Pn,{sharingData:u,handleItemAction:Lt}),(0,s.jsxs)(Ht,{className:S()("item-center",!ge&&"userNoEdit","advance-item"),isViewActiveDropdown:V&&rt==="viewAccess",children:[(0,s.jsx)("div",{ref:f,className:S()("left","sharingV2-click-visible",{"normal-hover":!0},!te&&"can-not-edit"),onClick:Nt,children:(0,s.jsxs)("div",{className:"view-access-select",children:[(0,s.jsx)("div",{className:"chore",children:I18N.imockSharing.permission_access}),(0,s.jsx)("div",{className:"access-name",children:(a=I18N.imockSharing[D.nQ[j]])!=null?a:"missing data"}),te&&(0,s.jsx)(W.C,{size:24,name:"sharing/dropdown_24"})]})}),(0,s.jsxs)(Xt,{type:"button",className:S()("copy","sharingV2-click-visible","url-copy-button","is-state-"+Number(ve),{"is-disabled":Gt}),onClick:Ie,children:[(0,s.jsx)("span",{className:"state state-0",children:Gt?I18N.dModule.link_expired_err_title:Te?I18N.imockSharing.copy_url_pwd:I18N.imockSharing.copy_url}),(0,s.jsx)("span",{className:"state state-1",children:(0,s.jsx)(W.C,{name:"new_replace/check",className:"copy-check"})})]})]}),(0,s.jsx)(Zs,{sharingData:u,handleUpdateSharing:nt}),V&&(0,s.jsx)(Kt,{className:S()("design-avoid",rt,"advance_menu"),position:ue,onClose:()=>{fe(!1)},children:St.map((ht,It)=>(0,s.jsx)(gt.Dr,{text:ht.label,onClick:ht.onclick,icon:ht.icon,disabled:ht.disabled,canClick:ht.tempDisabled},It))})]})},Ys=(0,i.memo)(Xn),$s=y.Ay.div.withConfig({displayName:"styles__StyledDeletingConfirmModal",componentId:"sc-1ws30dd-0"})(["display:flex;position:absolute;top:0;bottom:0;left:0;width:100%;height:100%;justify-content:center;align-items:center;background:rgba(0,0,0,0.4);.confirm-content{display:flex;height:fit-content;border-radius:10px;background:",";width:calc(100% - 54px);color:",";font-family:PingFang SC;font-style:normal;flex-direction:column;padding-bottom:18px;border:1px solid ",";box-shadow:0px 9px 28px 0px rgba(0,0,0,0.09),0px 6px 16px 0px rgba(0,0,0,0.02),0px 3px 6px 0px rgba(0,0,0,0.02);.top{width:100%;height:","px;display:flex;align-items:center;justify-content:center;justify-content:space-between;padding:0 24px;font-size:16px;font-weight:500;line-height:normal;border-bottom:1px solid ",";.close{width:24px;height:24px;svg{width:24px;height:24px;}}}.center{font-size:14px;line-height:22px;width:100%;padding:20px 24px;}.bottom{width:100%;padding-right:24px;display:flex;align-items:center;justify-content:flex-end;.delete{margin-left:12px;}}}"],e=>e.theme.color_bg_white,e=>e.theme.color_text_L1,e=>e.theme.color_share_del_confirm_border_color,D.gE,e=>e.theme.color_bg_border_02);function xt(e){let{handleConfirmAction:a}=e;return(0,s.jsx)($s,{children:(0,s.jsxs)("div",{className:"confirm-content",children:[(0,s.jsxs)("div",{className:"top",children:[(0,s.jsx)("div",{children:I18N.imockSharing.delete_share}),(0,s.jsx)(on,{name:"sharing/close",onClick:()=>a(!1),className:"close"})]}),(0,s.jsx)("div",{className:"center",children:I18N.imockSharing.deletion_shared_links_warning}),(0,s.jsxs)("div",{className:"bottom",children:[(0,s.jsx)($e.tA,{onClick:()=>a(!1),children:I18N.imockSharing.cancel}),(0,s.jsx)($e.Qi,{className:"delete",onClick:()=>a(!0),children:I18N.imockSharing.delete})]})]})})}const Qs=i.memo(xt),xs=()=>{const e=(0,c.d4)(r.query.getUser),a=(0,c.d4)(r.query.getOrg),{cid:u,name:p,is_org_project:w}=(0,c.d4)(r.query.getProject),_=(0,c.d4)(r.query.getHostType),f=(0,c.d4)(r.query.getAdvancedSharingList),j=(0,c.d4)(r.query.getCanEditByUser),E=(0,c.d4)(r.query.getProjShareToEdit),z=(0,c.d4)(r.query.getTheme),[G,J]=(0,i.useState)({isOpened:!1,item:null}),[B,le]=(0,i.useState)(!1),ne=(0,c.wA)(),T=f.length===0,te=(0,i.useCallback)(async ge=>{ge&&ne({type:r.entryKey["sharing:remote:sharing:delete"],payload:{sharingCid:G.item.cid}}),J({isOpened:!1,item:null})},[G.item,J,ne]);(0,i.useEffect)(()=>{(async()=>{const pe=(await(0,$.X0)({projectCid:u})).map(V=>({...V,type:"advanced"})).sort((V,fe)=>new Date(fe.created_at).getTime()-new Date(V.created_at).getTime());if(E){const V=pe.find(fe=>fe.access_token===E);V&&(ne({type:r.entryKey["sharing:go-settingPage"],payload:{currentSharing:V,settingPageType:"edit"}}),ne({type:r.entryKey["sharing:init"],payload:{projShareToEdit:""}}))}ne({type:r.entryKey["sharing:advancedSharingList:update"],payload:{sharingList:pe}}),le(!0)})()},[u,ne]);const se=async()=>{const ge=(0,R.jc)(e,a),ue=()=>{(0,xn.kH)("create_advanced_sharing_click",{project_name:p,project_cid:u,source:_==="iframe"?"\u5DE5\u4F5C\u53F0":"\u7F16\u8F91\u533A"})};if(f.length>=ge){const V=(a==null?void 0:a.plan)==="org_full"?"MaxOrgSize":"NormalOrgSize";window.SharingEventEmitter.emit("sharing:count",{whichModal:V}),window.top.postMessage(JSON.stringify({sharingMessage:"sharing:count",payload:{whichModal:V}}),"*"),ue();return}const pe=(0,R.zM)(u,f,{view_access:w?"restricted":"public"});ne({type:r.entryKey["sharing:go-settingPage"],payload:{currentSharing:pe,settingPageType:"create"}}),ue()};return B?T?(0,s.jsxs)(Ge,{children:[(0,s.jsx)(W.C,{name:z==="dark"?"sharing/empty_dark":"sharing/empty",isColorPure:!0}),(0,s.jsx)($e.jn,{onClick:se,className:"create-sharing",children:I18N.imockSharing.new_share})]}):(0,s.jsxs)(Ee,{children:[(0,s.jsxs)("div",{className:"create-item "+(j?"":"no-edit"),onClick:se,children:[(0,s.jsx)(W.C,{name:"sharing/add_new"}),I18N.imockSharing.new_share]}),f.map((ge,ue)=>(0,s.jsx)(Ys,{setShowDelConfirmModal:J,sharingData:ge},ge.cid+"-"+ue)),G.isOpened&&(0,s.jsx)(Qs,{handleConfirmAction:te})]}):null},qn=(0,i.memo)(xs),bs=y.Ay.div.withConfig({displayName:"styles__StyledSharingDefaultMainPage",componentId:"sc-zm7bo-0"})(["width:100%;height:calc(100% - ","px);.default-top{height:calc(100% - ","px);display:flex;flex-direction:column;justify-content:center;padding:0 24px;.switch-content{height:24px;display:flex;align-items:center;color:",";font-family:PingFang SC;font-size:14px;font-style:normal;font-weight:500;line-height:normal;justify-content:space-between;span{margin-right:10px;}.visit-count{font-weight:400;font-size:12px;color:",";}}.wm-tip{height:25px;margin-top:12px;display:flex;span{height:25px;font-size:12px;font-weight:400;line-height:25px;color:",";}.divider{width:1px;height:13px;margin:6px 10px;background:",";}.btn{display:inline-block;padding:4px 6px;width:60px;height:25px;line-height:17px;font-size:12px;font-weight:500;border-radius:4px;background:",";color:",";&:hover{background:",";}}}}.default-bottom{height:","px;display:flex;align-items:center;justify-content:space-between;padding:0 24px;color:",";background:",";.bottom-left{display:flex;align-items:center;font-family:PingFang SC;font-size:14px;font-style:normal;font-weight:500;line-height:normal;}.share-icon{width:28px;height:28px;margin-left:14px;&:hover,&:active{background:",";}}svg{width:24px;height:24px;}.default-setting{display:flex;align-items:center;font-family:PingFang SC;font-size:14px;font-style:normal;font-weight:400;line-height:14px;padding:6px 12px 6px 6px;height:28px;border-radius:6px;cursor:pointer;svg{margin-right:2px;}&:not(.no-edit):hover,&:not(.no-edit):active{background:",";}&.no-edit{opacity:0.3;pointer-events:none;}}}&.canNotEdit{label{pointer-events:none;opacity:0.3;cursor:not-allowed;}}"],D.gE,D.gE,e=>e.theme.color_text_L1,e=>e.theme.color_text_L2,e=>e.theme.color_text_L2,e=>e.theme.color_btn_secondary_hover,e=>e.theme.color_info_bg,e=>e.theme.color_text_link_normal,e=>e.theme.color_grid,D.gE,e=>e.theme.color_text_L1,e=>e.theme.color_bg_canvas,e=>e.theme.color_btn_secondary_active,e=>e.theme.color_btn_secondary_active);var kt=n(86778),vs=n(53955),es=n(42781),Mn=n(63508),Rn=n(64598),vn=n(15915),ts=n(36114);const _s=e=>{var a;let{defaultShare:u}=e;const p=(0,c.wA)(),w=(0,i.useRef)(null),_=(0,c.d4)(r.query.getProject),f=u,[j,E]=(0,i.useState)(null);_&&(f.visibility=_.visibility);const z=(0,c.d4)(r.query.getHostType),G=(0,c.d4)(r.query.getIsEditMode),J=(0,c.d4)(r.query.getUser),B=z==="iframe"||G,le=(0,c.d4)(r.query.getCanEditByUser),ne=(0,c.d4)(r.query.getHostCurrentScreen),T=ne==null?void 0:ne.cid,te=(0,c.d4)(r.query.getUser),se=(0,c.d4)(r.query.getOrg),ge=(0,c.d4)(we.cb),ue=(_==null?void 0:_.is_org_project)||!1,pe=!ue&&le,[V,fe]=(0,i.useState)({top:0,left:0}),[ve,ye]=(0,i.useState)(!1),[Te,Ie]=(0,i.useState)(f==null?void 0:f.visibility);let Ve=!1,Pe=!1;if(ue){const{plan:tt,trial:Ct}=(0,Dn.rM)(se);Pe=Ct,Ve=tt===an.Sj.OrgFull&&!Pe}const Ye=Pe||Ve,nt=ge.roleName&&["org_owner","org_admin","org_manager"].includes(ge.roleName),rt=Ye?nt?"enterpriseAdmin":"enterpriseUser":"nonEnterprise",at=B&&le&&Te==="open",St=B&&le,{isURLCopied:Nt,handleCopyURL:Lt}=Qn({project:_,sharing:f,user:J}),[Dt,Gt]=(0,i.useState)(!1),[ht,It]=(0,i.useState)(!0);(0,i.useEffect)(()=>{const tt=(0,vs.fV)();if(tt){const{mdWMMktList:Ct,mtWMMktList:en,noWMMktList:Ks}=tt;(Ct.size||en.size)&&(0,vn._5)()&&It(!1);const Yo=[...Ct,...en,...Ks];Yo.length&&(0,es.q)(Yo).then($o=>{if($o.mdWMMktList.length>0||$o.mtWMMktList.length>0){if(!(0,vn._5)())return;Gt(!0),ts.U.watermarkExposureTrack("share")}})}},[]);const Ot=()=>{const{isSoloMdMember:tt}=(0,Mn.s)(te,MB.currentOrg),Ct=!!MB.currentOrg,en={mode:"mat",payEntrance:"\u7F16\u8F91\u533A-v8-"+(Ct?"\u56E2\u961F":"\u4E2A\u4EBA")+"-\u4ED8\u8D39\u7D20\u6750\u8BD5\u7528-\u5206\u4EAB\u884C\u4E3A\u63D0\u793A-"+(tt?"\u5347\u7EA7\u7D20\u6750\u4F1A\u5458":"\u5347\u7EA7\u53CC\u4F1A\u5458"),checkoutPlace:"workspace_v8_"+(Ct?"org":"solo")+"_watermark_share_"+(tt?"template":"vip-template"),checkoutArea:"proto"};MB.global.popupHelper.chargeAsync({...en}),(0,Rn._)({click_button:"\u5206\u4EAB-"+(tt?"\u5347\u7EA7\u7D20\u6750\u4F1A\u5458":"\u5347\u7EA7\u53CC\u4F1A\u5458")})},qt=(0,i.useCallback)(tt=>{const Ct={access:tt};p({type:r.entryKey["sharing:remote:sharing:update"],payload:{sharingData:f,updatedKV:Ct}}),p({type:r.entryKey["sharing:function:track"],payload:{operation:tt==="public"?"\u6240\u6709\u4EBA":"\u5207\u6362\u56E2\u961F",viewMode:f.view_mode,isDefault:!0}})},[f,p]),mt=(0,i.useMemo)(()=>{const tt=(0,s.jsx)(W.C,{name:"toolbar/selected",className:"selected-icon"});if(ue){const Ct=(f==null?void 0:f.view_access)==="public";return[{label:I18N.imockSharing.share_anyone_view,onclick:()=>qt("public"),icon:Ct?tt:(0,s.jsx)("div",{style:{width:0}})},{label:I18N.imockSharing.org_members_only,onclick:()=>qt("restricted"),icon:Ct?(0,s.jsx)("div",{style:{width:0}}):tt}]}else return[]},[qt,ue,f]),bt=(0,i.useMemo)(()=>{const tt=[{name:"sharing/embed_icon",toolTipName:I18N.imockSharing.insert,className:Tt.embed,tempDisabled:Te==="close",isBorder:!0}];return ENV.IS_ON_PREMISES||tt.unshift({name:"sharing/QRcode_icon",toolTipName:I18N.imockSharing.qr_code,className:Tt.QRcode,tempDisabled:Te==="close",isBorder:!0}),pe&&tt.push({name:"sharing/mkt_icon",toolTipName:ht?I18N.imockSharing.publish_to_community:"\u542B\u4ED8\u8D39\u7D20\u6750\uFF0C\u4E0D\u652F\u6301\u4E0A\u4F20",className:Tt.mkt,tempDisabled:Te==="close"||!ht,isColorPure:!0,isBorder:!0}),tt},[Te,pe,ht]),nn=(0,i.useCallback)(()=>{const tt=Te==="close"?"open":"close",Ct={visibility:tt};Ie(tt),p({type:r.entryKey["sharing:remote:sharing:update"],payload:{sharingData:f,updatedKV:Ct}}),p({type:r.entryKey["sharing:function:track"],payload:{operation:tt==="open"?"\u6253\u5F00\u8BBF\u95EE":"\u5173\u95ED\u8BBF\u95EE",viewMode:f.view_mode,isDefault:!0}})},[Te,p,f,Ie]),Gn=(0,i.useCallback)(tt=>{if(!ue||!at)return;const Ct=tt.currentTarget.getBoundingClientRect();let en=Ct.y+Ct.height+3;z==="iframe"&&(en=en+56),fe({top:en,left:Ct.x-1}),ye(!ve)},[ue,at,ve,fe,z]),Zn=(0,i.useCallback)(()=>{const tt=(0,R.O8)(_,f,T);(0,bn.$)(tt),Lt(),p({type:r.entryKey["sharing:function:track"],payload:{operation:"\u9ED8\u8BA4\u5206\u4EAB\u590D\u5236\u94FE\u63A5",viewMode:f.view_mode,isDefault:!0}})},[_,f,T,Lt,p]),Sn=(0,i.useCallback)(()=>{const tt=f,{view_mode:Ct}=f;p({type:r.entryKey["sharing:go-settingPage"],payload:{currentSharing:tt,settingPageType:"edit"}}),p({type:r.entryKey["sharing:function:track"],payload:{operation:"\u8BBE\u7F6E",viewMode:Ct,isDefault:!0}})},[f,p]),sn=(0,i.useCallback)((tt,Ct)=>{if(!(tt!=null&&tt.currentTarget))return;const en=f,{view_mode:Ks}=f;switch(Ct){case Tt.QRcode:tt.stopPropagation(),p({type:r.entryKey["sharing:init"],payload:{topPageIndex:"qrCode",currentSelectSharing:en}}),p({type:r.entryKey["sharing:function:track"],payload:{operation:"\u70B9\u51FB\u626B\u7801",viewMode:Ks,isDefault:!1}});break;case Tt.embed:p({type:r.entryKey["sharing:init"],payload:{topPageIndex:"embed",currentSelectSharing:en}}),p({type:r.entryKey["sharing:function:track"],payload:{operation:"\u70B9\u51FB\u5D4C\u5165\u4E09\u65B9",viewMode:Ks,isDefault:!1}});break;case Tt.mkt:(0,dt.JW)("/com24/upload?project_cid="+(_==null?void 0:_.cid),"_blank","noreferrer");break;default:break}},[p,_,f]),Jt=(0,i.useCallback)(()=>{var tt;fe({...V,left:((tt=w.current)==null?void 0:tt.getBoundingClientRect().x)-1})},[V]);return(0,i.useEffect)(()=>(window.addEventListener("resize",Jt),()=>window.removeEventListener("resize",Jt))),(0,i.useEffect)(()=>{(async()=>{const Ct=f.access_token;if(Ct)try{const en=await(0,$.dJ)(Ct);E(en.count)}catch(en){console.error("Error fetching visit count:",en)}})()},[f.access_token]),f?(0,s.jsxs)(bs,{className:S()(!St&&"canNotEdit"),children:[(0,s.jsxs)("div",{className:"default-top",children:[B?(0,s.jsxs)("div",{className:"switch-content",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{children:I18N.imockSharing.public_access}),(0,s.jsx)(kt.A,{size:"small",readOnly:!0,isIOS:!0,isChecked:Te==="open",onChange:nn})]}),(0,s.jsx)("div",{className:"visit-count",children:j!==null&&j!==0&&(0,s.jsxs)(s.Fragment,{children:[I18N.imockSharing.visit_count," ",j]})})]}):(0,s.jsxs)("div",{className:"switch-content",children:[I18N.imockSharing.default_share,j!==null&&j!==0&&(0,s.jsxs)("div",{className:"visit-count",children:[I18N.imockSharing.visit_count," ",j]})]}),(0,s.jsxs)(Ht,{className:S()("item-center","default-link",Te==="close"&&"notView",!at&&"userNoEdit"),isViewActiveDropdown:ve,children:[(0,s.jsx)("div",{ref:w,className:S()("left","sharingV2-click-visible",{"normal-hover":!0},!ue&&"can-not-edit"),onClick:Gn,children:(0,s.jsxs)("div",{className:"view-access-select",children:[(0,s.jsx)("div",{className:"chore",children:I18N.imockSharing.permission_access}),(0,s.jsx)("div",{className:"access-name",children:(a=I18N.imockSharing[D.nQ[f.view_access]])!=null?a:"missing data"}),ue&&(0,s.jsx)(W.C,{size:24,name:"sharing/dropdown_24"})]})}),(0,s.jsxs)(Xt,{type:"button",className:S()("copy","sharingV2-click-visible","url-copy-button","is-state-"+Number(Nt)),onClick:Zn,children:[(0,s.jsx)("span",{className:"state state-0",children:f.password&&f.password.length>0?I18N.imockSharing.copy_url_pwd:I18N.imockSharing.copy_url}),(0,s.jsx)("span",{className:"state state-1",children:(0,s.jsx)(W.C,{name:"new_replace/check",className:"copy-check"})})]})]}),Dt&&(0,s.jsxs)("div",{className:"wm-tip",children:[(0,s.jsx)("span",{children:I18N.WaterMark.mkt.share.tip}),(0,s.jsx)("div",{className:"divider"}),(0,s.jsx)("div",{className:"btn",onClick:Ot,children:I18N.WaterMark.mkt.remove_wm})]})]}),(0,s.jsxs)("div",{className:"default-bottom",children:[(0,s.jsxs)("div",{className:"bottom-left",children:[(0,s.jsx)("div",{children:I18N.imockSharing.share_mode}),bt.map((tt,Ct)=>(0,s.jsx)(on,{className:S()("share-icon",tt.className),name:tt.name,type:tt.className,toolTipName:tt.toolTipName,onClick:sn,tempDisabled:tt.tempDisabled,isColorPure:tt.isColorPure,isBorder:tt.isBorder,size:24},Ct))]}),B&&(0,s.jsxs)("div",{className:S()("default-setting",!at&&"no-edit"),onClick:Sn,children:[(0,s.jsx)(W.C,{name:"sharing/default_setting"}),I18N.imockSharing.setting]})]}),ve&&(0,s.jsx)(Kt,{className:S()("design-avoid","viewAccess"),position:V,onClose:()=>{ye(!1)},children:mt.map((tt,Ct)=>(0,s.jsx)(gt.Dr,{text:tt.label,onClick:tt.onclick,icon:tt.icon,disabled:tt.disabled,canClick:tt.tempDisabled},Ct))}),(0,s.jsx)(rn,{})]}):null},Pt=(0,i.memo)(_s),ln=y.Ay.div.withConfig({displayName:"styles__StyledSharingMainPage",componentId:"sc-7p2gxy-0"})(["width:100%;position:relative;height:100%;"]),Js=y.Ay.div.withConfig({displayName:"styles__StyledSharingEmbedded",componentId:"sc-xvloju-0"})(["width:100%;padding:20px 32px 0 32px;.desc{line-height:17px;font-size:12px;font-family:PingFang SC;color:",";margin-bottom:20px;}.copy-wrapper{display:flex;justify-content:space-between;height:112px;.demo-img{width:192px;height:100%;object-fit:cover;flex-shrink:0;}.copy-box{display:flex;flex-direction:column;width:148px;height:100%;border:1px solid ",";border-radius:2px;overflow:hidden;.sharing-embedded-url{flex-grow:1;height:0;padding:6px 8px;white-space:normal;word-wrap:break-word;color:",";font-size:12px;font-weight:500;}.copy-button{width:100%;height:28px;font-size:12px;background:",";border-top:1px solid ",";color:",";&:hover{background:",";}}}}.open-setting{justify-content:flex-start;.opener-wrapper{display:flex;align-items:center;span{color:#1684fc;margin-right:3px;cursor:pointer;}.svg-icon{width:6px;height:4px;cursor:pointer;transition:transform 0.2s ease-in-out;color:",";}&.is-open{.svg-icon{transform:rotate(-180deg);}}}}.open-setting.line-item.embedded-padding{padding:0;margin-top:14px;}.hidden{height:0;overflow:hidden;transition:height 0.2s;}.hidden.is-open{height:156px;}"],e=>e.theme.color_text_L1,e=>e.theme.color_btn_secondary_active,e=>e.theme.color_text_L2,e=>e.theme.color_bg_card,e=>e.theme.color_btn_secondary_active,e=>e.theme.color_text_L1,e=>e.theme.color_btn_secondary_active,e=>e.theme.color_text_L3);var ns=n(95230);const ss=y.Ay.div.withConfig({displayName:"styles__StyledSharingTitleBar",componentId:"sc-174zu8p-0"})(["width:100%;height:","px;display:flex;align-items:center;border-bottom:1px solid ",";color:",";font-size:14px;font-family:PingFang SC;font-style:normal;font-weight:500;line-height:24px;.title{cursor:pointer;display:flex;align-items:center;svg{width:32px;height:32px;margin-left:10px;}}"],D.gE,e=>e.theme.color_border_state,e=>e.theme.color_text_L1),kn=e=>{let{title:a,handleClick:u}=e;return(0,s.jsx)(ss,{children:(0,s.jsxs)("div",{className:"title",onClick:u,children:[(0,s.jsx)(W.C,{name:"sharing/nav_back"}),a]})})},Bn=()=>{let e="read_only";const a=(0,c.wA)(),u=(0,c.d4)(r.query.getCurrentSelectSharing),p=(0,c.d4)(r.query.getProject),w=(0,c.d4)(r.query.getTheme),_=(0,c.d4)(r.query.getHostCurrentScreen),f=(0,c.d4)(r.query.getHostType),j=_==null?void 0:_.cid,{screen_visible_list:E,access_token:z,is_first_canvas_open:G}=u||{};if(u.type==="default"){const{view_mode:ue}=u;e=ue}else{const{device_model:ue}=u;e=ue}let J="";const B=(0,c.d4)(r.query.getIsEditMode);u.type==="default"?J=B||e==="read_only"?j:new URLSearchParams(location.search).get("screen")||"":J=j;let le="";const ne=(0,R.a2)(z);f==="iframe"?le='<iframe src="'+ne+"/embed/v2/sharing?view_mode="+e+'" allowTransparency="true" frameborder="0"></iframe>':E&&E.length!==0?le='<iframe src="'+ne+"/embed/v2/sharing?view_mode="+e+"&selection="+E[0]+(G?"":"&screen="+J)+'" allowTransparency="true" frameborder="0"></iframe>':le='<iframe src="'+ne+"/embed/v2/sharing?view_mode="+e+(G?"":"&screen="+J)+'" allowTransparency="true" frameborder="0"></iframe>';let T=null;const te=(0,i.useCallback)(ue=>{const pe=ue.currentTarget;pe.innerHTML=I18N.imockSharing.successfully_copied,clearTimeout(T),T=setTimeout(()=>{pe.innerHTML=I18N.imockSharing.successfully_copied},3e3),(0,R.kv)({action:"\u590D\u5236\u4EE3\u7801",project:p||{},linkName:u.link_name});try{MB.notice({text:"\u590D\u5236\u6210\u529F"})}catch(V){window.top.postMessage(JSON.stringify({sharingMessage:"sharing:notice",payload:{type:"embedCopy"}}),"*")}},[u,T,p]),se=(0,i.useCallback)(ue=>{(0,bn.$)(le),te(ue)},[te,le]),ge=(0,i.useCallback)(()=>{a({type:r.entryKey["sharing:topPageIndex:jump"],payload:{topPageIndex:"edit"}})},[a]);return(0,s.jsxs)(i.Fragment,{children:[(0,s.jsx)(kn,{title:I18N.imockSharing.insert,handleClick:ge}),(0,s.jsxs)(Js,{children:[(0,s.jsx)("p",{className:"desc",children:I18N.imockSharing.zoom_insertion_desc}),(0,s.jsxs)("div",{className:"copy-wrapper",children:[(0,s.jsx)("img",{src:w===ns.Sx.DARK?"/mb-workspace/images/sharing/share_embedded_dark.png":"/mb-workspace/images/sharing/share_embedded_light.png",className:"demo-img"}),(0,s.jsxs)("div",{className:"copy-box",children:[(0,s.jsx)("p",{className:"sharing-embedded-url",children:le}),(0,s.jsx)("button",{className:"copy-button copy","data-clipboard-text":le,onClick:se,children:I18N.imockSharing.copy_code})]})]})]})]})},Xs=(0,i.memo)(Bn);var os=n(54909);const ws=(0,y.AH)([".vip-title{display:inline-block;color:",";background-color:",";font-weight:500;font-size:12px;padding:0 4px;height:20px;text-align:center;border-radius:4px;line-height:20px;}"],e=>e.isIframe?os.f.color_text_link_normal.value_dark:e.theme.color_text_link_normal,e=>e.isIframe?os.f.color_info_bg.value_dark:e.theme.color_info_bg),_n=y.Ay.div.withConfig({displayName:"styles__StyledNewSharePage",componentId:"sc-v150qt-0"})(["width:100%;height:100%;background-color:",";.basic-content{width:100%;height:calc(100% - ","px);:first-child{margin-bottom:16px;}}.header{height:","px;display:flex;align-items:center;border-bottom:1px solid ",";span{margin-left:24px;font-size:14px;font-weight:500;color:",";}}.share-link-title{margin-top:20px;margin-bottom:10px;display:flex;flex-direction:column;justify-content:center;margin-left:24px;font-size:12px;.title-text{color:",";}.name-input{display:flex;align-items:center;height:30px;font-size:14px;font-weight:500;color:",";span{max-width:212px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;position:relative;height:24px;line-height:24px;&:hover:after{box-sizing:border-box;content:'';position:absolute;top:0;left:0;width:100%;height:100%;border-bottom:1px solid rgba(22,133,252,1);}}.input-icon{margin-left:8px;}input{width:100%;margin-right:32px;height:24px;line-height:24px;color:",";border-bottom:1px solid rgba(22,133,252,1);}}}.tabs{margin:8px 24px 18px 24px;border-bottom:1px solid ",";.sharing-nav{width:90px;height:25px;min-height:25px;padding:0px;}.nav-item{flex:0;padding:0 24px 0 0;}.nav-label{height:24px;}.active .nav-label{color:",";font-weight:600;}.active.basic{.nav-label{&::after{content:'';position:absolute;bottom:-1px;width:30px;height:2px;background:",";}}}.active.visible{.nav-label{&::after{content:'';position:absolute;bottom:-1px;width:50px;height:2px;background:",";}}}}.line-item{display:flex;padding:0 24px;height:34px;align-items:center;justify-content:space-between;flex-grow:0;.item-title{color:",";}.item-expired{display:flex;.WorkspaceSelect{border-radius:6px;}.general-input{width:65px;height:28px;border-radius:6px;margin-right:12px;}}.RadioGroup label{min-height:unset;margin-right:unset;font-size:12px;&:not(:last-child){margin-right:16px;}}.switch-group{display:flex;.view-sticky{display:flex;align-items:center;margin-right:17px;label{margin-right:4px;}}.view-prd{display:flex;align-items:center;.question-action{display:flex;align-items:center;margin:0 8px;color:",";&:hover{color:",";}}}label.checked{color:",";}}}"],e=>e.theme.color_bg_white,D.gE,D.gE,e=>e.theme.color_bg_border_02,e=>e.theme.color_text_L1,e=>e.theme.color_text_L2,e=>e.theme.color_text_L1,e=>e.theme.color_text_L1,e=>e.theme.color_background_icon_hover2,e=>e.theme.color_text_L1,e=>e.theme.color_text_L1,e=>e.theme.color_text_L1,e=>e.theme.color_text_L1,e=>e.theme.color_text_L3,e=>e.theme.color_text_L2,e=>e.theme.color_text_L1),Zt=y.Ay.div.withConfig({displayName:"styles__StyledBasic",componentId:"sc-v150qt-1"})(["overflow-y:overlay;.divider{height:1px;background:",";margin:4px 24px;}&::-webkit-scrollbar-track{background-color:transparent;}&::-webkit-scrollbar{width:6px;height:6px;}&::-webkit-scrollbar-thumb{background-color:#dbdbdb;border-radius:4px;&:hover{background-color:#cccccc;}}&::-webkit-scrollbar-corner{background-color:transparent;}.expiration,.menu-list-type{cursor:pointer;display:flex;align-items:center;color:",";.misc{display:flex;align-items:center;}.drop-down-icon{margin-left:6px;}}.expiration{.drop-down-icon .svg-icon{transition:all 0.2s;transform :",";}}.menu-list-type{.drop-down-icon .svg-icon{transition:all 0.2s;transform :",";}}.password-input-item{display:flex;align-items:center;> :last-child{margin-left:10px;}}.last{margin-bottom:-8px;}.line-item.version-control{"," .vip-title{cursor:pointer;margin-left:4px;}}"],e=>e.theme.color_background_icon_hover2,e=>e.theme.color_text_L1,e=>e.isActiveContextMenu&&e.menuListType==="expiration"?"rotate(-180deg)":"rotate(0deg)",e=>e.isActiveContextMenu&&e.menuListType==="viewMode"?"rotate(-180deg)":"rotate(0deg)",ws),Ss=y.Ay.div.withConfig({displayName:"styles__StyledVisible",componentId:"sc-v150qt-2"})(["height:328px;.visible-check{height:32px;}"]),Rt=(0,y.DU)([".custom-title{display:flex;justify-content:space-between;align-items:baseline;","}}#IBOT_SELECT_MENU_ROOT .SelectMenuPortal .WorkspaceSelectMenu .SelectOption{height:28px;&:hover{.vip-title{background-color:",";}}}#IBOT_SELECT_MENU_ROOT .SelectMenuPortal .WorkspaceSelectMenu.is-open{right:-14px;}"],ws,e=>e.isIframe?os.f.color_bg_white.value_dark:e.theme.color_bg_white);var Mt=n(53159);const Yt=y.Ay.div.withConfig({displayName:"styles__StyledPasswordTextInput",componentId:"sc-k8kmsm-0"})(["display:flex;background-color:",";height:28px;&.is-warning{.password-input{border:1px solid #ff6161;border-radius:4px 0 0 4px;&:focus{border:1px solid #ff6161;}}}.divider{height:100%;width:1px;background-color:",";}.password-input-wrapper{position:relative;display:flex;align-items:center;width:100px;.password-input{position:relative;width:100%;font-size:12px;padding-right:22px;padding-left:8px;overflow:hidden;white-space:nowrap;text-overflow:clip;color:",";border:1px solid ",";border-radius:6px;height:100%;&:focus{border:1px solid ",";outline:1px solid ",";outline-offset:-2px;}&:hover{border:1px solid ",";}}.reset-pwd{width:20px;height:20px;position:absolute;border-radius:4px;right:4px;color:",";cursor:pointer;&:hover{path{fill:",";}color:",";background-color:",";}&:active{path{fill:",";}color:",";background-color:",";}}}.password-button{width:72px;padding:8px 12px;color:",";font-size:12px;line-height:16px;white-space:nowrap;border:1px solid ",";border-radius:0 4px 4px 0;border-left:none;background-color:",";&.saved{background-color:",";color:#999;pointer-events:none;}}"],e=>e.theme.color_bg_white,e=>e.theme.color_btn_secondary_active,e=>e.theme.color_text_L1,e=>e.theme.color_bg_border_02,e=>e.theme.color_proto,e=>e.theme.color_proto,e=>e.theme.color_proto,e=>e.theme.color_text_L3,e=>e.theme.color_text_L2,e=>e.theme.color_text_L2,e=>e.theme.color_btn_secondary_hover,e=>e.theme.color_text_L2,e=>e.theme.color_text_L2,e=>e.theme.color_btn_secondary_active,e=>e.theme.color_text_L1,e=>e.theme.color_bg_border_02,e=>e.theme.color_bg_canvas,e=>e.theme.color_bg_canvas);function gn(e){return Math.random().toString(36).slice(-e)}function Tn(e){const{onSubmit:a,value:u}=e,[p,w]=(0,i.useState)(e.value),_=(0,i.useRef)(null),f=G=>{w(G.target.value)},j=()=>{const G=gn(6);w(G),a(G)},E=()=>{if(!a(p)){w(u);try{MB.notice({text:"\u5BC6\u7801\u683C\u5F0F\u9519\u8BEF\uFF0C\u4E0D\u5F97\u4E3A\u7A7A\u6216\u7279\u6B8A\u5B57\u7B26",type:"warning"})}catch(J){window.top.postMessage(JSON.stringify({sharingMessage:"sharing:notice"}),"*")}}},z=G=>{G.key==="Enter"&&(E(),_.current.blur())};return(0,s.jsx)(Yt,{children:(0,s.jsxs)("div",{className:"password-input-wrapper",children:[(0,s.jsx)("input",{ref:_,type:"text",className:"password-input",value:p,onChange:f,onBlur:E,onKeyPress:z}),(0,s.jsx)(Ke.A,{content:I18N.imockSharing.gen_pwd_randomly,direction:"down",children:(0,s.jsx)(W.C,{className:"reset-pwd",name:"common/spinner",onClick:j})})]})})}function qs(e){const{isOrgProject:a,sharingData:u,updateSharing:p}=e,w=u.view_mode,{isHavePassword:_}=Jn(u),f=(0,c.wA)(),E=(0,c.d4)(r.query.getHostType)==="iframe",{comment_permission:z,wechat:G,view_sticky:J,is_first_canvas_open:B}=u,le=(0,i.useMemo)(()=>(0,R.R0)(a),[a]),ne=()=>{if(_)p({password:""}),f({type:r.entryKey["sharing:settingPage:default:confirm"]});else{const fe=gn(6);T(fe)}f({type:r.entryKey["sharing:function:track"],payload:{operation:_?"\u5173\u95ED\u5BC6\u7801\u4FDD\u62A4":"\u6253\u5F00\u5BC6\u7801\u4FDD\u62A4",viewMode:w}})},T=fe=>/^\s*$/.test(fe)||!/^\w+$/.test(fe)?!1:(p({password:fe}),f({type:r.entryKey["sharing:settingPage:default:confirm"]}),f({type:r.entryKey["sharing:function:track"],payload:{operation:"\u5237\u65B0\u5BC6\u7801",viewMode:w}}),!0),te=()=>{p({wechat:!G}),f({type:r.entryKey["sharing:settingPage:default:confirm"]}),f({type:r.entryKey["sharing:function:track"],payload:{operation:G?"\u5173\u95ED\u8DF3\u8FC7\u79FB\u52A8\u7AEF\u63D0\u793A\u9875":"\u6253\u5F00\u8DF3\u8FC7\u79FB\u52A8\u7AEF\u63D0\u793A\u9875",viewMode:w}})},se=()=>{p({is_first_canvas_open:!B}),f({type:r.entryKey["sharing:settingPage:default:confirm"]}),f({type:r.entryKey["sharing:function:track"],payload:{operation:B?"\u5173\u95ED\u9ED8\u8BA4\u6253\u5F00\u7B2C\u4E00\u4E2A\u753B\u5E03":"\u6253\u5F00\u9ED8\u8BA4\u6253\u5F00\u7B2C\u4E00\u4E2A\u753B\u5E03",viewMode:w}})},ge=(0,i.useMemo)(()=>z==="org_member",[z]),ue=()=>{p({view_sticky:J==="view_sticky"?"no_sticky":"view_sticky"}),f({type:r.entryKey["sharing:settingPage:default:confirm"]}),f({type:r.entryKey["sharing:function:track"],payload:{operation:J?"\u5173\u95ED\u6279\u6CE8\u53EF\u89C1":"\u6253\u5F00\u6279\u6CE8\u53EF\u89C1",viewMode:w}})},pe=()=>{p({comment_permission:z==="org_member"?"off":"org_member"}),f({type:r.entryKey["sharing:settingPage:default:confirm"]}),f({type:r.entryKey["sharing:function:track"],payload:{operation:ge?"\u5173\u95ED\u8BC4\u8BBA":"\u6253\u5F00\u8BC4\u8BBA",viewMode:w}})},V=fe=>{let{value:ve}=fe;p({view_access:ve}),f({type:r.entryKey["sharing:settingPage:default:confirm"]}),f({type:r.entryKey["sharing:remote:sharing:update"],payload:{sharingData:u,updatedKV:{access:ve}}}),f({type:r.entryKey["sharing:function:track"],payload:{operation:ve==="public"?"\u6240\u6709\u4EBA":"\u5207\u6362\u56E2\u961F",viewMode:w,isDefault:!1}})};return(0,s.jsxs)(Zt,{children:[a&&(0,s.jsxs)("div",{className:"line-item",children:[(0,s.jsx)("label",{className:"item-title",children:I18N.imockSharing.permission_access}),(0,s.jsx)(Mt.A,{name:"access",optionList:le,value:u.view_access,onChange:V})]}),(0,s.jsxs)("div",{className:"line-item",children:[(0,s.jsx)("label",{className:"item-title",children:I18N.imockSharing.permission_password_protect}),(0,s.jsxs)("div",{className:"password-input-item",children:[_&&(0,s.jsx)(Tn,{value:u.password,onSubmit:T}),(0,s.jsx)(kt.A,{size:"small",isIOS:!0,isChecked:_,onChange:ne})]})]}),(0,s.jsx)("div",{className:"divider"}),(0,s.jsxs)("div",{className:"line-item",children:[(0,s.jsx)("label",{className:"item-title",children:I18N.imockSharing.note_display}),(0,s.jsx)(kt.A,{size:"small",isIOS:!0,isChecked:J==="view_sticky",onChange:ue})]}),(0,s.jsxs)("div",{className:"line-item",children:[(0,s.jsx)("label",{className:"item-title",children:I18N.imockSharing.comment_allowed}),(0,s.jsx)(kt.A,{size:"small",isIOS:!0,isChecked:ge,onChange:pe})]}),(0,s.jsx)("div",{className:"divider"}),(0,s.jsxs)("div",{className:"line-item",children:[(0,s.jsx)("label",{className:"item-title",children:I18N.imockSharing.share_skip_install_run_inwechat}),(0,s.jsx)(kt.A,{size:"small",isIOS:!0,isChecked:G,onChange:te})]}),!E&&(0,s.jsxs)("div",{className:"line-item",children:[(0,s.jsx)("label",{className:"item-title",children:"\u9ED8\u8BA4\u6253\u5F00\u7B2C\u4E00\u4E2A\u753B\u5E03"}),(0,s.jsx)(kt.A,{size:"small",isIOS:!0,isChecked:B,onChange:se})]})]})}var Nn=n(60185);const Cs=()=>[{key:"read_only",label:I18N.imockSharing.read_only_mode,icon:"sharing/mode_canvas"},{key:"device",label:I18N.imockSharing.device_mode,icon:"sharing/mode_device"},{key:"inspect",label:I18N.imockSharing.inspect_mode,icon:"sharing/mode_inspect"}],is=e=>{let{sharingData:a,updateSharing:u}=e;const p=B=>()=>{u({device_model:B})},[w,_]=(0,i.useState)(!1),f=(0,i.createRef)(),j=(0,c.d4)(r.query.getTheme),[E,z]=(0,i.useState)({left:0,top:0}),G=()=>{if(!(f!=null&&f.current))return;const{left:B,top:le,height:ne}=f.current.getBoundingClientRect();z({left:B-58,top:le+ne+6}),setTimeout(()=>{_(!0)},0)},J=()=>{_(!1)};return(0,s.jsx)(Ro,{className:S()({dark:j==="dark"}),children:(0,s.jsxs)("div",{className:"device-model",children:[(0,s.jsxs)("div",{className:"device-model-header",children:[(0,s.jsx)("div",{className:"device-model-title",children:I18N.imockSharing.default_mode}),(0,s.jsxs)("div",{className:"modal-container",ref:f,children:[(0,s.jsx)(W.C,{onMouseEnter:G,onMouseLeave:J,className:"tipsIcon",name:"sharing/question",size:14}),w&&(0,s.jsx)(Ms,{theme:j,position:E})]})]}),(0,s.jsx)("div",{className:"device-model-type-container",children:Cs().map((B,le)=>{let{key:ne,label:T,icon:te}=B;const se="device-model-"+ne+"   ";return(0,s.jsxs)("div",{className:S()("device-model-type-item",se,{"is-active":ne===a.device_model,dark:j==="dark"}),onClick:p(ne),children:[(0,s.jsx)(W.C,{name:te,size:16}),(0,s.jsx)("span",{children:T})]},le)})})]})})},Ms=(0,i.memo)(e=>{const{theme:a,position:u}=e;return(0,Nn.createPortal)((0,s.jsxs)(Bo,{className:S()("device-model-modal",{light:a==="light",dark:a==="dark"}),style:{left:u.left,top:u.top},children:[(0,s.jsx)("div",{className:"icon-triangle"}),(0,s.jsxs)("div",{className:S()("modal-content"),children:[(0,s.jsxs)("div",{className:"content-item read_only",children:[(0,s.jsx)("img",{src:"/mb-proto2/images/sharing/intro_read_only_"+a+"_2.png"}),(0,s.jsxs)("div",{className:"content-item-text",children:[(0,s.jsx)("div",{className:"intro-title",children:I18N.imockSharing.read_only_mode}),(0,s.jsx)("div",{className:"intro-content",children:I18N.imockSharing.read_only_mode_intro})]})]}),(0,s.jsxs)("div",{className:"content-item device",children:[(0,s.jsx)("img",{src:"/mb-proto2/images/sharing/intro_device_"+a+"_2.png"}),(0,s.jsxs)("div",{className:"content-item-text",children:[(0,s.jsx)("div",{className:"intro-title",children:I18N.imockSharing.device_mode}),(0,s.jsx)("div",{className:"intro-content",children:I18N.imockSharing.device_mode_intro})]})]}),(0,s.jsxs)("div",{className:"content-item inspect",children:[(0,s.jsx)("img",{src:"/mb-proto2/images/sharing/intro_inspect_"+a+"_2.png"}),(0,s.jsxs)("div",{className:"content-item-text",children:[(0,s.jsx)("div",{className:"intro-title",children:I18N.imockSharing.inspect_mode}),(0,s.jsx)("div",{className:"intro-content",children:I18N.imockSharing.inspect_mode_intro})]})]})]})]}),document.body)}),Ro=y.Ay.div.withConfig({displayName:"ViewModeModel__StyledDeviceModel",componentId:"sc-spi606-0"})(["position:relative;margin-bottom:14px;margin-top:20px;.device-model{padding:0 24px;.device-model-header{display:flex;align-items:center;margin-bottom:10px;color:",";.device-model-title{margin-right:4px;line-height:14px;}}.modal-container{display:flex;.tipsIcon{color:",";&:hover{color:",";}}}.device-model-type-container{display:flex;justify-content:space-between;.svg-icon > *{fill:currentColor;}.device-model-type-item{width:111px;height:32px;display:flex;align-items:center;justify-content:center;cursor:pointer;border:1px solid rgba(219,219,219,1);border-radius:6px;color:",";&.dark{border:1px solid #4f5052;}span{margin-left:4px;font-size:14px;}&:hover{border:1px solid  ",";}.svg-icon{[stroke]{stroke:currentColor;fill:none;}}&.is-active{border:1px solid  ",";color:",";.svg-icon{color:",";}}}}}"],e=>e.theme.color_text_L2,e=>e.theme.color_text_L3,e=>e.theme.color_text_L2,e=>e.theme.color_text_L1,e=>e.theme.color_text_link_normal,e=>e.theme.color_text_link_normal,e=>e.theme.color_text_link_normal,e=>e.theme.color_text_link_normal),Bo=y.Ay.div.withConfig({displayName:"ViewModeModel__StyledDeviceModelModal",componentId:"sc-spi606-1"})(["&.device-model-modal{z-index:100;position:absolute;border-radius:8px;&.dark{.modal-content{outline:1px solid ",";}}&.light{box-shadow:0px 2px 10px 0px #27364E14;box-shadow:4px 12px 40px 0px #27364E1A;}.icon-triangle{z-index:1;position:absolute;width:10px;height:10px;top:-4px;left:58px;background:",";transform:rotate(45deg);border-top-left-radius:1px;}&.dark .icon-triangle{width:9px;height:9px;top:-5px;left:59px;border-top:1px solid ",";border-left:1px solid ",";}.modal-content{display:flex;flex-direction:column;padding:20px;width:374px;height:366px;border-radius:8px;background:",";&:lang(en){height:250px;}img{width:160px;height:96px;}.content-item:not(:last-child){margin-bottom:16px;}.content-item-text{display:flex;flex-direction:column;justify-content:center;height:100%;margin-left:16px;}.device,.read_only,.inspect{width:100%;height:96px;display:flex;flex-direction:row;justify-content:space-between;align-items:center;.intro-title{width:56px;height:22px;color:",";font-size:14px;font-weight:600;margin-bottom:6px;&:lang(en){width:max-content;}}.intro-content{color:",";}}}}"],e=>e.theme.color_bg_border_02,e=>e.theme.color_bg_white,e=>e.theme.color_bg_border_02,e=>e.theme.color_bg_border_02,e=>e.theme.color_bg_white,e=>e.theme.color_text_L1,e=>e.theme.color_text_L2);function Ns(){const e=(0,c.d4)(r.query.getCurrentSharing),a=(0,c.d4)(r.query.getProject),u=(0,c.wA)(),p=(0,i.useCallback)(f=>{u({type:r.entryKey["sharing:currentSharing:update"],payload:{updatedKV:f}})},[u]),w=f=>{u({type:r.entryKey["sharing:currentSharing:update"],payload:{updatedKV:f}}),(0,mn.a0)(a.cid+"_default_sharing_view_mode",f.device_model,mn.qW.String),u({type:r.entryKey["sharing:settingPage:default:confirm"]})},_=()=>{u({type:r.entryKey["sharing:topPageIndex:jump"],payload:{topPageIndex:"edit"}})};return(0,s.jsxs)(_n,{children:[(0,s.jsx)(kn,{title:I18N.imockSharing.sharing_setting_title,handleClick:_}),(0,s.jsxs)("div",{className:"basic-content",children:[(0,s.jsx)(is,{sharingData:e,updateSharing:w}),(0,s.jsx)(qs,{isOrgProject:a.is_org_project,sharingData:e,updateSharing:p})]})]})}var Is=n(54608);const rs=()=>(0,s.jsx)(eo,{}),eo=y.Ay.div.withConfig({displayName:"Divider__StyledDivider",componentId:"sc-x06h85-0"})(["height:1px;background:",";margin:8px 24px;"],e=>e.theme.color_background_icon_hover2);var Fn=n(7775),to=n(60081),as=n(24660),js=n(39547);function Es(e){const{isOrgProject:a,sharingData:u,updateSharing:p,settingPageType:w}=e,_=u.device_model,f=(0,i.useMemo)(()=>(0,R.R0)(a),[a]),{isHavePassword:j}=Jn(u),E=(0,c.d4)(r.query.getUser),z=(0,c.d4)(r.query.getOrg),J=(0,c.d4)(r.query.getHostType)==="iframe",B=(0,c.wA)(),le="v8-\u5206\u4EAB\u5F39\u7A97_\u81EA\u5B9A\u4E49\u94FE\u63A5\u6709\u6548\u671F";let ne=!1,T=!1;if(a){const{plan:mt}=(0,Dn.rM)(z);ne=[an.Sj.OrgExpired,an.Sj.OrgFree].includes(mt),T=mt!==an.Sj.OrgFull}else{const mt=js.t.InitialUser(E),bt=mt.planSdk.prototypePlan.getUserPlan(),nn=mt.planSdk.prototypePlan.getUserStatus();ne=[an.L1.Lifetime,an.L1.PremiumLifetime].includes(bt)&&nn!==an.pZ.Trial,T=![an.L1.Lifetime,an.L1.PremiumLifetime].includes(bt)}const{view_sticky:te,comment_permission:se,wechat:ge,enable_version_record:ue,is_first_canvas_open:pe}=u,V=mt=>{let{value:bt}=mt;p({view_access:bt})},fe=()=>{if(j)p({password:""});else{const mt=gn(6);ve(mt)}B({type:r.entryKey["sharing:function:track"],payload:{operation:j?"\u5173\u95ED\u5BC6\u7801\u4FDD\u62A4":"\u6253\u5F00\u5BC6\u7801\u4FDD\u62A4",viewMode:_,isDefault:!0}})},ve=mt=>/^\s*$/.test(mt)||!/^\w+$/.test(mt)?!1:(p({password:mt}),B({type:r.entryKey["sharing:function:track"],payload:{operation:"\u5237\u65B0\u5BC6\u7801",viewMode:_,isDefault:!0}}),!0),ye=()=>{p({wechat:!ge}),B({type:r.entryKey["sharing:function:track"],payload:{operation:ge?"\u5173\u95ED\u8DF3\u8FC7\u79FB\u52A8\u7AEF\u63D0\u793A\u9875":"\u6253\u5F00\u8DF3\u8FC7\u79FB\u52A8\u7AEF\u63D0\u793A\u9875",viewMode:_,isDefault:!0}})},Te=()=>{p({is_first_canvas_open:!pe}),B({type:r.entryKey["sharing:function:track"],payload:{operation:pe?"\u6253\u5F00\u9ED8\u8BA4\u6253\u5F00\u7B2C\u4E00\u4E2A\u753B\u5E03":"\u5173\u95ED\u9ED8\u8BA4\u6253\u5F00\u7B2C\u4E00\u4E2A\u753B\u5E03",viewMode:_,isDefault:!0}})},Ie=(0,i.useMemo)(()=>se==="org_member",[se]),Ve=()=>{p({view_sticky:!te,sticky:!te}),B({type:r.entryKey["sharing:function:track"],payload:{operation:te?"\u5173\u95ED\u6279\u6CE8\u53EF\u89C1":"\u6253\u5F00\u6279\u6CE8\u53EF\u89C1",viewMode:_,isDefault:!0}})},Pe=()=>{p({comment_permission:se==="org_member"?"off":"org_member"}),B({type:r.entryKey["sharing:function:track"],payload:{operation:Ie?"\u5173\u95ED\u8BC4\u8BBA":"\u6253\u5F00\u8BC4\u8BBA",viewMode:_,isDefault:!0}})},[Ye,nt]=(0,i.useState)("1"),[rt,at]=(0,i.useState)("forever"),{remainTimeText:St}=$n(u,!1,999);(0,i.useEffect)(()=>{u&&u.expire_type==="forever"?at(u.expire_type):(nt(u.expire_type),at(St))},[u,St]);const Nt=(0,i.useRef)(null),Lt=()=>{if(ne){const mt=(0,as.l)(z,le);if(z||(mt.mode="org",mt.isSelectOrg=!0),J){const bt="/workspace?payment_param="+(0,_t._)(mt);(0,dt.JW)(bt,"_blank","noreferrer")}else MB.global.popupHelper.chargeAsync(mt);return!0}return!1},Dt=mt=>{if(mt==="forever")p({expire_type:mt});else if(Lt()){p({expire_type:"forever"},{isCustom:!0});return}B({type:r.entryKey["sharing:function:track"],payload:{operation:mt==="forever"?"\u6709\u6548\u671F\u6C38\u4E45":"\u6709\u6548\u671F\u81EA\u5B9A\u4E49",viewMode:_,isDefault:!1}}),at(mt)},Gt=[{label:"\u6C38\u4E45\u6709\u6548",value:"forever"},{label:ne?(0,s.jsxs)("div",{className:"custom-title",children:["\u81EA\u5B9A\u4E49",(0,s.jsx)("span",{className:"vip-title",children:"\u56E2\u961F\u7248"})]}):"\u81EA\u5B9A\u4E49",value:"custom"}],ht=mt=>/^([1-9]\d{0,3}|9999)$/.test(mt),It=mt=>{const bt=mt.target.value;if(!ht(bt))try{MB.notice({text:"\u8F93\u5165\u503C\u65E0\u6548\uFF0C\u8BF7\u91CD\u65B0\u8F93\u5165",type:"warning"});return}catch(Gn){window.top.postMessage(JSON.stringify({sharingMessage:"sharing:notice"}),"*")}p({expire_type:bt}),nt(bt)},Ot=()=>{const mt=(0,as.l)(z,"\u7F16\u8F91\u533A_v8\u539F\u578B\u5206\u4EAB_\u7248\u672C\u8BB0\u5F55\u5F00\u5173","v8proto-share-set-version",!0);if(mt.immediateUse="org_full",J){const bt="/workspace?payment_param="+(0,_t._)(mt);(0,dt.JW)(bt,"_blank","noreferrer")}else MB.global.popupHelper.chargeAsync(mt)},qt=()=>{T?Ot():(p({enable_version_record:!ue}),B({type:r.entryKey["sharing:function:track"],payload:{operation:ue?"\u5173\u95ED\u67E5\u770B\u7248\u672C\u8BB0\u5F55":"\u6253\u5F00\u67E5\u770B\u7248\u672C\u8BB0\u5F55",viewMode:_,isDefault:!1}}))};return(0,s.jsxs)(i.Fragment,{children:[(0,s.jsxs)(Zt,{children:[u.type==="advanced"&&a&&(0,s.jsxs)("div",{className:"line-item",children:[(0,s.jsx)("label",{className:"item-title",children:I18N.imockSharing.permission_access}),(0,s.jsx)(Mt.A,{name:"access",optionList:f,value:u.view_access,onChange:V})]}),(0,s.jsxs)("div",{className:"line-item "+(a?"mt":""),children:[(0,s.jsx)("label",{className:"item-title",children:I18N.imockSharing.permission_password_protect}),(0,s.jsxs)("div",{className:"password-input-item",children:[j&&(0,s.jsx)(Tn,{value:u.password,onSubmit:ve}),(0,s.jsx)(kt.A,{size:"small",isIOS:!0,isChecked:j,onChange:fe})]})]}),(0,s.jsxs)("div",{className:"line-item",children:[(0,s.jsx)("label",{className:"item-title",children:I18N.imockSharing.permission_link_expired}),(0,s.jsxs)("div",{className:"item-expired",children:[rt==="custom"&&(0,s.jsx)(to.A,{className:"general-input",attr:"width",value:Ye,cursorDirection:!1,min:1,max:9999,rightTitle:"\u5929",actionButton:!1,ref:Nt,isSelect:!0,onBlur:It,disableKeyboardEvents:!0}),(0,s.jsx)(Fn.mq,{value:rt,attr:"expire_type",placeholder:w==="create"?Ye+"\u5929\u540E\u5931\u6548":rt,optionList:Gt,onChange:mt=>Dt(mt)})]})]}),(0,s.jsx)(rs,{}),(0,s.jsxs)("div",{className:"line-item",children:[(0,s.jsx)("label",{className:"item-title",children:I18N.imockSharing.note_display}),(0,s.jsx)(kt.A,{size:"small",isIOS:!0,isChecked:te,onChange:Ve})]}),(0,s.jsxs)("div",{className:"line-item mt",children:[(0,s.jsx)("label",{className:"item-title",children:I18N.imockSharing.comment_allowed}),(0,s.jsx)(kt.A,{size:"small",isIOS:!0,isChecked:Ie,onChange:Pe})]}),(0,s.jsxs)("div",{className:"line-item version-control mt",children:[(0,s.jsxs)("label",{className:"item-title",children:[I18N.imockSharing.version_control,T&&(0,s.jsx)("span",{className:"vip-title",onClick:Ot,children:I18N.Common.business_plan})]}),(0,s.jsx)(kt.A,{size:"small",isIOS:!0,isChecked:ue,readOnly:T,onChange:qt})]}),(0,s.jsx)(rs,{}),(0,s.jsxs)("div",{className:"line-item",children:[(0,s.jsx)("label",{className:"item-title",children:I18N.imockSharing.share_skip_install_run_inwechat}),(0,s.jsx)(kt.A,{size:"small",isIOS:!0,isChecked:ge,onChange:ye})]}),!J&&(0,s.jsxs)("div",{className:"line-item",children:[(0,s.jsx)("label",{className:"item-title",children:"\u9ED8\u8BA4\u6253\u5F00\u7B2C\u4E00\u4E2A\u753B\u5E03"}),(0,s.jsx)(kt.A,{size:"small",isIOS:!0,isChecked:pe,onChange:Te})]})]}),(0,s.jsx)(Rt,{isIframe:J})]})}var cn=n(74059),ks=n(66748),vt=n.n(ks);const no=y.Ay.div.withConfig({displayName:"styles__StyledCheck",componentId:"sc-1wxzhto-0"})(["position:relative;display:flex;align-items:center;cursor:pointer;color:",";&.readonly{cursor:default;}&.is-disabled{cursor:not-allowed;&::after{content:'';position:absolute;left:0;top:0;width:100%;height:100%;background-color:#f2f2f2;}}> input[type=radio],> input[type=checkbox]{position:absolute;opacity:0;width:12px;height:12px;}.Check-state{position:relative;width:12px;height:12px;font-size:12px;display:flex;align-items:center;border:1px solid ",";border-radius:",";transition:all 0.2s ease-in-out;background-color:",";.icon{transition:all 0.2s ease-in-out;position:absolute;top:-1px;left:-1px;}}.Check-label{margin-left:0.33333em;color:",";}&.is-checked .Check-state{background-color:",";border:1px solid ",";color:#fff;.icon{transform:scale(0.833);color:#f2f4f5;}}&:not(.is-checked) .Check-state .icon{speak:none;opacity:0;}"],e=>e.theme.color_text_L2,e=>e.theme.color_text_disabled01,e=>e.isCircle?"50%":"2px",e=>e.theme.color_bg_white,e=>e.theme.color_text_L2,e=>e.theme.color_text_L3,e=>e.theme.color_text_L2);class ls extends i.PureComponent{constructor(){super(...arguments),(0,cn.A)(this,"onToggle",a=>{const{onChange:u}=this.props;u(a)})}render(){const{className:a,isDisabled:u,readOnly:p,isChecked:w,isCircle:_}=this.props,f=S()(a,{"is-checked":w,"is-disabled":u,readonly:p});return(0,s.jsx)(no,{className:f,onClick:this.onToggle,isCircle:_,children:(0,s.jsx)("span",{className:"Check-state",children:(0,s.jsx)(W.C,{name:"new_replace/box_check"})})})}}(0,cn.A)(ls,"propTypes",{isChecked:vt().bool,isDisabled:vt().bool,readOnly:vt().bool,onChange:vt().func,label:vt().any,name:vt().string,value:vt().any,className:vt().string,isCircle:vt().bool}),(0,cn.A)(ls,"defaultProps",{isChecked:!1,label:"",className:"",isCircle:!1,onChange:()=>null,onToggle:()=>null});var so=n(67234),oo=n(89099),Ts=n(44622);const io=y.Ay.div.withConfig({displayName:"styles__StyledSharingScreenHiddenList",componentId:"sc-1bmii7a-0"})(["padding:0 17px;.sm-hidden-check{display:flex;height:40px;align-items:center;justify-content:space-between;.item-title{color:",";}}.sm-check{.Check-state{background-color:transparent;border:1px solid ",";}.Check-label{color:",";}&.is-checked .Check-state{background-color:#1684fc;border:1px solid #1684fc;.icon{color:#fff;}}&.is-checked.is-disabled .Check-state{background-color:",";border:1px solid ",";span.icon{color:",";}}&.is-disabled .Check-state{background-color:",";border:1px solid ",";}&.is-disabled::after{background-color:unset;}}.screen-config-header{display:flex;padding-left:8px;flex-direction:row;height:36px;&.is-disabled{cursor:not-allowed;color:#ccc;.screen-name{color:",";}> label{&.is-disabled::after{background-color:unset;}}span.Check-label{color:",";}.content-wrapper{span{color:",";}}}span.Check-label{color:",";margin-left:10px;}.content-wrapper{display:flex;align-items:center;span{&.divider{margin-left:10px;margin-right:11px;}color:",";}}}.screen-list-content{height:210px;overflow-y:overlay;background:",";margin:0 8px;&::-webkit-scrollbar-track{background-color:transparent;}&::-webkit-scrollbar{width:6px;height:6px;}&::-webkit-scrollbar-thumb{background-color:#dbdbdb;border-radius:4px;&:hover{background-color:#cccccc;}}&.dark{&::-webkit-scrollbar-thumb{background-color:#666;border-radius:4px;&:hover{background-color:#cccccc;}}}&::-webkit-scrollbar-corner{background-color:transparent;}&::-webkit-scrollbar{width:6px;}.screen-name{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}&.is-disabled{cursor:not-allowed;color:#ccc;.screen-name{color:",";}}ol,li{list-style:none;}.sm-list{height:auto;overflow-y:overlay;&::-webkit-scrollbar-track{background-color:transparent;}&::-webkit-scrollbar{width:6px;height:6px;}&::-webkit-scrollbar-thumb{background-color:#dbdbdb;border-radius:4px;&:hover{background-color:#cccccc;}}&::-webkit-scrollbar-corner{background-color:transparent;}margin-left:8px;padding-left:15px;.sm-box{display:flex;align-items:center;height:36px;&.is-disabled{cursor:not-allowed;.sm-item{cursor:not-allowed;.expander{svg{color:",";cursor:not-allowed;}}.screen-name{color:",";}}}}.sm-item{display:flex;height:100%;width:100%;align-items:center;cursor:pointer;.sm-icon{min-width:20px;min-height:20px;margin-right:4px;color:",";}.expander{display:flex;align-items:center;justify-content:center;margin-left:-15px;margin-right:1px;width:14px;height:14px;.arrow-icon{margin-right:0;color:#999;width:8px;&:not(.is-expand){transform:rotate(-90deg);}}}.screen-icon{margin-right:4px;}.screen-name{color:",";}}}}"],e=>e.theme.color_text_L1,e=>e.theme.color_text_disabled01,e=>e.theme.color_text_L1,e=>e.theme.color_btn_secondary_active,e=>e.theme.color_btn_secondary_active,e=>e.theme.color_text_disabled01,e=>e.theme.color_btn_secondary_active,e=>e.theme.color_btn_secondary_active,e=>e.theme.color_text_disabled01,e=>e.theme.color_text_disabled01,e=>e.theme.color_text_disabled01,e=>e.theme.color_text_L2,e=>e.theme.color_text_L2,e=>e.theme.color_bg_card,e=>e.theme.color_text_disabled01,e=>e.theme.color_text_disabled01,e=>e.theme.color_text_disabled01,e=>e.theme.color_text_L2,e=>e.theme.color_text_L1);class As extends i.PureComponent{constructor(a){super(a),(0,cn.A)(this,"handleCheck",f=>{const{onUpdateScreenVisibleList:j,screenVisibleList:E}=this.props,z=new Set(E),G=(0,Ts.YU)(f),J=z.has(f.cid);G.forEach(le=>{let{cid:ne}=le;J?z.delete(ne):z.add(ne)});const B=[];for(const le of z){const ne=this.screenDataMap[le];ne&&!(0,Ts.Mo)(ne)&&B.push(ne)}j(Array.from(z))}),(0,cn.A)(this,"onSelectAll",f=>{const{onUpdateScreenVisibleList:j}=this.props;j(f?this.pageKeyList:[])});const{screenMetaList:u}=a,{treeData:p,pageAttrMap:w,pageKeyList:_}=u;this.screenDataMap=w,this.screenTreeData=p,this.pageKeyList=_,this.pageExceptFolderList=(0,R.RF)(w)}componentDidMount(){const a=(0,mn.Yt)("currentJumpingSharingScreenMetaCid",void 0,mn.qW.String);(0,mn.G5)("currentJumpingSharingScreenMetaCid"),a!==void 0&&setTimeout(()=>document.getElementById("app-sharing").querySelector('.content-item[data-cid="'+a+'"]').scrollIntoView(),300)}render(){const{theme:a,screenVisibleList:u,isDisplayScreenAll:p}=this.props,w=(u==null?void 0:u.length)===this.pageKeyList.length,_=(0,R.Mj)(p,u,this.pageExceptFolderList);return(0,s.jsxs)(io,{children:[(0,s.jsxs)("div",{className:S()("screen-config-header",{"is-disabled":p}),children:[(0,s.jsx)(so.A,{className:"sm-check",label:I18N.imockSharing.select_all,onChange:this.onSelectAll,isDisabled:p,isChecked:w}),(0,s.jsxs)("div",{className:"content-wrapper",children:[(0,s.jsx)("span",{className:"divider",children:"|"}),(0,s.jsx)("span",{children:I18N.imockSharing.select_n_screens.replace("%1",_).replace("%2",this.pageExceptFolderList.length)})]})]}),(0,s.jsx)("div",{className:S()("screen-list-content",{"is-disabled":p,dark:a==="dark"}),children:(0,s.jsx)("div",{className:"sm-list",children:(0,s.jsx)(cs,{theme:a,isDisplayScreenAll:p,screenTreeData:this.screenTreeData,screenVisibleList:u,onCheck:this.handleCheck})})})]})}}(0,cn.A)(As,"propTypes",{theme:vt().string,screenMetaList:vt().object,screenVisibleList:vt().array,onUpdateScreenVisibleList:vt().func,isDisplayScreenAll:vt().bool});const cs=e=>{let{theme:a,isDisplayScreenAll:u,screenTreeData:p,screenVisibleList:w,onCheck:_}=e;return(0,s.jsx)(s.Fragment,{children:p.children.map(f=>(0,s.jsx)(An,{theme:a,treeNode:f,root:!0,depth:0,screenVisibleList:w,isDisplayScreenAll:u,onCheck:_},f.cid))})};cs.propTypes={theme:vt().string,isDisplayScreenAll:vt().bool,screenTreeData:vt().object,screenVisibleList:vt().array,onCheck:vt().func};class An extends i.PureComponent{constructor(a){super(a),(0,cn.A)(this,"handleCheck",u=>{u.stopPropagation();const{isDisplayScreenAll:p}=this.props;if(p)return;const{treeNode:w,onCheck:_}=this.props;_(w)}),(0,cn.A)(this,"handleExpand",u=>{const{isDisplayScreenAll:p}=this.props;p||(u.stopPropagation(),this.setState({expand:!this.state.expand}))}),this.state={expand:!0}}render(){const{isDisplayScreenAll:a,treeNode:u,root:p,depth:w,screenVisibleList:_,onCheck:f,theme:j}=this.props,{children:E,data:z}=u,G=E.length!==0,{expand:J}=this.state,B=_&&_.includes(u.cid);return(0,s.jsxs)("li",{className:S()("content-item"),"data-cid":u.cid,children:[(0,s.jsxs)("div",{className:S()("sm-box",{"is-display":B,"is-disabled":a}),children:[(0,s.jsx)(ls,{isDisabled:a,className:"sm-check",isChecked:B,onChange:this.handleCheck}),(0,s.jsx)(zn,{isDisabled:a,theme:j,root:p,depth:w,showExpander:G,data:z,expand:J,onClick:this.handleCheck,onExpand:this.handleExpand})]}),E.length>0&&J&&(0,s.jsx)("ol",{className:"sm-child",children:E.map(le=>(0,s.jsx)(An,{theme:j,treeNode:le,depth:w+1,screenVisibleList:_,isDisplayScreenAll:a,onCheck:f},le.cid))})]})}}(0,cn.A)(An,"propTypes",{theme:vt().string,isDisplayScreenAll:vt().bool,treeNode:vt().object,screenVisibleList:vt().array,depth:vt().number,root:vt().bool,onCheck:vt().func});class zn extends i.PureComponent{render(){const{depth:a,showExpander:u,data:p,expand:w,onExpand:_,onClick:f,theme:j,isDisabled:E}=this.props,z=19*(a+1);return(0,s.jsxs)("div",{className:S()("sm-item"),style:{paddingLeft:z},onClick:f,children:[u&&(0,s.jsx)("a",{className:"expander",onClick:_,children:(0,s.jsx)(W.C,{className:S()("arrow-icon",{"is-expand":w}),name:"common/expand"})}),(0,s.jsx)(oo.k,{icon:p.icon,theme:j,disabled:E,isExpand:w}),(0,s.jsx)("span",{className:"screen-name",children:p.name})]})}}(0,cn.A)(zn,"propTypes",{theme:vt().string,isDisabled:vt().bool,showExpander:vt().bool,data:vt().object,depth:vt().number,expand:vt().bool,onExpand:vt().func,onClick:vt().func});function ds(e){const a=[{value:1,label:I18N.imockSharing.all_pages},{value:2,label:I18N.imockSharing.partial_pages}],{sharingData:u,updateSharing:p}=e,[w,_]=(0,i.useState)(u.screen_visible_switch?2:1),f=(0,c.d4)(r.query.getTheme),j=(0,c.d4)(r.query.getScreenMetaList),E=G=>{p({screen_visible_list:G})},z=G=>{let{value:J}=G;p({screen_visible_switch:J==="2",screen_visible_list:[]}),_(J)};return(0,s.jsxs)(Ss,{children:[(0,s.jsx)("div",{className:"line-item visible-check",children:(0,s.jsx)(Mt.A,{name:"access",optionList:a,value:w,onChange:z})}),j&&(0,s.jsx)(As,{theme:f,screenMetaList:j,screenVisibleList:u.screen_visible_list,isDisplayScreenAll:!u.screen_visible_switch,onUpdateScreenVisibleList:E})]})}var ro=n(19722);const ao=e=>{let{handleConfirm:a,handleCancel:u}=e;const p=(0,c.d4)(r.query.getCurrentSharing),w=(0,c.d4)(r.query.getTheme),_=(0,c.d4)(r.query.getScreenMetaList),f=p.type==="default"?!1:p.screen_visible_switch&&(0,R.Mb)(_,p).selectedSize===0,j=()=>{f||a()};return(0,s.jsxs)(lo,{className:"confirm-bar",children:[(0,s.jsx)($e.jn,{className:S()("confirm",{dark:w==="dark"}),disabled:f,onClick:j,children:I18N.SettingPanel.confirm}),(0,s.jsx)($e.tA,{className:"cancel",onClick:u,children:I18N.imockSharing.cancel})]})},lo=y.Ay.div.withConfig({displayName:"ConfirmBar__StyledConfirmBar",componentId:"sc-1m75upe-0"})(["&.confirm-bar{display:inline-flex;flex-direction:row-reverse;padding:20px 24px;transition:all 0.2s ease-in-out 0s;position:absolute;bottom:0px;right:0px;.confirm{margin-left:12px;}}"]),co=()=>[{key:0,name:"basic",label:I18N.imockSharing.sharing_basic},{key:1,name:"visible",label:I18N.imockSharing.sharing_visible}];function uo(){const e=(0,c.d4)(r.query.getProject),a=(0,c.d4)(r.query.getSettingPageType),u=(0,c.d4)(r.query.getSubSettingPageType),p=(0,c.d4)(r.query.getCurrentSharing),w=(0,c.d4)(r.query.getAdvancedSharingList),_="recommend",f=(0,c.wA)(),[j,E]=(0,i.useState)(u==="basic"?0:1),[z,G]=(0,i.useState)(p.link_name),[J,B]=(0,i.useState)(!1),le=Pe=>{E(Pe)},ne=(0,i.useCallback)(async(Pe,Ye)=>{const{isCustom:nt}=Ye||{};f({type:r.entryKey["sharing:settingPage:advanced:confirm"],payload:{updatedKV:Pe,...nt!==void 0&&{isCustom:nt}}})},[f]),T=(0,i.useCallback)(()=>{f({type:r.entryKey["sharing:topPageIndex:jump"],payload:{topPageIndex:"edit"}}),a==="edit"&&J&&f({type:"sharing:advance:click:track"})},[f,a,J]),te=(0,i.useCallback)((Pe,Ye)=>{f({type:r.entryKey["sharing:currentSharing:update"],payload:{updatedKV:Pe}}),a==="edit"&&(B(!0),ne(Pe,Ye))},[f,a,ne,B]),se=()=>{const Pe=ve.current.value;Pe===""?(f({type:r.entryKey["sharing:init"],payload:{sharingToast:I18N.Common.name_cannot_be_empty}}),Ie(z)):(0,R.it)({value:Pe,currentSharing:p,sharingList:w})?(Ie(z),f({type:r.entryKey["sharing:init"],payload:{sharingToast:I18N.imockSharing.sharing_name_repeate_wran}})):(G(Pe),te({link_name:Pe}))},{isRenaming:ge,setIsRenaming:ue,handleKeyDown:pe,handleBlur:V,handleFocus:fe,inputRef:ve,handleInput:ye,inputName:Te,setInputName:Ie}=En({name:p.link_name,fBlur:se}),Ve=()=>{ue(!0)};return(0,s.jsxs)(_n,{children:[a==="create"?(0,s.jsx)("div",{className:"header",children:(0,s.jsx)("span",{children:I18N.imockSharing.sharing_create_title})}):(0,s.jsx)(kn,{title:I18N.imockSharing.sharing_setting_title,handleClick:T}),(0,s.jsxs)("div",{className:"share-link-title",children:[(0,s.jsx)("div",{className:"title-text",children:I18N.SmartFill.title}),(0,s.jsx)("div",{className:S()("name-input",{"is-renaming":ge}),children:ge?(0,s.jsx)("form",{children:(0,s.jsx)("input",{value:Te,onFocus:fe,onChange:ye,ref:ve,onBlur:V,onKeyPress:pe})}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{onClick:Ve,children:z}),(0,s.jsx)(ro.A,{size:20,name:"sharing/pen_20",className:"input-icon",onClick:Ve})]})})]}),(0,s.jsx)(is,{sharingData:p,updateSharing:te}),(0,s.jsxs)("div",{className:"tabs",children:[(0,s.jsx)(Is.A,{className:"sharing-nav",activeIndex:j,onTabChange:le,layoutV9:_,children:co().map(Pe=>{let{key:Ye,name:nt,...rt}=Pe;return(0,s.jsx)(Is.n,{...rt,active:j===Ye,className:S()({visible:nt==="visible",basic:nt==="basic"})},Ye)})}),(0,s.jsx)("div",{})]}),j===0?(0,s.jsx)(Es,{isOrgProject:e.is_org_project,sharingData:p,updateSharing:te,settingPageType:a}):(0,s.jsx)(ds,{sharingData:p,updateSharing:te}),a==="create"&&(0,s.jsx)(ao,{handleConfirm:ne,handleCancel:T})]})}function po(){return(0,c.d4)(r.query.getCurrentSharing).type==="default"?(0,s.jsx)(Ns,{}):(0,s.jsx)(uo,{})}const ho=y.Ay.div.withConfig({displayName:"styles__StyledSharingToast",componentId:"sc-lv8qo5-0"})(["z-index:1;border-radius:4px;position:absolute;display:flex;align-items:center;padding:6px 10px;color:#FFF;font-size:14px;font-family:PingFang SC;font-style:normal;font-weight:400;line-height:24px;background:#454647;top:72px;left:50%;transform:translateX(-50%);svg{width:21px;height:21px;margin-right:4px;}"]),Ls=(0,i.memo)(function(){const a=(0,c.d4)(r.query.getSharingToast),u=(0,c.wA)();return(0,i.useEffect)(()=>{setTimeout(()=>{u({type:r.entryKey["sharing:init"],payload:{sharingToast:""}})},1500)},[u]),a?(0,s.jsxs)(ho,{children:[(0,s.jsx)(W.C,{name:"sharing/toast_waring",isColorPure:!0}),a]}):null}),mo=y.Ay.div.withConfig({displayName:"styles__StyledSharingQrCode",componentId:"sc-17am38q-0"})(["margin-top:70px;display:flex;align-items:center;justify-content:flex-start;flex-direction:column;height:calc(100% - ","px);p{margin-top:16px;color:","}"],D.gE,e=>e.theme.color_text_L3);var Os=n(80582);const Ps=y.Ay.div.withConfig({displayName:"styles__StyledQRcodeBox",componentId:"sc-1xfoi8f-0"})(["display:flex;justify-content:center;align-items:center;background-color:",";border-radius:8px;width:130px;height:130px;filter:",";border:1px solid ",";.qrcode{width:110px;height:110px;}&.qrcode-and-icon{.p-icon-box{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:24px;height:24px;overflow:hidden;background-color:#f2f2f3;border-radius:2px;img{display:block;width:100%;height:100%;}}}"],e=>e.theme.color_sharing_qrcode_bg,e=>e.theme.color_sharing_qrcode_filter,e=>e.theme.color_share_del_confirm_border_color);function us(e){const{isQRcodePanel:a,text:u,project:p}=e,w=p.icon||null;return a?(0,s.jsxs)(Ps,{className:"qrcode-and-icon",children:[(0,s.jsx)(Os.A,{className:"qrcode",text:u,width:110,height:110}),w&&(0,s.jsx)("div",{className:"p-icon-box",children:(0,s.jsx)("img",{src:w})})]}):null}const go=()=>{const e=(0,c.wA)(),a=(0,c.d4)(r.query.getCurrentSelectSharing),u=(0,c.d4)(r.query.getProject),p=(0,c.d4)(r.query.getHostCurrentScreen),w=p==null?void 0:p.cid,_=(0,i.useMemo)(()=>(0,R.O8)(u,a,w),[a,u,w]),f=(0,i.useCallback)(()=>{e({type:r.entryKey["sharing:topPageIndex:jump"],payload:{topPageIndex:"edit"}})},[e]);return(0,s.jsxs)(i.Fragment,{children:[(0,s.jsx)(kn,{title:I18N.imockSharing.qr_code,handleClick:f}),(0,s.jsxs)(mo,{children:[(0,s.jsx)(us,{isQRcodePanel:!0,project:u,text:_}),(0,s.jsx)("p",{children:I18N.imockSharing.qr_tips})]})]})},tn=(0,i.memo)(go),fo=()=>{var e;const a=(0,c.wA)(),u=(0,c.d4)(r.query.getHostSharingData),p=(0,c.d4)(r.query.getProject),w=p==null?void 0:p.is_org_project,{link_name:_,view_access:f}=u,j=(0,c.d4)(r.query.getUser),E=(0,c.d4)(r.query.getHostType),z=(0,c.d4)(r.query.getIsEditMode),G=E==="iframe"||z,J=(0,c.d4)(r.query.getCanEditByUser),B=(0,c.d4)(r.query.getHostCurrentScreen),le=B==null?void 0:B.cid,{isURLCopied:ne,handleCopyURL:T}=Qn({project:p,sharing:u,user:j}),te=G&&J,se=(0,i.useMemo)(()=>[{name:"sharing/QRcode_icon",toolTipName:I18N.imockSharing.qr_code,className:Tt.QRcode,tempDisabled:!1,isBorder:!0},{name:"sharing/embed_icon",toolTipName:I18N.imockSharing.insert,className:Tt.embed,tempDisabled:!1,isBorder:!0}],[]),ge=(0,i.useCallback)(()=>{const pe=(0,R.O8)(p,u,le);(0,bn.$)(pe),T(),a({type:r.entryKey["sharing:function:track"],payload:{operation:"\u9AD8\u7EA7\u5206\u4EAB\u590D\u5236\u94FE\u63A5",viewMode:u.device_model,isDefault:!1}})},[a,u,T,le,p]),ue=(0,i.useCallback)((pe,V)=>{if(!(pe!=null&&pe.currentTarget))return;const fe=u,{device_model:ve}=u;switch(V){case Tt.QRcode:pe.stopPropagation(),a({type:r.entryKey["sharing:init"],payload:{topPageIndex:"qrCode",currentSelectSharing:fe}}),a({type:r.entryKey["sharing:function:track"],payload:{operation:"\u70B9\u51FB\u626B\u7801",viewMode:ve,isDefault:!1}});break;case Tt.embed:a({type:r.entryKey["sharing:init"],payload:{topPageIndex:"embed",currentSelectSharing:fe}}),a({type:r.entryKey["sharing:function:track"],payload:{operation:"\u70B9\u51FB\u5D4C\u5165\u4E09\u65B9",viewMode:ve,isDefault:!1}});break;default:break}},[a,u]);return(0,s.jsxs)(bs,{children:[(0,s.jsxs)("div",{className:"default-top",children:[(0,s.jsx)("div",{className:"switch-content",children:_}),(0,s.jsxs)(Ht,{className:S()("item-center","default-link",!te&&"userNoEdit"),children:[(0,s.jsx)("div",{className:S()("left","sharingV2-click-visible",{"normal-hover":!0},!w&&"can-not-edit"),children:(0,s.jsxs)("div",{className:"view-access-select",children:[(0,s.jsx)("div",{className:"chore",children:I18N.imockSharing.permission_access}),(0,s.jsx)("div",{className:"access-name",children:(e=I18N.imockSharing[D.nQ[f]])!=null?e:"missing data"}),w&&(0,s.jsx)(W.C,{size:24,name:"sharing/dropdown_24"})]})}),(0,s.jsxs)(Xt,{type:"button",className:S()("copy","sharingV2-click-visible","url-copy-button","is-state-"+Number(ne)),onClick:ge,children:[(0,s.jsx)("span",{className:"state state-0",children:u.password&&u.password.length>0?I18N.imockSharing.copy_url_pwd:I18N.imockSharing.copy_url}),(0,s.jsx)("span",{className:"state state-1",children:(0,s.jsx)(W.C,{name:"new_replace/check",className:"copy-check"})})]})]})]}),(0,s.jsx)("div",{className:"default-bottom",children:(0,s.jsxs)("div",{className:"bottom-left",children:[(0,s.jsx)("div",{children:I18N.imockSharing.share_mode}),se.map((pe,V)=>(0,s.jsx)(on,{className:S()("share-icon",pe.className),name:pe.name,type:pe.className,toolTipName:pe.toolTipName,onClick:ue,tempDisabled:pe.tempDisabled,isColorPure:pe.isColorPure,isBorder:pe.isBorder,size:24},V))]})})]})},yo=(0,i.memo)(fo),Un=()=>{const e=(0,c.d4)(r.query.getTopPageIndex),a=(0,c.d4)(r.query.getTabIndex),u=(0,c.d4)(r.query.getSharingToast),p=(0,c.d4)(r.query.getHostSharingData),w=!p||p.type==="default",_=(0,c.d4)(r.query.getProject),f=(0,c.d4)(r.query.getIsEditMode),E=(0,c.d4)(r.query.getHostType)==="iframe"||f,[z,G]=(0,i.useState)(p);return(0,i.useEffect)(()=>{const{sharing:J}=(0,$.Y5)(_);G(J)},[p,_]),(0,s.jsxs)(ln,{children:[e==="edit"&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(be,{}),a===0?!E&&!w?(0,s.jsx)(yo,{}):z?(0,s.jsx)(Pt,{defaultShare:z}):(0,s.jsx)(s.Fragment,{}):(0,s.jsx)(qn,{})]}),e==="embed"&&(0,s.jsx)(Xs,{}),e==="setting"&&(0,s.jsx)(po,{}),e==="qrCode"&&(0,s.jsx)(tn,{}),u&&(0,s.jsx)(Ls,{})]})},xo=(0,i.memo)(Un),Ds=/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z0-9-]{2,63}$/i,bo=/^(?:\+?86)?1(?:3\d{3}|5[^4\D]\d{2}|8\d{3}|7(?:[0-35-9]\d{2}|4(?:0\d|1[0-2]|9\d))|9[0-35-9]\d{2}|6[2567]\d{2}|4[579]\d{2})\d{6}$/;var ps=n(46795);const hs=async(e,a)=>{try{let p=null;return e?p=await(0,ps.DE)("/api/dashboard/v4/users/search?email="+e):a&&(p=await(0,ps.DE)("/api/dashboard/v4/users/search?mobile="+a)),p}catch(p){var u;return p!=null&&(u=p.message)!=null&&u.includes("failed with 404")?{}:null}};var ms=n(29584);const vo=(0,y.Ay)(ms.A).withConfig({displayName:"styles__StyledPermissionTipDropdown",componentId:"sc-1ofnwys-0"})(["display:flex;align-items:center;justify-content:center;line-height:14px;button{.permisison-tip-icon{margin:5px 6px 0 6px;&:hover{path{fill:","}}}}"],e=>e.theme.color_project_access_tip_hover),wn=(0,y.DU)(['#IBOT_DROPDOWN_MENU_ROOT{.DropdownMenuBase{.permission-tip{.content{min-height:fit-content;padding:0;background-color:#333;border:1px solid #4f5052;.multi-line{padding:14px 14px 20px 14px;p,ul{padding:0;padding-left:3px;}&::before{content:"";width:0;height:0;border:11px solid transparent;border-bottom-color:#4F5052;position:absolute;top:-1px;left:',';margin-top:-18px;border-bottom-width:9px;}&::after{content:"";width:0;height:0;border:9px solid transparent;border-bottom-color:#333;position:absolute;top:3px;left:',";margin-top:-18px;border-bottom-width:7px;}}.single-line{padding:4px 12px;p{margin:0;padding:0;}}h4{font-weight:500;font-size:14px;line-height:16px;margin:0;margin-bottom:10px;}ul{text-align:justify;list-style:none;li{list-style:none;margin-bottom:8px;&:last-child{margin-bottom:0px;}}}.desc{font-weight:400;font-size:12px;line-height:18px;white-space:nowrap;.strong{font-weight:500;}.link{margin-left:4px;text-align:left;color:#1684fc;cursor:pointer;&:hover{text-decoration:underline;}}}.extra{white-space:nowrap;margin:12px 0 8px;font-weight:400;font-size:12px;color:rgba(255,255,255,0.5);}}}}}"],e=>e.isOnlyMemberManager?"66px":"88px",e=>e.isOnlyMemberManager?"68px":"90px");let fn=function(e){return e.OrgSpace="orgspace-permission-tip",e.OrgSpaceLimiter="orgspace-limiter-permission-tip",e.RootFolder="root-folder-permission-tip",e.SubFolder="sub-folder-permission-tip",e.Project="project-permission-tip",e}({});const _o=e=>{const{tipType:a,position:u="center",className:p,isOnlyMemberManager:w=!1}=e,[_,f]=(0,i.useState)({}),j=(0,c.d4)(we.il);(0,i.useEffect)(()=>{const z=document.querySelector(".sharingBoxV2 ");if(z){const{left:G,top:J}=z.getBoundingClientRect();f({left:Number(G)+13,top:Number(J)+29})}},[]);const E=()=>{switch(a){case fn.Project:return(0,s.jsxs)("section",{className:"multi-line",children:[(0,s.jsxs)("h4",{children:["\u{1F537} ",I18N.imockSharing.permissions]}),(0,s.jsxs)("ul",{children:[(0,s.jsxs)("li",{children:[(0,s.jsxs)("strong",{children:[I18N.imockSharing.permissions_manager,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_manager_file]}),(0,s.jsxs)("li",{children:[(0,s.jsxs)("strong",{children:[I18N.imockSharing.permissions_can_edit,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_can_edit_file]}),(0,s.jsxs)("li",{children:[(0,s.jsxs)("strong",{children:[I18N.imockSharing.permissions_only_view,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_only_view_file]}),(0,s.jsxs)("li",{children:[(0,s.jsxs)("strong",{children:[I18N.imockSharing.permissions_ban_view,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_ban_view_file]})]}),(0,s.jsx)("p",{className:"extra",dangerouslySetInnerHTML:{__html:I18N.imockSharing.permissions_automatically_sync_desc}})]});case fn.SubFolder:return(0,s.jsxs)("section",{className:"multi-line",children:[(0,s.jsx)("h4",{children:I18N.imockSharing.permissions}),(0,s.jsxs)("p",{className:"extra",children:["\u6839\u6587\u4EF6\u5939\u6210\u5458\u53CA\u6743\u9650\u81EA\u52A8\u540C\u6B65\u81F3\u7EC4\u5185\uFF0C\u82E5\u6709\u8C03\u6574\uFF0C",(0,s.jsx)("br",{}),"\u8BF7\u524D\u5F80\u6839\u6587\u4EF6\u5939\u8FDB\u884C\u6210\u5458\u53CA\u6743\u9650\u8C03\u6574"]})]});case fn.RootFolder:return(0,s.jsxs)("section",{className:"multi-line",children:[(0,s.jsx)("h4",{children:I18N.imockSharing.permissions}),(0,s.jsxs)("ul",{children:[(0,s.jsxs)("li",{className:"desc",children:[(0,s.jsxs)("strong",{children:[I18N.imockSharing.permissions_manager,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_manager_folder]}),(0,s.jsxs)("li",{className:"desc",children:[(0,s.jsxs)("strong",{children:[I18N.imockSharing.permissions_can_edit,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_can_edit_folder]}),(0,s.jsxs)("li",{className:"desc",children:[(0,s.jsxs)("strong",{children:[I18N.imockSharing.permissions_only_view,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_only_view_folder]}),(0,s.jsxs)("li",{className:"desc",children:[(0,s.jsxs)("strong",{children:[I18N.imockSharing.permissions_ban_view,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_ban_view_folder]})]})]});case fn.OrgSpace:return(0,s.jsxs)("section",{className:"multi-line",children:[(0,s.jsx)("h4",{children:I18N.imockSharing.permissions}),(0,s.jsxs)("ul",{children:[(0,s.jsxs)("li",{className:"desc",children:[(0,s.jsxs)("strong",{children:[I18N.imockSharing.permissions_space_manager,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_space_manager_desc]}),(0,s.jsxs)("li",{className:"desc",children:[(0,s.jsxs)("strong",{children:[I18N.imockSharing.permissions_space_collaboration_member,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_space_collaboration_member_desc]}),(0,s.jsxs)("li",{className:"desc",children:[(0,s.jsxs)("strong",{children:[I18N.imockSharing.permissions_space_review_member,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_space_review_member_desc]}),(0,s.jsxs)("li",{className:"desc",children:[(0,s.jsxs)("strong",{children:[I18N.imockSharing.permissions_space_unregistered_member,I18N.imockSharing.common_colon]}),I18N.imockSharing.permissions_space_unregistered_member_desc]})]})]});case fn.OrgSpaceLimiter:return(0,s.jsx)("section",{className:"single-line",children:(0,s.jsxs)("p",{className:"desc",children:["\u8BE5\u6210\u5458\u53EA\u5BF9\u56E2\u961F\u5185\u6307\u5B9A\u6587\u4EF6/\u6587\u4EF6\u5939\u53EF\u67E5\u770B/\u7F16\u8F91 ",(0,s.jsx)("a",{href:"/hc/articles/222",className:"link",children:" \u67E5\u770B\u8BE6\u60C5"})]})});default:break}};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(vo,{opener:(0,s.jsx)("svg",{className:"permisison-tip-icon",width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.33341 7.00008C2.33341 4.42275 4.42275 2.33341 7.00008 2.33341C9.57741 2.33341 11.6667 4.42275 11.6667 7.00008C11.6667 9.57741 9.57741 11.6667 7.00008 11.6667C4.42275 11.6667 2.33341 9.57741 2.33341 7.00008ZM7.00008 1.16675C3.77842 1.16675 1.16675 3.77842 1.16675 7.00008C1.16675 10.2217 3.77842 12.8334 7.00008 12.8334C10.2217 12.8334 12.8334 10.2217 12.8334 7.00008C12.8334 3.77842 10.2217 1.16675 7.00008 1.16675ZM6.00842 5.82717V5.69267C6.00912 5.53262 6.06636 5.35509 6.19406 5.22162C6.31201 5.09835 6.54189 4.95841 6.99673 4.95841C7.42386 4.95841 7.72087 5.16234 7.87234 5.39386C8.0341 5.6411 8.00223 5.84856 7.92545 5.9522C7.82971 6.08146 7.71083 6.20085 7.56715 6.33019C7.52345 6.36954 7.46957 6.41642 7.4118 6.46669L7.41179 6.4667C7.30849 6.55659 7.19276 6.6573 7.10047 6.74511C6.77279 7.05691 6.41686 7.49208 6.41686 8.16675L6.41875 8.46216L7.5854 8.45467L7.58354 8.16515C7.58397 7.96563 7.66576 7.81765 7.90469 7.5903C7.985 7.51388 8.0572 7.45142 8.1398 7.37995L8.13984 7.37992C8.20093 7.32707 8.26773 7.26928 8.34772 7.19727C8.51407 7.04752 8.69919 6.8677 8.86295 6.64662C9.30517 6.0496 9.20176 5.29489 8.84863 4.75513C8.48521 4.19965 7.82399 3.79175 6.99673 3.79175C6.28084 3.79175 5.72583 4.02342 5.35109 4.41508C4.98633 4.79631 4.84308 5.27667 4.84175 5.68971V5.82717H6.00842ZM6.41874 9.04175V10.2107H7.58541V9.04175H6.41874Z",fill:"#999999"})}),mode:"dark",menuX:u,shouldOpenOnHover:!0,hoverDelay:100,menuClassName:S()("permission-tip",p&&p),menu:E(),menuBaseStyle:_}),(0,s.jsx)(wn,{isOnlyMemberManager:w})]})};var Rs=n(99739);const wo=y.Ay.div.withConfig({displayName:"styles__StyledReadOnlyOption",componentId:"sc-1j0j1bo-0"})(["min-width:65px;text-align:start;padding-left:10px;cursor:default;&:lang(en){width:auto;}&.disabled{cursor:not-allowed;}.label{color:#9EA9BC;font-size:12px;}"]),Bs=(0,y.Ay)(Rs.Ay).withConfig({displayName:"styles__StyledPermissionSelector",componentId:"sc-1j0j1bo-1"})(["min-width:65px;&:lang(en){width:auto;}&.is-disabled{opacity:1;.caret{display:none;}button{span{color:#9EA9BC;}}}&.is-open .caret{transform:rotate(180deg);svg{transform:translateY(-3px) rotate(-45deg);}}button{text-align:right;span{color:#35445D;font-size:12px;}}.caret{margin:0 0 0 6px;transition:transform .2s;svg{width:6px;height:6px;margin:1px;border:solid 1px #35445D;border-top-color:transparent;border-right-color:transparent;transform:translateY(0) rotate(-45deg);path{opacity:0;}}}"]),gs=(0,y.DU)([".permission-select.CheckSelectMenu{padding:8px;border-radius:8px;border:1px solid ",";color:",";background:",";box-shadow:",";&:lang(en){min-width:136px;}&:not(.is-empty){padding:8px;}.SelectOption{height:24px;margin-bottom:2px;padding:0;color:",";border-radius:4px;line-height:24px;&:last-child{margin-bottom:0;}&.is-active,&:not(.empty-msg):not(.is-disabled):hover{background-color:",";color:",";}&:hover{color:",";}> span.Ellipsis{min-width:80px;padding:0 10px;margin-left:20px;&:lang(en){width:calc(100% - 22px);}}> .svg-icon{position:absolute;margin:0 0 0 10px;path{fill:",";}}&[data-value=\"__mb_delete_permission\"]{position:relative;margin-top:9px;&::before{position:absolute;top:-5px;right:0;left:0;border-top:solid 1px rgba(255,255,255,.1);content:'';}}}}"],e=>e.theme.color_bg_border_01,e=>e.theme.color_text_L1,e=>e.theme.color_bg_white,e=>e.theme.shadow_m,e=>e.theme.color_text_L1,e=>e.theme.color_btn_secondary_hover,e=>e.theme.color_text_L1,e=>e.theme.color_text_L1,e=>e.theme.color_text_L1);var fs=n(23485);const So=e=>{let a=[],u={};switch(e){case P.W.OrgSpace:a=xe,u=qe.FU;break;case P.W.Folder:a=je,u=qe.lY;break;case P.W.Project:a=Re,u=qe.au;break;default:break}return a.map(p=>({...p,permission:(0,ee.pf)(p.value,u)}))},Co=(e,a)=>{let u={};switch(e){case P.W.OrgSpace:return a;case P.W.Folder:u=He;break;case P.W.Project:u=ze;break;default:return a}return u[a]||a},Fs=e=>{switch(e){case P.W.OrgSpace:return I18N.imockSharing.permission_no_right_project;case P.W.Folder:return I18N.imockSharing.permission_no_right_folder;case P.W.Project:return I18N.imockSharing.permission_no_right_project;default:return I18N.imockSharing.permission_no_right}},Mo=e=>{const{value:a,optionList:u,handleChange:p}=e,w=(0,i.useRef)(null),[_,f]=(0,i.useState)(!0),j=u.filter(z=>z.value===a),E=(0,i.useCallback)(()=>{w.current&&w.current.close()},[]);return(0,i.useEffect)(()=>(document.body.addEventListener("wheel",E),()=>{document.body.removeEventListener("wheel",E)}),[E]),(0,i.useEffect)(()=>{const z=setTimeout(()=>{f(!1)},1e3);return()=>{clearTimeout(z)}},[]),_?(0,s.jsx)(Bs,{unstyled:!0,ref:w,placeholder:I18N.imockSharing.submit,menuTheme:"check",value:a,menuX:"right",onChange:p,optionList:j,menuClassName:"permission-select"}):(0,s.jsx)(Bs,{unstyled:!0,ref:w,placeholder:I18N.imockSharing.submit,menuTheme:"check",value:a,menuX:"right",onChange:p,optionList:u,menuClassName:"permission-select"})},No=(0,i.memo)(Mo);var Io=n(44367);const zs=(e,a)=>{const{isSelf:u,userCurrentSpacePermission:p,userCurrentScopePermisson:w,memberCurrentScopePermisson:_,memberTopScopePermisson:f,memberOrgPermisson:j,memberIsSpaceManager:E}=a;return e.map(G=>{let{value:J,label:B,permission:le}=G,ne=!1;const T=le.roleName.includes("ban_viewer");return p.isManager&&u?ne=T:w.isMember?w.level<_.level||w.level<le.level?ne=!0:(!f.isMember&&f.isViewer&&!j.isMember&&le.isMember&&(ne=!0),T&&(ne=!w.isManager||u||E)):ne=!0,Object.assign({},{value:J,label:I18N.imockSharing[B]||B},{isDisabled:ne})})},Us=e=>{const{readOnlyTooltip:a,isReset:u=!1,member:p,isOnlyOneManager:w,permissionScope:_,onPermissionChange:f,currentOrg:j}=e;let{readOnly:E}=e,z=E,G=a;const J=So(_),{permissionMap:B}=p,{memberCurrentScopePermisson:le,userCurrentScopePermisson:ne,userCurrentSpacePermission:T,currentScopeRoleName:te,isSelf:se,userIsSpaceLimiter:ge,memberIsSpaceLimiter:ue}=B;let pe=zs(J,B);_===P.W.OrgSpace&&!ue&&(pe=pe.filter(ve=>ve.value!=="space_limiter")),(_===P.W.OrgSpace||ue)&&!le.isUnknown&&!le.isInherited&&!u&&(se&&!le.isUnknown||ne.isManager&&pe.push({value:ae,label:I18N.imockSharing.remove,isDisabled:!1})),!z&&_===P.W.OrgSpace&&ge&&!u&&(E=!0,z=!0),!z&&([P.W.Project,P.W.Folder].includes(_)||le.isViewer)&&!u&&(ne.isMember?ne.level<le.level?(z=!0,G="\u65E0\u6743\u66F4\u6539\u6743\u9650\u9AD8\u7684\u6210\u5458\u6743\u9650"):le.isManager&&w?(z=!0,G=Fs(_)):(_===P.W.OrgSpace&&!ne.isManager||[P.W.Project,P.W.Folder].includes(_)&&!ne.isManager&&le.isBanned)&&(z=!0):T!=null&&T.isManager&&se||(z=!0));let V=Co(_,te);u&&(V="");const fe=ve=>{z||f(p,ve)};if(j){const{protoSeat:ve}=(0,Io.rA)(j,Number(p.user_id)),Te=ve?"":"(\u65E0\u5E2D\u4F4D)";pe.map(Ie=>{(Ie.value==="project_manager"||Ie.value==="project_member")&&(Ie.label+=Te)})}if(z||E){const ve=pe.find(ye=>ye.value===V);return ve?(0,s.jsx)(wo,{className:S()("read-only-option",!E&&z&&"disabled"),children:(0,s.jsx)(fs.A,{content:G,position:"bottom",children:(0,s.jsx)("span",{className:"label",children:ve.label})})}):null}return(0,s.jsx)(No,{value:V,handleChange:fe,optionList:pe})},jo=(0,i.memo)(Us),Ws=(0,y.DU)(["#IBOT_DROPDOWN_MENU_ROOT{.add-outer-member-tip{.content{min-height:fit-content;padding:2px 8px;background-color:#333;.desc{white-space:nowrap;.copy-text{text-decoration:underline;cursor:pointer;}}}}}"]),ys=y.Ay.section.withConfig({displayName:"styles__StyledMemberList",componentId:"sc-188anjy-0"})(['margin-bottom:10px;width:406px;&.sharing{.members > .enterTip > span > div{display:flex;flex-direction:column;align-items:center;justify-content:center;}}&[data-expanded="false"]{.members{display:none;}.caption{margin-bottom:15px;}}&+.member-list{margin-top:10px;}.caption{position:relative;display:flex;align-items:center;justify-content:flex-start;padding:0;font-weight:400;font-size:14px;line-height:20px;color:',";span{color:",";}.invite-item{display:flex;align-items:center;height:32px;text-align:center;font-family:PingFang SC;width:fit-content;border-radius:6px;font-weight:500;font-size:14px;color:",";cursor:pointer;position:absolute;right:20px;z-index:1;&:hover{color:",";}&:active{color:",";}.svg-icon{width:32px;color:inherit;& > *{fill:currentColor;}}}.btn-add-collaborator{position:absolute;right:0;display:flex;align-items:center;color:#1883FB;.svg-icon{margin-right:4px;width:12px;height:12px;}}.btn-toggle-expand{margin-left:10px;user-select:none;color:#1883FB;cursor:pointer;&.with-red-point{position:relative;&::after{content:'';background:rgb(228,33,33);position:absolute;width:6px;height:6px;top:-2px;left:100%;border-radius:50%;}}}}.members{.item{display:flex;align-items:center;justify-content:space-between;padding:10px 20px;&:hover{background:",";border-radius:4px;}.title,.account,.Select{button{font-weight:500;font-size:14px;line-height:20px;letter-spacing:1.2px;color:#545F6F;.Ellipsis{max-width:100px;&:lang(en){max-width:none;}}}}.title{flex:1;display:flex;justify-content:flex-start;align-items:center;.avatar{width:30px;height:30px;overflow:hidden;border-radius:50%;margin-right:12px;border:1px solid ",";&.avater-name{text-align:center;background:rgb(22,133,252);justify-content:center;color:white;font-size:14px;text-align:center;display:flex;align-items:center;}}.name{width:120px;overflow:hidden;color:#1f292e;white-space:nowrap;text-overflow:ellipsis;}}.account{flex:1;width:160px;color:#999;}.register{display:inline-block;text-align:center;height:22px;line-height:22px;border:1px solid rgb(41,141,248);box-sizing:border-box;border-radius:4px;width:48px;color:rgb(41,141,248);font-size:12px;font-weight:400;margin-left:8px;position:relative;color:red;&:lang(en){display:block;background:#F1F8FF;border:none;color:#1684FC;padding:3px 4px;width:max-content;margin-left:10px;font-weight:500;font-size:12px;line-height:12px;height:auto;}}}}.invite{.item{.title{.name{width:150px;&:lang(en){width:max-content;flex:1;display:flex;align-items:center;}}}.account{width:150px;display:inline-block;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;word-break:break-all;&:lang(en){margin:10px;}}}.addOuter{color:#999999;width:108px;text-align:right;.add{font-size:12px;margin-right:2px;}button{color:rgb(91,107,115);position:relative;top:2px;left:4px;}}.enterTip{font-size:12px;color:",";}}.inviteJoin{border-radius:4px;background:#298DF8;color:#fff;font-size:12px;font-weight:400;padding:7px 11px;cursor:pointer;word-break:keep-all;&:lang(en){padding:5px 11px;}}&.dark{.members .item .register{&:lang(en){background:rgba(22,132,252,0.1);}}}"],e=>e.theme.color_text_L1,e=>e.theme.color_text_L1,e=>e.theme.color_text_link_normal,e=>e.theme.color_text_link_hover,e=>e.theme.color_text_link_hover,e=>e.theme.color_btn_secondary_hover,e=>e.theme.color_share_member__border_color,e=>e.theme.color_AI_Text_Auto_fill_path_hover);var Hs=n(18824);function Hn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Vn=n(7043),Ln=Number.isNaN||function(a){return typeof a=="number"&&a!==a};function Eo(e,a){return!!(e===a||Ln(e)&&Ln(a))}function l(e,a){if(e.length!==a.length)return!1;for(var u=0;u<e.length;u++)if(!Eo(e[u],a[u]))return!1;return!0}function t(e,a){a===void 0&&(a=l);var u,p=[],w,_=!1;function f(){for(var j=[],E=0;E<arguments.length;E++)j[E]=arguments[E];return _&&u===this&&a(j,p)||(w=e.apply(this,j),_=!0,u=this,p=j),w}return f}const o=t;var m=typeof performance=="object"&&typeof performance.now=="function",F=m?function(){return performance.now()}:function(){return Date.now()};function ce(e){cancelAnimationFrame(e.id)}function Ae(e,a){var u=F();function p(){F()-u>=a?e.call(null):w.id=requestAnimationFrame(p)}var w={id:requestAnimationFrame(p)};return w}var ke=-1;function Be(e){if(e===void 0&&(e=!1),ke===-1||e){var a=document.createElement("div"),u=a.style;u.width="50px",u.height="50px",u.overflow="scroll",document.body.appendChild(a),ke=a.offsetWidth-a.clientWidth,document.body.removeChild(a)}return ke}var Fe=null;function De(e){if(e===void 0&&(e=!1),Fe===null||e){var a=document.createElement("div"),u=a.style;u.width="50px",u.height="50px",u.overflow="scroll",u.direction="rtl";var p=document.createElement("div"),w=p.style;return w.width="100px",w.height="100px",a.appendChild(p),document.body.appendChild(a),a.scrollLeft>0?Fe="positive-descending":(a.scrollLeft=1,a.scrollLeft===0?Fe="negative":Fe="positive-ascending"),document.body.removeChild(a),Fe}return Fe}var Xe=150,_e=function(a){var u=a.columnIndex,p=a.data,w=a.rowIndex;return w+":"+u},Ce=null,Ue=null,Qe=null;function lt(e){var a,u=e.getColumnOffset,p=e.getColumnStartIndexForOffset,w=e.getColumnStopIndexForStartIndex,_=e.getColumnWidth,f=e.getEstimatedTotalHeight,j=e.getEstimatedTotalWidth,E=e.getOffsetForColumnAndAlignment,z=e.getOffsetForRowAndAlignment,G=e.getRowHeight,J=e.getRowOffset,B=e.getRowStartIndexForOffset,le=e.getRowStopIndexForStartIndex,ne=e.initInstanceProps,T=e.shouldResetStyleCacheOnItemSizeChange,te=e.validateProps;return a=function(se){(0,Vn.A)(ge,se);function ge(pe){var V;return V=se.call(this,pe)||this,V._instanceProps=ne(V.props,Hn(V)),V._resetIsScrollingTimeoutId=null,V._outerRef=void 0,V.state={instance:Hn(V),isScrolling:!1,horizontalScrollDirection:"forward",scrollLeft:typeof V.props.initialScrollLeft=="number"?V.props.initialScrollLeft:0,scrollTop:typeof V.props.initialScrollTop=="number"?V.props.initialScrollTop:0,scrollUpdateWasRequested:!1,verticalScrollDirection:"forward"},V._callOnItemsRendered=void 0,V._callOnItemsRendered=o(function(fe,ve,ye,Te,Ie,Ve,Pe,Ye){return V.props.onItemsRendered({overscanColumnStartIndex:fe,overscanColumnStopIndex:ve,overscanRowStartIndex:ye,overscanRowStopIndex:Te,visibleColumnStartIndex:Ie,visibleColumnStopIndex:Ve,visibleRowStartIndex:Pe,visibleRowStopIndex:Ye})}),V._callOnScroll=void 0,V._callOnScroll=o(function(fe,ve,ye,Te,Ie){return V.props.onScroll({horizontalScrollDirection:ye,scrollLeft:fe,scrollTop:ve,verticalScrollDirection:Te,scrollUpdateWasRequested:Ie})}),V._getItemStyle=void 0,V._getItemStyle=function(fe,ve){var ye=V.props,Te=ye.columnWidth,Ie=ye.direction,Ve=ye.rowHeight,Pe=V._getItemStyleCache(T&&Te,T&&Ie,T&&Ve),Ye=fe+":"+ve,nt;if(Pe.hasOwnProperty(Ye))nt=Pe[Ye];else{var rt=u(V.props,ve,V._instanceProps),at=Ie==="rtl";Pe[Ye]=nt={position:"absolute",left:at?void 0:rt,right:at?rt:void 0,top:J(V.props,fe,V._instanceProps),height:G(V.props,fe,V._instanceProps),width:_(V.props,ve,V._instanceProps)}}return nt},V._getItemStyleCache=void 0,V._getItemStyleCache=o(function(fe,ve,ye){return{}}),V._onScroll=function(fe){var ve=fe.currentTarget,ye=ve.clientHeight,Te=ve.clientWidth,Ie=ve.scrollLeft,Ve=ve.scrollTop,Pe=ve.scrollHeight,Ye=ve.scrollWidth;V.setState(function(nt){if(nt.scrollLeft===Ie&&nt.scrollTop===Ve)return null;var rt=V.props.direction,at=Ie;if(rt==="rtl")switch(De()){case"negative":at=-Ie;break;case"positive-descending":at=Ye-Te-Ie;break}at=Math.max(0,Math.min(at,Ye-Te));var St=Math.max(0,Math.min(Ve,Pe-ye));return{isScrolling:!0,horizontalScrollDirection:nt.scrollLeft<Ie?"forward":"backward",scrollLeft:at,scrollTop:St,verticalScrollDirection:nt.scrollTop<Ve?"forward":"backward",scrollUpdateWasRequested:!1}},V._resetIsScrollingDebounced)},V._outerRefSetter=function(fe){var ve=V.props.outerRef;V._outerRef=fe,typeof ve=="function"?ve(fe):ve!=null&&typeof ve=="object"&&ve.hasOwnProperty("current")&&(ve.current=fe)},V._resetIsScrollingDebounced=function(){V._resetIsScrollingTimeoutId!==null&&ce(V._resetIsScrollingTimeoutId),V._resetIsScrollingTimeoutId=Ae(V._resetIsScrolling,Xe)},V._resetIsScrolling=function(){V._resetIsScrollingTimeoutId=null,V.setState({isScrolling:!1},function(){V._getItemStyleCache(-1)})},V}ge.getDerivedStateFromProps=function(V,fe){return jt(V,fe),te(V),null};var ue=ge.prototype;return ue.scrollTo=function(V){var fe=V.scrollLeft,ve=V.scrollTop;fe!==void 0&&(fe=Math.max(0,fe)),ve!==void 0&&(ve=Math.max(0,ve)),this.setState(function(ye){return fe===void 0&&(fe=ye.scrollLeft),ve===void 0&&(ve=ye.scrollTop),ye.scrollLeft===fe&&ye.scrollTop===ve?null:{horizontalScrollDirection:ye.scrollLeft<fe?"forward":"backward",scrollLeft:fe,scrollTop:ve,scrollUpdateWasRequested:!0,verticalScrollDirection:ye.scrollTop<ve?"forward":"backward"}},this._resetIsScrollingDebounced)},ue.scrollToItem=function(V){var fe=V.align,ve=fe===void 0?"auto":fe,ye=V.columnIndex,Te=V.rowIndex,Ie=this.props,Ve=Ie.columnCount,Pe=Ie.height,Ye=Ie.rowCount,nt=Ie.width,rt=this.state,at=rt.scrollLeft,St=rt.scrollTop,Nt=Be();ye!==void 0&&(ye=Math.max(0,Math.min(ye,Ve-1))),Te!==void 0&&(Te=Math.max(0,Math.min(Te,Ye-1)));var Lt=f(this.props,this._instanceProps),Dt=j(this.props,this._instanceProps),Gt=Dt>nt?Nt:0,ht=Lt>Pe?Nt:0;this.scrollTo({scrollLeft:ye!==void 0?E(this.props,ye,ve,at,this._instanceProps,ht):at,scrollTop:Te!==void 0?z(this.props,Te,ve,St,this._instanceProps,Gt):St})},ue.componentDidMount=function(){var V=this.props,fe=V.initialScrollLeft,ve=V.initialScrollTop;if(this._outerRef!=null){var ye=this._outerRef;typeof fe=="number"&&(ye.scrollLeft=fe),typeof ve=="number"&&(ye.scrollTop=ve)}this._callPropsCallbacks()},ue.componentDidUpdate=function(){var V=this.props.direction,fe=this.state,ve=fe.scrollLeft,ye=fe.scrollTop,Te=fe.scrollUpdateWasRequested;if(Te&&this._outerRef!=null){var Ie=this._outerRef;if(V==="rtl")switch(De()){case"negative":Ie.scrollLeft=-ve;break;case"positive-ascending":Ie.scrollLeft=ve;break;default:var Ve=Ie.clientWidth,Pe=Ie.scrollWidth;Ie.scrollLeft=Pe-Ve-ve;break}else Ie.scrollLeft=Math.max(0,ve);Ie.scrollTop=Math.max(0,ye)}this._callPropsCallbacks()},ue.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&ce(this._resetIsScrollingTimeoutId)},ue.render=function(){var V=this.props,fe=V.children,ve=V.className,ye=V.columnCount,Te=V.direction,Ie=V.height,Ve=V.innerRef,Pe=V.innerElementType,Ye=V.innerTagName,nt=V.itemData,rt=V.itemKey,at=rt===void 0?_e:rt,St=V.outerElementType,Nt=V.outerTagName,Lt=V.rowCount,Dt=V.style,Gt=V.useIsScrolling,ht=V.width,It=this.state.isScrolling,Ot=this._getHorizontalRangeToRender(),qt=Ot[0],mt=Ot[1],bt=this._getVerticalRangeToRender(),nn=bt[0],Gn=bt[1],Zn=[];if(ye>0&&Lt)for(var Sn=nn;Sn<=Gn;Sn++)for(var sn=qt;sn<=mt;sn++)Zn.push((0,i.createElement)(fe,{columnIndex:sn,data:nt,isScrolling:Gt?It:void 0,key:at({columnIndex:sn,data:nt,rowIndex:Sn}),rowIndex:Sn,style:this._getItemStyle(Sn,sn)}));var Jt=f(this.props,this._instanceProps),tt=j(this.props,this._instanceProps);return(0,i.createElement)(St||Nt||"div",{className:ve,onScroll:this._onScroll,ref:this._outerRefSetter,style:(0,Hs.A)({position:"relative",height:Ie,width:ht,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:Te},Dt)},(0,i.createElement)(Pe||Ye||"div",{children:Zn,ref:Ve,style:{height:Jt,pointerEvents:It?"none":void 0,width:tt}}))},ue._callPropsCallbacks=function(){var V=this.props,fe=V.columnCount,ve=V.onItemsRendered,ye=V.onScroll,Te=V.rowCount;if(typeof ve=="function"&&fe>0&&Te>0){var Ie=this._getHorizontalRangeToRender(),Ve=Ie[0],Pe=Ie[1],Ye=Ie[2],nt=Ie[3],rt=this._getVerticalRangeToRender(),at=rt[0],St=rt[1],Nt=rt[2],Lt=rt[3];this._callOnItemsRendered(Ve,Pe,at,St,Ye,nt,Nt,Lt)}if(typeof ye=="function"){var Dt=this.state,Gt=Dt.horizontalScrollDirection,ht=Dt.scrollLeft,It=Dt.scrollTop,Ot=Dt.scrollUpdateWasRequested,qt=Dt.verticalScrollDirection;this._callOnScroll(ht,It,Gt,qt,Ot)}},ue._getHorizontalRangeToRender=function(){var V=this.props,fe=V.columnCount,ve=V.overscanColumnCount,ye=V.overscanColumnsCount,Te=V.overscanCount,Ie=V.rowCount,Ve=this.state,Pe=Ve.horizontalScrollDirection,Ye=Ve.isScrolling,nt=Ve.scrollLeft,rt=ve||ye||Te||1;if(fe===0||Ie===0)return[0,0,0,0];var at=p(this.props,nt,this._instanceProps),St=w(this.props,at,nt,this._instanceProps),Nt=!Ye||Pe==="backward"?Math.max(1,rt):1,Lt=!Ye||Pe==="forward"?Math.max(1,rt):1;return[Math.max(0,at-Nt),Math.max(0,Math.min(fe-1,St+Lt)),at,St]},ue._getVerticalRangeToRender=function(){var V=this.props,fe=V.columnCount,ve=V.overscanCount,ye=V.overscanRowCount,Te=V.overscanRowsCount,Ie=V.rowCount,Ve=this.state,Pe=Ve.isScrolling,Ye=Ve.verticalScrollDirection,nt=Ve.scrollTop,rt=ye||Te||ve||1;if(fe===0||Ie===0)return[0,0,0,0];var at=B(this.props,nt,this._instanceProps),St=le(this.props,at,nt,this._instanceProps),Nt=!Pe||Ye==="backward"?Math.max(1,rt):1,Lt=!Pe||Ye==="forward"?Math.max(1,rt):1;return[Math.max(0,at-Nt),Math.max(0,Math.min(Ie-1,St+Lt)),at,St]},ge}(i.PureComponent),a.defaultProps={direction:"ltr",itemData:void 0,useIsScrolling:!1},a}var jt=function(a,u){var p=a.children,w=a.direction,_=a.height,f=a.innerTagName,j=a.outerTagName,E=a.overscanColumnsCount,z=a.overscanCount,G=a.overscanRowsCount,J=a.width,B=u.instance},wt=50,Vt=function(a,u){var p=a.rowCount,w=u.rowMetadataMap,_=u.estimatedRowHeight,f=u.lastMeasuredRowIndex,j=0;if(f>=p&&(f=p-1),f>=0){var E=w[f];j=E.offset+E.size}var z=p-f-1,G=z*_;return j+G},Ft=function(a,u){var p=a.columnCount,w=u.columnMetadataMap,_=u.estimatedColumnWidth,f=u.lastMeasuredColumnIndex,j=0;if(f>=p&&(f=p-1),f>=0){var E=w[f];j=E.offset+E.size}var z=p-f-1,G=z*_;return j+G},At=function(a,u,p,w){var _,f,j;if(a==="column"?(_=w.columnMetadataMap,f=u.columnWidth,j=w.lastMeasuredColumnIndex):(_=w.rowMetadataMap,f=u.rowHeight,j=w.lastMeasuredRowIndex),p>j){var E=0;if(j>=0){var z=_[j];E=z.offset+z.size}for(var G=j+1;G<=p;G++){var J=f(G);_[G]={offset:E,size:J},E+=J}a==="column"?w.lastMeasuredColumnIndex=p:w.lastMeasuredRowIndex=p}return _[p]},it=function(a,u,p,w){var _,f;a==="column"?(_=p.columnMetadataMap,f=p.lastMeasuredColumnIndex):(_=p.rowMetadataMap,f=p.lastMeasuredRowIndex);var j=f>0?_[f].offset:0;return j>=w?We(a,u,p,f,0,w):ot(a,u,p,Math.max(0,f),w)},We=function(a,u,p,w,_,f){for(;_<=w;){var j=_+Math.floor((w-_)/2),E=At(a,u,j,p).offset;if(E===f)return j;E<f?_=j+1:E>f&&(w=j-1)}return _>0?_-1:0},ot=function(a,u,p,w,_){for(var f=a==="column"?u.columnCount:u.rowCount,j=1;w<f&&At(a,u,w,p).offset<_;)w+=j,j*=2;return We(a,u,p,Math.min(w,f-1),Math.floor(w/2),_)},et=function(a,u,p,w,_,f,j){var E=a==="column"?u.width:u.height,z=At(a,u,p,f),G=a==="column"?Ft(u,f):Vt(u,f),J=Math.max(0,Math.min(G-E,z.offset)),B=Math.max(0,z.offset-E+j+z.size);switch(w==="smart"&&(_>=B-E&&_<=J+E?w="auto":w="center"),w){case"start":return J;case"end":return B;case"center":return Math.round(B+(J-B)/2);case"auto":default:return _>=B&&_<=J?_:B>J||_<B?B:J}},pt=lt({getColumnOffset:function(a,u,p){return At("column",a,u,p).offset},getColumnStartIndexForOffset:function(a,u,p){return it("column",a,p,u)},getColumnStopIndexForStartIndex:function(a,u,p,w){for(var _=a.columnCount,f=a.width,j=At("column",a,u,w),E=p+f,z=j.offset+j.size,G=u;G<_-1&&z<E;)G++,z+=At("column",a,G,w).size;return G},getColumnWidth:function(a,u,p){return p.columnMetadataMap[u].size},getEstimatedTotalHeight:Vt,getEstimatedTotalWidth:Ft,getOffsetForColumnAndAlignment:function(a,u,p,w,_,f){return et("column",a,u,p,w,_,f)},getOffsetForRowAndAlignment:function(a,u,p,w,_,f){return et("row",a,u,p,w,_,f)},getRowOffset:function(a,u,p){return At("row",a,u,p).offset},getRowHeight:function(a,u,p){return p.rowMetadataMap[u].size},getRowStartIndexForOffset:function(a,u,p){return it("row",a,p,u)},getRowStopIndexForStartIndex:function(a,u,p,w){for(var _=a.rowCount,f=a.height,j=At("row",a,u,w),E=p+f,z=j.offset+j.size,G=u;G<_-1&&z<E;)G++,z+=At("row",a,G,w).size;return G},initInstanceProps:function(a,u){var p=a,w=p.estimatedColumnWidth,_=p.estimatedRowHeight,f={columnMetadataMap:{},estimatedColumnWidth:w||wt,estimatedRowHeight:_||wt,lastMeasuredColumnIndex:-1,lastMeasuredRowIndex:-1,rowMetadataMap:{}};return u.resetAfterColumnIndex=function(j,E){E===void 0&&(E=!0),u.resetAfterIndices({columnIndex:j,shouldForceUpdate:E})},u.resetAfterRowIndex=function(j,E){E===void 0&&(E=!0),u.resetAfterIndices({rowIndex:j,shouldForceUpdate:E})},u.resetAfterIndices=function(j){var E=j.columnIndex,z=j.rowIndex,G=j.shouldForceUpdate,J=G===void 0?!0:G;typeof E=="number"&&(f.lastMeasuredColumnIndex=Math.min(f.lastMeasuredColumnIndex,E-1)),typeof z=="number"&&(f.lastMeasuredRowIndex=Math.min(f.lastMeasuredRowIndex,z-1)),u._getItemStyleCache(-1),J&&u.forceUpdate()},f},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(a){var u=a.columnWidth,p=a.rowHeight}}),ut=150,Ut=function(a,u){return a},$t=null,Bt=null;function Le(e){var a,u=e.getItemOffset,p=e.getEstimatedTotalSize,w=e.getItemSize,_=e.getOffsetForIndexAndAlignment,f=e.getStartIndexForOffset,j=e.getStopIndexForStartIndex,E=e.initInstanceProps,z=e.shouldResetStyleCacheOnItemSizeChange,G=e.validateProps;return a=function(J){(0,Vn.A)(B,J);function B(ne){var T;return T=J.call(this,ne)||this,T._instanceProps=E(T.props,Hn(T)),T._outerRef=void 0,T._resetIsScrollingTimeoutId=null,T.state={instance:Hn(T),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof T.props.initialScrollOffset=="number"?T.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},T._callOnItemsRendered=void 0,T._callOnItemsRendered=o(function(te,se,ge,ue){return T.props.onItemsRendered({overscanStartIndex:te,overscanStopIndex:se,visibleStartIndex:ge,visibleStopIndex:ue})}),T._callOnScroll=void 0,T._callOnScroll=o(function(te,se,ge){return T.props.onScroll({scrollDirection:te,scrollOffset:se,scrollUpdateWasRequested:ge})}),T._getItemStyle=void 0,T._getItemStyle=function(te){var se=T.props,ge=se.direction,ue=se.itemSize,pe=se.layout,V=T._getItemStyleCache(z&&ue,z&&pe,z&&ge),fe;if(V.hasOwnProperty(te))fe=V[te];else{var ve=u(T.props,te,T._instanceProps),ye=w(T.props,te,T._instanceProps),Te=ge==="horizontal"||pe==="horizontal",Ie=ge==="rtl",Ve=Te?ve:0;V[te]=fe={position:"absolute",left:Ie?void 0:Ve,right:Ie?Ve:void 0,top:Te?0:ve,height:Te?"100%":ye,width:Te?ye:"100%"}}return fe},T._getItemStyleCache=void 0,T._getItemStyleCache=o(function(te,se,ge){return{}}),T._onScrollHorizontal=function(te){var se=te.currentTarget,ge=se.clientWidth,ue=se.scrollLeft,pe=se.scrollWidth;T.setState(function(V){if(V.scrollOffset===ue)return null;var fe=T.props.direction,ve=ue;if(fe==="rtl")switch(De()){case"negative":ve=-ue;break;case"positive-descending":ve=pe-ge-ue;break}return ve=Math.max(0,Math.min(ve,pe-ge)),{isScrolling:!0,scrollDirection:V.scrollOffset<ve?"forward":"backward",scrollOffset:ve,scrollUpdateWasRequested:!1}},T._resetIsScrollingDebounced)},T._onScrollVertical=function(te){var se=te.currentTarget,ge=se.clientHeight,ue=se.scrollHeight,pe=se.scrollTop;T.setState(function(V){if(V.scrollOffset===pe)return null;var fe=Math.max(0,Math.min(pe,ue-ge));return{isScrolling:!0,scrollDirection:V.scrollOffset<fe?"forward":"backward",scrollOffset:fe,scrollUpdateWasRequested:!1}},T._resetIsScrollingDebounced)},T._outerRefSetter=function(te){var se=T.props.outerRef;T._outerRef=te,typeof se=="function"?se(te):se!=null&&typeof se=="object"&&se.hasOwnProperty("current")&&(se.current=te)},T._resetIsScrollingDebounced=function(){T._resetIsScrollingTimeoutId!==null&&ce(T._resetIsScrollingTimeoutId),T._resetIsScrollingTimeoutId=Ae(T._resetIsScrolling,ut)},T._resetIsScrolling=function(){T._resetIsScrollingTimeoutId=null,T.setState({isScrolling:!1},function(){T._getItemStyleCache(-1,null)})},T}B.getDerivedStateFromProps=function(T,te){return ct(T,te),G(T),null};var le=B.prototype;return le.scrollTo=function(T){T=Math.max(0,T),this.setState(function(te){return te.scrollOffset===T?null:{scrollDirection:te.scrollOffset<T?"forward":"backward",scrollOffset:T,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},le.scrollToItem=function(T,te){te===void 0&&(te="auto");var se=this.props,ge=se.itemCount,ue=se.layout,pe=this.state.scrollOffset;T=Math.max(0,Math.min(T,ge-1));var V=0;if(this._outerRef){var fe=this._outerRef;ue==="vertical"?V=fe.scrollWidth>fe.clientWidth?Be():0:V=fe.scrollHeight>fe.clientHeight?Be():0}this.scrollTo(_(this.props,T,te,pe,this._instanceProps,V))},le.componentDidMount=function(){var T=this.props,te=T.direction,se=T.initialScrollOffset,ge=T.layout;if(typeof se=="number"&&this._outerRef!=null){var ue=this._outerRef;te==="horizontal"||ge==="horizontal"?ue.scrollLeft=se:ue.scrollTop=se}this._callPropsCallbacks()},le.componentDidUpdate=function(){var T=this.props,te=T.direction,se=T.layout,ge=this.state,ue=ge.scrollOffset,pe=ge.scrollUpdateWasRequested;if(pe&&this._outerRef!=null){var V=this._outerRef;if(te==="horizontal"||se==="horizontal")if(te==="rtl")switch(De()){case"negative":V.scrollLeft=-ue;break;case"positive-ascending":V.scrollLeft=ue;break;default:var fe=V.clientWidth,ve=V.scrollWidth;V.scrollLeft=ve-fe-ue;break}else V.scrollLeft=ue;else V.scrollTop=ue}this._callPropsCallbacks()},le.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&ce(this._resetIsScrollingTimeoutId)},le.render=function(){var T=this.props,te=T.children,se=T.className,ge=T.direction,ue=T.height,pe=T.innerRef,V=T.innerElementType,fe=T.innerTagName,ve=T.itemCount,ye=T.itemData,Te=T.itemKey,Ie=Te===void 0?Ut:Te,Ve=T.layout,Pe=T.outerElementType,Ye=T.outerTagName,nt=T.style,rt=T.useIsScrolling,at=T.width,St=this.state.isScrolling,Nt=ge==="horizontal"||Ve==="horizontal",Lt=Nt?this._onScrollHorizontal:this._onScrollVertical,Dt=this._getRangeToRender(),Gt=Dt[0],ht=Dt[1],It=[];if(ve>0)for(var Ot=Gt;Ot<=ht;Ot++)It.push((0,i.createElement)(te,{data:ye,key:Ie(Ot,ye),index:Ot,isScrolling:rt?St:void 0,style:this._getItemStyle(Ot)}));var qt=p(this.props,this._instanceProps);return(0,i.createElement)(Pe||Ye||"div",{className:se,onScroll:Lt,ref:this._outerRefSetter,style:(0,Hs.A)({position:"relative",height:ue,width:at,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:ge},nt)},(0,i.createElement)(V||fe||"div",{children:It,ref:pe,style:{height:Nt?"100%":qt,pointerEvents:St?"none":void 0,width:Nt?qt:"100%"}}))},le._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var T=this.props.itemCount;if(T>0){var te=this._getRangeToRender(),se=te[0],ge=te[1],ue=te[2],pe=te[3];this._callOnItemsRendered(se,ge,ue,pe)}}if(typeof this.props.onScroll=="function"){var V=this.state,fe=V.scrollDirection,ve=V.scrollOffset,ye=V.scrollUpdateWasRequested;this._callOnScroll(fe,ve,ye)}},le._getRangeToRender=function(){var T=this.props,te=T.itemCount,se=T.overscanCount,ge=this.state,ue=ge.isScrolling,pe=ge.scrollDirection,V=ge.scrollOffset;if(te===0)return[0,0,0,0];var fe=f(this.props,V,this._instanceProps),ve=j(this.props,fe,V,this._instanceProps),ye=!ue||pe==="backward"?Math.max(1,se):1,Te=!ue||pe==="forward"?Math.max(1,se):1;return[Math.max(0,fe-ye),Math.max(0,Math.min(te-1,ve+Te)),fe,ve]},B}(i.PureComponent),a.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},a}var ct=function(a,u){var p=a.children,w=a.direction,_=a.height,f=a.layout,j=a.innerTagName,E=a.outerTagName,z=a.width,G=u.instance;if(0)var J},Qt=50,zt=function(a,u,p){var w=a,_=w.itemSize,f=p.itemMetadataMap,j=p.lastMeasuredIndex;if(u>j){var E=0;if(j>=0){var z=f[j];E=z.offset+z.size}for(var G=j+1;G<=u;G++){var J=_(G);f[G]={offset:E,size:J},E+=J}p.lastMeasuredIndex=u}return f[u]},In=function(a,u,p){var w=u.itemMetadataMap,_=u.lastMeasuredIndex,f=_>0?w[_].offset:0;return f>=p?yn(a,u,_,0,p):dn(a,u,Math.max(0,_),p)},yn=function(a,u,p,w,_){for(;w<=p;){var f=w+Math.floor((p-w)/2),j=zt(a,f,u).offset;if(j===_)return f;j<_?w=f+1:j>_&&(p=f-1)}return w>0?w-1:0},dn=function(a,u,p,w){for(var _=a.itemCount,f=1;p<_&&zt(a,p,u).offset<w;)p+=f,f*=2;return yn(a,u,Math.min(p,_-1),Math.floor(p/2),w)},jn=function(a,u){var p=a.itemCount,w=u.itemMetadataMap,_=u.estimatedItemSize,f=u.lastMeasuredIndex,j=0;if(f>=p&&(f=p-1),f>=0){var E=w[f];j=E.offset+E.size}var z=p-f-1,G=z*_;return j+G},Li=Le({getItemOffset:function(a,u,p){return zt(a,u,p).offset},getItemSize:function(a,u,p){return p.itemMetadataMap[u].size},getEstimatedTotalSize:jn,getOffsetForIndexAndAlignment:function(a,u,p,w,_,f){var j=a.direction,E=a.height,z=a.layout,G=a.width,J=j==="horizontal"||z==="horizontal",B=J?G:E,le=zt(a,u,_),ne=jn(a,_),T=Math.max(0,Math.min(ne-B,le.offset)),te=Math.max(0,le.offset-B+le.size+f);switch(p==="smart"&&(w>=te-B&&w<=T+B?p="auto":p="center"),p){case"start":return T;case"end":return te;case"center":return Math.round(te+(T-te)/2);case"auto":default:return w>=te&&w<=T?w:w<te?te:T}},getStartIndexForOffset:function(a,u,p){return In(a,p,u)},getStopIndexForStartIndex:function(a,u,p,w){for(var _=a.direction,f=a.height,j=a.itemCount,E=a.layout,z=a.width,G=_==="horizontal"||E==="horizontal",J=G?z:f,B=zt(a,u,w),le=p+J,ne=B.offset+B.size,T=u;T<j-1&&ne<le;)T++,ne+=zt(a,T,w).size;return T},initInstanceProps:function(a,u){var p=a,w=p.estimatedItemSize,_={itemMetadataMap:{},estimatedItemSize:w||Qt,lastMeasuredIndex:-1};return u.resetAfterIndex=function(f,j){j===void 0&&(j=!0),_.lastMeasuredIndex=Math.min(_.lastMeasuredIndex,f-1),u._getItemStyleCache(-1),j&&u.forceUpdate()},_},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(a){var u=a.itemSize}}),Oi=lt({getColumnOffset:function(a,u){var p=a.columnWidth;return u*p},getColumnWidth:function(a,u){var p=a.columnWidth;return p},getRowOffset:function(a,u){var p=a.rowHeight;return u*p},getRowHeight:function(a,u){var p=a.rowHeight;return p},getEstimatedTotalHeight:function(a){var u=a.rowCount,p=a.rowHeight;return p*u},getEstimatedTotalWidth:function(a){var u=a.columnCount,p=a.columnWidth;return p*u},getOffsetForColumnAndAlignment:function(a,u,p,w,_,f){var j=a.columnCount,E=a.columnWidth,z=a.width,G=Math.max(0,j*E-z),J=Math.min(G,u*E),B=Math.max(0,u*E-z+f+E);switch(p==="smart"&&(w>=B-z&&w<=J+z?p="auto":p="center"),p){case"start":return J;case"end":return B;case"center":var le=Math.round(B+(J-B)/2);return le<Math.ceil(z/2)?0:le>G+Math.floor(z/2)?G:le;case"auto":default:return w>=B&&w<=J?w:B>J||w<B?B:J}},getOffsetForRowAndAlignment:function(a,u,p,w,_,f){var j=a.rowHeight,E=a.height,z=a.rowCount,G=Math.max(0,z*j-E),J=Math.min(G,u*j),B=Math.max(0,u*j-E+f+j);switch(p==="smart"&&(w>=B-E&&w<=J+E?p="auto":p="center"),p){case"start":return J;case"end":return B;case"center":var le=Math.round(B+(J-B)/2);return le<Math.ceil(E/2)?0:le>G+Math.floor(E/2)?G:le;case"auto":default:return w>=B&&w<=J?w:B>J||w<B?B:J}},getColumnStartIndexForOffset:function(a,u){var p=a.columnWidth,w=a.columnCount;return Math.max(0,Math.min(w-1,Math.floor(u/p)))},getColumnStopIndexForStartIndex:function(a,u,p){var w=a.columnWidth,_=a.columnCount,f=a.width,j=u*w,E=Math.ceil((f+p-j)/w);return Math.max(0,Math.min(_-1,u+E-1))},getRowStartIndexForOffset:function(a,u){var p=a.rowHeight,w=a.rowCount;return Math.max(0,Math.min(w-1,Math.floor(u/p)))},getRowStopIndexForStartIndex:function(a,u,p){var w=a.rowHeight,_=a.rowCount,f=a.height,j=u*w,E=Math.ceil((f+p-j)/w);return Math.max(0,Math.min(_-1,u+E-1))},initInstanceProps:function(a){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(a){var u=a.columnWidth,p=a.rowHeight}}),Qo=Le({getItemOffset:function(a,u){var p=a.itemSize;return u*p},getItemSize:function(a,u){var p=a.itemSize;return p},getEstimatedTotalSize:function(a){var u=a.itemCount,p=a.itemSize;return p*u},getOffsetForIndexAndAlignment:function(a,u,p,w,_,f){var j=a.direction,E=a.height,z=a.itemCount,G=a.itemSize,J=a.layout,B=a.width,le=j==="horizontal"||J==="horizontal",ne=le?B:E,T=Math.max(0,z*G-ne),te=Math.min(T,u*G),se=Math.max(0,u*G-ne+G+f);switch(p==="smart"&&(w>=se-ne&&w<=te+ne?p="auto":p="center"),p){case"start":return te;case"end":return se;case"center":{var ge=Math.round(se+(te-se)/2);return ge<Math.ceil(ne/2)?0:ge>T+Math.floor(ne/2)?T:ge}case"auto":default:return w>=se&&w<=te?w:w<se?se:te}},getStartIndexForOffset:function(a,u){var p=a.itemCount,w=a.itemSize;return Math.max(0,Math.min(p-1,Math.floor(u/w)))},getStopIndexForStartIndex:function(a,u,p){var w=a.direction,_=a.height,f=a.itemCount,j=a.itemSize,E=a.layout,z=a.width,G=w==="horizontal"||E==="horizontal",J=u*j,B=G?z:_,le=Math.ceil((B+p-J)/j);return Math.max(0,Math.min(f-1,u+le-1))},initInstanceProps:function(a){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(a){var u=a.itemSize}});function ko(e,a){for(var u in e)if(!(u in a))return!0;for(var p in a)if(e[p]!==a[p])return!0;return!1}var Jo=null,Xo=null;function qo(e,a){var u=e.style,p=_objectWithoutPropertiesLoose(e,Jo),w=a.style,_=_objectWithoutPropertiesLoose(a,Xo);return!ko(u,w)&&!ko(p,_)}function Pi(e,a){return!qo(this.props,e)||ko(this.state,a)}let un;typeof window<"u"?un=window:typeof self<"u"?un=self:un=n.g;let To=null,Ao=null;const Fo=20,Lo=un.clearTimeout,zo=un.setTimeout,Oo=un.cancelAnimationFrame||un.mozCancelAnimationFrame||un.webkitCancelAnimationFrame,Uo=un.requestAnimationFrame||un.mozRequestAnimationFrame||un.webkitRequestAnimationFrame;Oo==null||Uo==null?(To=Lo,Ao=function(a){return zo(a,Fo)}):(To=function(a){let[u,p]=a;Oo(u),Lo(p)},Ao=function(a){const u=Uo(function(){Lo(p),a()}),p=zo(function(){Oo(u),a()},Fo);return[u,p]});function ei(e){let a,u,p,w,_,f,j;const E=typeof document<"u"&&document.attachEvent;if(!E){f=function(se){const ge=se.__resizeTriggers__,ue=ge.firstElementChild,pe=ge.lastElementChild,V=ue.firstElementChild;pe.scrollLeft=pe.scrollWidth,pe.scrollTop=pe.scrollHeight,V.style.width=ue.offsetWidth+1+"px",V.style.height=ue.offsetHeight+1+"px",ue.scrollLeft=ue.scrollWidth,ue.scrollTop=ue.scrollHeight},_=function(se){return se.offsetWidth!==se.__resizeLast__.width||se.offsetHeight!==se.__resizeLast__.height},j=function(se){if(se.target.className&&typeof se.target.className.indexOf=="function"&&se.target.className.indexOf("contract-trigger")<0&&se.target.className.indexOf("expand-trigger")<0)return;const ge=this;f(this),this.__resizeRAF__&&To(this.__resizeRAF__),this.__resizeRAF__=Ao(function(){_(ge)&&(ge.__resizeLast__.width=ge.offsetWidth,ge.__resizeLast__.height=ge.offsetHeight,ge.__resizeListeners__.forEach(function(V){V.call(ge,se)}))})};let B=!1,le="";p="animationstart";const ne="Webkit Moz O ms".split(" ");let T="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),te="";{const se=document.createElement("fakeelement");if(se.style.animationName!==void 0&&(B=!0),B===!1){for(let ge=0;ge<ne.length;ge++)if(se.style[ne[ge]+"AnimationName"]!==void 0){te=ne[ge],le="-"+te.toLowerCase()+"-",p=T[ge],B=!0;break}}}u="resizeanim",a="@"+le+"keyframes "+u+" { from { opacity: 0; } to { opacity: 0; } } ",w=le+"animation: 1ms "+u+"; "}const z=function(B){if(!B.getElementById("detectElementResize")){const le=(a||"")+".resize-triggers { "+(w||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',ne=B.head||B.getElementsByTagName("head")[0],T=B.createElement("style");T.id="detectElementResize",T.type="text/css",e!=null&&T.setAttribute("nonce",e),T.styleSheet?T.styleSheet.cssText=le:T.appendChild(B.createTextNode(le)),ne.appendChild(T)}};return{addResizeListener:function(B,le){if(E)B.attachEvent("onresize",le);else{if(!B.__resizeTriggers__){const ne=B.ownerDocument,T=un.getComputedStyle(B);T&&T.position==="static"&&(B.style.position="relative"),z(ne),B.__resizeLast__={},B.__resizeListeners__=[],(B.__resizeTriggers__=ne.createElement("div")).className="resize-triggers";const te=ne.createElement("div");te.className="expand-trigger",te.appendChild(ne.createElement("div"));const se=ne.createElement("div");se.className="contract-trigger",B.__resizeTriggers__.appendChild(te),B.__resizeTriggers__.appendChild(se),B.appendChild(B.__resizeTriggers__),f(B),B.addEventListener("scroll",j,!0),p&&(B.__resizeTriggers__.__animationListener__=function(ue){ue.animationName===u&&f(B)},B.__resizeTriggers__.addEventListener(p,B.__resizeTriggers__.__animationListener__))}B.__resizeListeners__.push(le)}},removeResizeListener:function(B,le){if(E)B.detachEvent("onresize",le);else if(B.__resizeListeners__.splice(B.__resizeListeners__.indexOf(le),1),!B.__resizeListeners__.length){B.removeEventListener("scroll",j,!0),B.__resizeTriggers__.__animationListener__&&(B.__resizeTriggers__.removeEventListener(p,B.__resizeTriggers__.__animationListener__),B.__resizeTriggers__.__animationListener__=null);try{B.__resizeTriggers__=!B.removeChild(B.__resizeTriggers__)}catch(ne){}}}}}class ti extends i.Component{constructor(){super(...arguments),this.state={height:this.props.defaultHeight||0,scaledHeight:this.props.defaultHeight||0,scaledWidth:this.props.defaultWidth||0,width:this.props.defaultWidth||0},this._autoSizer=null,this._detectElementResize=null,this._parentNode=null,this._resizeObserver=null,this._timeoutId=null,this._onResize=()=>{this._timeoutId=null;const{disableHeight:a,disableWidth:u,onResize:p}=this.props;if(this._parentNode){const w=window.getComputedStyle(this._parentNode)||{},_=parseFloat(w.paddingLeft||"0"),f=parseFloat(w.paddingRight||"0"),j=parseFloat(w.paddingTop||"0"),E=parseFloat(w.paddingBottom||"0"),z=this._parentNode.getBoundingClientRect(),G=z.height-j-E,J=z.width-_-f,B=this._parentNode.offsetHeight-j-E,le=this._parentNode.offsetWidth-_-f;(!a&&(this.state.height!==B||this.state.scaledHeight!==G)||!u&&(this.state.width!==le||this.state.scaledWidth!==J))&&(this.setState({height:B,width:le,scaledHeight:G,scaledWidth:J}),typeof p=="function"&&p({height:B,scaledHeight:G,scaledWidth:J,width:le}))}},this._setRef=a=>{this._autoSizer=a}}componentDidMount(){const{nonce:a}=this.props;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._parentNode!=null&&(typeof ResizeObserver<"u"?(this._resizeObserver=new ResizeObserver(()=>{this._timeoutId=setTimeout(this._onResize,0)}),this._resizeObserver.observe(this._parentNode)):(this._detectElementResize=ei(a),this._detectElementResize.addResizeListener(this._parentNode,this._onResize)),this._onResize()))}componentWillUnmount(){this._parentNode&&(this._detectElementResize&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize),this._timeoutId!==null&&clearTimeout(this._timeoutId),this._resizeObserver&&(this._resizeObserver.observe(this._parentNode),this._resizeObserver.disconnect()))}render(){const{children:a,defaultHeight:u,defaultWidth:p,disableHeight:w=!1,disableWidth:_=!1,nonce:f,onResize:j,style:E={},tagName:z="div",...G}=this.props,{height:J,scaledHeight:B,scaledWidth:le,width:ne}=this.state,T={overflow:"visible"},te={};let se=!1;return w||(J===0&&(se=!0),T.height=0,te.height=J,te.scaledHeight=B),_||(ne===0&&(se=!0),T.width=0,te.width=ne,te.scaledWidth=le),(0,i.createElement)(z,{ref:this._setRef,style:{...T,...E},...G},!se&&a(te))}}function Di(e){return e&&e.disableHeight!==!0&&e.disableWidth!==!0}function Ri(e){return e&&e.disableHeight!==!0&&e.disableWidth===!0}function Bi(e){return e&&e.disableHeight===!0&&e.disableWidth!==!0}const ni=(0,i.memo)(e=>{let{className:a,itemCount:u,itemSize:p,itemData:w,renderItem:_,onItemCountChange:f,onListRef:j}=e;const E=i.createRef();return(0,i.useEffect)(()=>{E.current&&f&&f(E)},[u,E,f]),(0,i.useEffect)(()=>{E.current&&j&&j(E)},[E,j]),(0,s.jsx)(ti,{children:z=>{let{width:G,height:J=0}=z;return(0,s.jsx)(Qo,{ref:E,className:a,itemCount:u,itemSize:p,itemData:w,height:J,width:G,children:_})}})}),si=e=>{const{theme:a,caption:u,captionExtra:p,className:w,permissionScope:_,memberList:f,isOnlyOneManager:j,readOnly:E,readOnlyTooltip:z,expandable:G,defaultExpanded:J=!0,isResetPermission:B=!1,children:le,onPermissionChange:ne,onChangeHeight:T,isMemberList:te,onlyTitle:se,isUseVirtualizedRender:ge=!1,onClickInviteButton:ue,isShowInviteButton:pe=!1,currentOrg:V}=e,[fe,ve]=(0,i.useState)(J),ye=(0,i.useCallback)(()=>{ve(Pe=>!Pe),T&&T()},[T]),Te=(0,i.useCallback)(Pe=>{var Ye;const{avatar:nt,name:rt}=Pe;return nt&&!nt.includes("/images/avatar.png")?(0,s.jsx)("img",{className:"avatar",src:Pe.avatar,alt:Pe.name}):(0,s.jsx)("div",{className:"avatar avater-name",children:rt==null||(Ye=rt.slice(0,1))==null?void 0:Ye.toUpperCase()})},[]),Ie=(Pe,Ye)=>(0,s.jsxs)("div",{className:"item",style:Ye,children:[(0,s.jsxs)("span",{className:"title",children:[Te(Pe),(0,s.jsx)("span",{className:"name",children:Pe.name})]}),(0,s.jsx)("span",{className:"account",children:Pe.email||Pe.mobile}),(0,s.jsx)(jo,{readOnly:E,readOnlyTooltip:z,member:Pe,isReset:B,isOnlyOneManager:j,permissionScope:_,currentOrg:V,onPermissionChange:ne})]},Pe.user_cid),Ve=Pe=>{let{data:Ye,index:nt,style:rt}=Pe;const{memberList:at}=Ye;return Ie(at[nt],rt)};return(0,s.jsxs)(ys,{className:S()("member-list",a,w&&w,ge&&"use-virtualized-list"),"data-expanded":fe,children:[G&&(0,s.jsxs)("h5",{className:"caption",children:[(0,s.jsx)("span",{children:u}),pe&&!(!se&&G&&!te)&&(0,s.jsxs)("div",{className:"invite-item",onClick:ue,children:[(0,s.jsx)(W.C,{name:"sharing/invite_member"}),I18N.imockSharing.add_collaborator]}),!se&&G&&!te&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{children:f.length>0&&"\xB7"+f.length}),(0,s.jsx)("span",{className:S()("btn-toggle-expand"),onClick:ye,children:fe?I18N.BasicWidgetsNav.share_collapse:I18N.BasicWidgetsNav.share_view})]}),p]}),le,!!f.length&&(0,s.jsx)("div",{className:"members",children:ge?(0,s.jsx)(ni,{className:"virtualized-list",itemSize:48,itemCount:f.length,itemData:{memberList:f},renderItem:Ve}):f.map(Pe=>Ie(Pe))})]})},Po=(0,i.memo)(si),oi=y.Ay.div.withConfig({displayName:"style__StyledSearchBox",componentId:"sc-f6syk1-0"})(["flex:1;position:relative;.icon-search{position:absolute;top:12px;left:12px;width:16px;height:17px;color:#666;}.autoCompleteInput{position:absolute;width:1px;height:1px;top:-2000px;}input{width:100%;height:36px;padding:0 12px 0 12px;border-radius:4px;outline:none;color:",";border:1px solid ",";font-size:14px;&:hover,&:focus{border-color:#298df8;border:1px solid #1883FB;}}"],e=>e.theme.color_text_L1,e=>e.theme.color_bg_border_02),ii=e=>{const{value:a,onChange:u,onKeyPress:p}=e,w=f=>{u(f.currentTarget.value)},_=f=>{f.key==="Enter"&&p(f.currentTarget.value)};return(0,s.jsx)(oi,{className:"search-box",children:(0,s.jsx)("input",{className:"search-input",placeholder:I18N.imockSharing.search_member,type:"text",value:a,onChange:w,onKeyPress:_})})},ri=(0,i.memo)(ii),Kn={OWNER:1e4,SUPERMANAGER:9999,MANAGER:999,MEMBER:99,LIMITER:10,VIEWER:9,BANNED:1,UNKNOWN:0,UNJOINED:-1},Fi={space_owner:16,space_manager:15,space_member:14,space_viewer:13,space_limiter:12,team_owner:11,team_manager:10,team_member:9,team_viewer:8,project_owner:6,project_manager:5,project_member:4,project_viewer:3,project_ban_viewer:2,project_team_owner:1,team_ban_viewer:1},ai={org_owner:Kn.OWNER,org_manager:Kn.SUPERMANAGER,org_admin:Kn.MANAGER,org_member:Kn.MEMBER,org_viewer:Kn.VIEWER};var Wo=n(67029);const li=e=>{const a={pt_total_seats:10,pt_bindings:[],ptlt_total_seats:0,ptlt_bindings:[],bx_total_seats:10,bx_bindings:[],total_viewer_seats:100,viewer_seats_taken:0},{pt_total_seats:u,pt_bindings:p,ptlt_total_seats:w,ptlt_bindings:_,bx_total_seats:f,bx_bindings:j,total_viewer_seats:E,viewer_seats_taken:z}=e||a;return{plTotalSeats:w,pTotalSeats:u,pBindings:p||[],plBindings:_||[],bTotalSeats:f,bBindings:j||[],totalViewerSeats:E,viewerSeatsTaken:z}},ci=e=>{if(!e)return null;const{permissions:a,total_viewer_seats:u,viewer_seats_taken:p}=e,{bBindings:w,pTotalSeats:_,pBindings:f,bTotalSeats:j,plBindings:E,plTotalSeats:z}=li(e);let G=j;const J=js.t.InitialOrg(e),B=J.planSdk.getIsDefaultFreeOrg(),le=J.planSdk.getOrgPlan()===Wo.Sj.OrgExpired,ne=J.planSdk.getOrgStatus()===Wo._E.Trial;let T=f.length,te=w.length;if(ne||B||le){const Pe=a.filter(Ye=>ai[Ye.role]>Kn.VIEWER);te=(Pe==null?void 0:Pe.length)||10,T=(Pe==null?void 0:Pe.length)||10,G=_}const se=E.length>=z,ge=T>=_&&se,ue=te>=G,pe=ue&&ge,V=T>=_&&te>=G,fe=p>=u,ve=T+E.length,ye=te,Te=_+z,Ie=Te+G,Ve=ve+ye;return{isNormalSeatFull:V,isLifetimeFull:se,isPtMemberFull:ge,isBxMemberFull:ue,isMemberFull:pe,isViewerFull:fe,ptSeatsTaken:ve,bxSeatsTaken:ye,ptTotalSeats:Te,bxTotalSeats:G,viewerSeatsTaken:p,totalViewerSeats:u,totalSeats:Ie,seatsTaken:Ve}};var Ho=n(90503);function di(e){const{theme:a,caption:u,outerMembers:p,canInvite:w,isSharing:_,handleClickInviteMember:f}=e,j=()=>{const G="\u54C8\u55BD\uFF0C\u7BA1\u7406\u5458\u60A8\u597D\uFF0C\u7533\u8BF7\u5C06"+(p[0].mobile||p[0].email)+"\u52A0\u5165\u300C\u58A8\u5200\u5E73\u53F0-"+u+"\u300D\uFF0C\u52A0\u5165\u540E\u6211\u5C31\u53EF\u4EE5\u548CTA\u4E00\u8D77\u534F\u4F5C\u4E86\u54E6~";(0,bn.$)(G)},E=!p||p.length<1;return _?(0,s.jsxs)(ys,{className:"member-list sharing "+a,children:[(0,s.jsxs)("div",{className:"members invite",children:[!E&&p.map(z=>(0,s.jsxs)("div",{className:"item",children:[(0,s.jsxs)("span",{className:"title",children:[(0,s.jsx)("img",{className:"avatar",src:z.avatar,alt:z.name}),(0,s.jsxs)("span",{className:"name",children:[z.name,(0,s.jsx)("span",{className:"register",children:z.id?I18N.imockSharing.external:I18N.imockSharing.unregistered})]})]}),(0,s.jsx)("span",{className:"account",children:z.email||z.mobile}),!n.g.ENV.IS_ON_PREMISES&&(w?(0,s.jsx)("span",{className:"inviteJoin",onClick:f,children:I18N.imockSharing.invite_h}):(0,s.jsxs)("div",{className:"addOuter",children:[(0,s.jsx)("span",{className:"add",children:I18N.imockSharing.submit}),(0,s.jsx)(ms.A,{opener:(0,s.jsx)(Ho.A,{name:"question"}),mode:"dark",menuX:"right",shouldOpenOnHover:!0,hoverDelay:100,menuClassName:"add-outer-member-tip",menu:(0,s.jsxs)("p",{className:"desc",children:["\u590D\u5236\u5E10\u53F7\uFF0C\u63D0\u9192\u7BA1\u7406\u5458\u628ATA\u52A0\u5165\u4F01\u4E1A\uFF0C\u5C31\u53EF\u4EE5\u4E00\u8D77\u534F\u4F5C\u4E86\u54E6~",(0,s.jsx)("a",{className:"copy-text",onClick:j,children:I18N.imockSharing.copy})]})})]}))]},z.cid)),E&&(0,s.jsx)("div",{className:"enterTip",children:(0,s.jsx)("span",{children:n.g.ENV.IS_ON_PREMISES?(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{children:"\u60A8\u627E\u7684\u6210\u5458\u4E0D\u5728\u4F01\u4E1A\u4E2D\uFF0C"}),(0,s.jsx)("br",{}),(0,s.jsx)("span",{children:"\u8BF7\u786E\u8BA4\u300C\u90AE\u7BB1/\u624B\u673A\u53F7\u300D\u91CD\u65B0\u641C\u7D22~"})]}):(0,s.jsx)("div",{dangerouslySetInnerHTML:{__html:I18N.imockSharing.member_search_not_in_the_team}})})})]}),(0,s.jsx)(Ws,{})]}):(s.Fragment,(0,s.jsxs)(ys,{className:"member-list "+a,children:[(0,s.jsxs)("div",{className:"members invite",children:[!E&&p.map(z=>(0,s.jsxs)("div",{className:"item",children:[(0,s.jsxs)("span",{className:"title",children:[(0,s.jsx)("img",{className:"avatar",src:z.avatar,alt:z.name}),(0,s.jsxs)("span",{className:"name",children:[z.name,(0,s.jsx)("span",{className:"register",children:z.id?I18N.imockSharing.external:I18N.imockSharing.unregistered})]})]}),(0,s.jsx)("span",{className:"account",children:z.email||z.mobile}),!n.g.ENV.IS_ON_PREMISES&&(w?(0,s.jsx)("span",{className:"inviteJoin",onClick:f,children:I18N.imockSharing.invite_h}):(0,s.jsxs)("div",{className:"addOuter",children:[(0,s.jsx)("span",{className:"add",children:I18N.imockSharing.submit}),(0,s.jsx)(ms.A,{opener:(0,s.jsx)(Ho.A,{name:"question"}),mode:"dark",menuX:"right",shouldOpenOnHover:!0,hoverDelay:100,menuClassName:"add-outer-member-tip",menu:(0,s.jsxs)("p",{className:"desc",children:["\u590D\u5236\u5E10\u53F7\uFF0C\u63D0\u9192\u7BA1\u7406\u5458\u628ATA\u52A0\u5165\u4F01\u4E1A\uFF0C\u5C31\u53EF\u4EE5\u4E00\u8D77\u534F\u4F5C\u4E86\u54E6~",(0,s.jsx)("a",{className:"copy-text",onClick:j,children:I18N.imockSharing.copy})]})})]}))]},z.cid)),E&&(0,s.jsx)("div",{className:"enterTip",children:(0,s.jsx)("span",{children:n.g.ENV.IS_ON_PREMISES?(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{children:"\u60A8\u627E\u7684\u6210\u5458\u4E0D\u5728\u4F01\u4E1A\u4E2D\uFF0C"}),(0,s.jsx)("br",{}),(0,s.jsx)("span",{children:"\u8BF7\u786E\u8BA4\u300C\u90AE\u7BB1/\u624B\u673A\u53F7\u300D\u91CD\u65B0\u641C\u7D22~"})]}):(0,s.jsx)("div",{dangerouslySetInnerHTML:{__html:I18N.imockSharing.member_search_not_in_the_team}})})})]}),(0,s.jsx)(Ws,{})]}))}const ui=(0,i.memo)(di),Vo=()=>!!Number(sessionStorage.getItem("inClowdz"));function pi(e){let a="file_editarea-proto-v8-add",u="\u7F16\u8F91\u533A_V8-\u539F\u578B-\u6210\u5458\u7BA1\u7406-\u6DFB\u52A0";return a=e?"file_editarea-proto-v8-input-add":"file_editarea-proto-v8-add-direct",u=e?"\u7F16\u8F91\u533A_V8-\u539F\u578B-\u6210\u5458\u7BA1\u7406-\u8F93\u5165\u6846-\u6DFB\u52A0":"\u7F16\u8F91\u533A_V8-\u539F\u578B-\u6210\u5458\u7BA1\u7406-\u6DFB\u52A0\u534F\u4F5C\u8005-\u6DFB\u52A0",{trackSourceId:a,trackSource:u}}function hi(e,a){a===void 0&&(a=!1);let u="file_editarea-proto-v8-invite",p="\u7F16\u8F91\u533A_V8-\u539F\u578B-\u6210\u5458\u7BA1\u7406-\u9080\u8BF7\u6210\u5458";return a?(u="file_editarea-proto-v8-input-inviteTA",p="\u7F16\u8F91\u533A_V8-\u539F\u578B-\u6210\u5458\u7BA1\u7406-\u8F93\u5165\u6846-\u9080\u8BF7TA"):(u=e?"file_editarea-proto-v8-input-invite":"file_editarea-proto-v8-add-invite",p=e?"\u7F16\u8F91\u533A_V8-\u539F\u578B-\u6210\u5458\u7BA1\u7406-\u8F93\u5165\u6846-\u9080\u8BF7\u6210\u5458":"\u7F16\u8F91\u533A_V8-\u539F\u578B-\u6210\u5458\u7BA1\u7406-\u6DFB\u52A0\u534F\u4F5C\u8005-\u9080\u8BF7\u6210\u5458"),{trackSourceId:u,trackSource:p}}function Ko(e){if(!e)return"";let a="";return e==="org_owner"?a="\u4F01\u4E1A\u6240\u6709\u8005":e==="org_manager"?a="\u8D85\u7EA7\u7BA1\u7406\u5458":e==="org_admin"||e!=null&&e.includes("manager")?a="\u7BA1\u7406\u5458":e!=null&&e.includes("member")?a="\u534F\u4F5C\u6210\u5458":e!=null&&e.includes("viewer")&&(a="\u5BA1\u9605\u6210\u5458"),a}const Go=(e,a,u)=>{try{const{source_id:p,source:w,step:_,option:f=null}=u;if(!a||!e||ENV.IS_ON_PREMISES||ENV.IS_WONDER_SHARE)return;if((!f||(f==null?void 0:f.results)!==!1)&&p)try{(0,ps.Ds)("/api/dashboard/v5/org/invitation_records",{invitation_record:{user_id:e,org_cid:a,source:p,step:_}})}catch(j){console.log(j.message)}if(_===0)(0,xn.kH)("invite_members_entrance",{source:w});else if(_===2&&f){const j=Ko(f==null?void 0:f.invitor_role),E=Ko(f==null?void 0:f.invitee_role);(0,xn.kH)("invite_members_via_add",{source:w,join_space_num:1,has_department:!1,invitor_role:j,invitee_role:E,results:(f==null?void 0:f.results)||!0,error_type:(f==null?void 0:f.error_type)||""})}}catch(p){console.log(p.message)}},Vs=function(e,a,u,p,w){w===void 0&&(w=null);const{trackSourceId:_,trackSource:f}=pi(u);Go(e,a,{source_id:_,source:f,step:p,option:w})},mi=function(e,a,u,p){p===void 0&&(p=!1);const{trackSourceId:w,trackSource:_}=hi(u,p),f={trackSourceId:w,trackSource:_},j="/workspace/"+a+"/member?openInviteByLinkModal=true&invite_track="+(0,_t._)(f);if(Go(e,a,{source_id:w,source:_,step:0}),Vo()){location.pathname=j;return}(0,dt.JW)(j)},gi=(e,a,u)=>{const[p]=(0,i.useState)(u),w=(0,i.useRef)(0);return(0,i.useEffect)(()=>{p&&w.current>=1||w.current>=2||(Vs(e,a,u,0),w.current+=1)},[!!u]),p||u},fi=y.Ay.div.withConfig({displayName:"styles__StyledInviteMemberOverlay",componentId:"sc-six6tj-0"})(["z-index:3;height:100%;width:100%;display:flex;flex-direction:column;align-items:stretch;.overlay-content{flex:1;padding:0 4px;overflow:auto;position:relative;height:calc(100% - ","px);overflow-x:hidden;&::-webkit-scrollbar{display:block;width:4px;height:4px;}.member-list.use-virtualized-list{height:calc(100% - 10px);width:410px;.members{height:100%;.virtualized-list{&::-webkit-scrollbar{display:block;width:4px;height:4px;}}}}}.overlay-content.no-members{.member-list{height:90%;.invite{height:90%;.enterTip{height:100%;display:flex;align-items:center;justify-content:center;&:lang(en){span{display:flex;justify-content:center;div{width:80%;text-align:center;line-height:20px;}}}}}}}.collaboration-remind{position:absolute;bottom:57px;left:0;width:100%;height:29px;color:#FFFFFF;background:#298DF8;padding:0 23px;font-size:12px;line-height:17px;display:flex;justify-content:space-between;align-items:center;.collaboration-remind-close{width:16px;height:16px;cursor:pointer;path{fill:#FFFFFF;}}}.overlay-footer{display:flex;align-items:center;justify-content:space-between;height:","px;padding:0 24px;border-top:1px solid ",";.seats{color:",";font-size:12px;}}"],D.gE,D.gE,e=>e.theme.color_bg_border_02,e=>e.theme.color_text_L1),yi=e=>{const{theme:a,keyword:u,source:p,caption:w,permissionScope:_,assignedMembers:f,unassignedMembers:j,outerMember:E,onPermissionChange:z,hostType:G,handleClose:J}=e,B=(0,c.d4)(we.wA),le=(0,c.d4)(we.cb),ne=(0,c.d4)(we.WR),{settings:T,cid:te}=B,{seatsTaken:se,totalSeats:ge}=ci(B)||{},ue=gi(ne,te,u);let pe=!1;(T.invite_permission&&T.invite_permission[0]==="all"||le.isManager)&&(pe=!0);const V=()=>{const Ve={mode:"org",orgCid:B.cid,payEntrance:"\u7F16\u8F91\u533A-v8_\u7248\u672C\u7BA1\u7406_\u4E2A\u4EBA\u5347\u4F01\u4E1A",checkoutPlace:"workspace-v8_org_mem_limit",checkoutArea:"proto"};if(G==="proto")MB.global.popupHelper.chargeAsync(Ve),J&&J();else{const Pe="/workspace/"+B.cid+"?payment_param="+(0,_t._)(Ve);if(Vo()){location.pathname=Pe;return}(0,dt.JW)(Pe)}},fe=(0,i.useMemo)(()=>j.filter(Ve=>Ve.name&&Ve.name.includes(u)||Ve.mobile&&Ve.mobile.includes(u)||Ve.email&&Ve.email.includes(u)),[u,j]),ve=()=>{pe&&mi(ne,te,ue,!0)},ye=(Ve,Pe)=>{z(Ve,Pe),Vs(ne,te,ue,1),E&&Vs(ne,te,ue,2,{invitor_role:le==null?void 0:le.roleName,invitee_role:Pe}),Vs(ne,te,ue,3)},Te=!fe||fe.length<1,Ie=E?[E]:[];return(0,s.jsxs)(fi,{className:"overlay-adding-member sharing",children:[(0,s.jsxs)("div",{className:S()("overlay-content",!E&&Te&&"no-members"),children:[!Te&&(0,s.jsx)(Po,{theme:a,caption:u?null:I18N.imockSharing.unjoined,expandable:!1,className:S()(u&&"invite"),permissionScope:_,currentOrg:B,memberList:fe,isResetPermission:!0,onPermissionChange:ye,isUseVirtualizedRender:!0},"filtered-unassigned-members"),Te&&(0,s.jsx)(ui,{theme:a,caption:w,outerMembers:Ie,canInvite:pe,isSharing:!0,handleClickInviteMember:ve})]}),(0,s.jsxs)("footer",{className:"overlay-footer",children:[(0,s.jsxs)("span",{className:"seats",children:["\u5DF2\u5360\u7528\u5E2D\u4F4D/\u4F01\u4E1A\u603B\u5E2D\u4F4D\u6570\uFF1A",se,"/",ge]}),!n.g.ENV.IS_ON_PREMISES&&(0,s.jsx)($e.Oc,{type:"primary",size:"tiny",corner:"soft",onClick:V,children:I18N.imockSharing.add_team_seat})]})]})},xi=(0,i.memo)(yi),bi=y.Ay.div.withConfig({displayName:"styles__StyledProjectCollaborators",componentId:"sc-th5siy-0"})(["position:relative;display:flex;flex-direction:column;width:500px;height:100%;border-radius:8px;&.sharing{width:100%;&.dark{background:#252626;&.isInviteOverlayOpen{.overlay-adding-member{background:#252626;.overlay-header{.btn-back > svg > path{stroke:rgba(255,255,255,0.9);}.caption{color:rgba(255,255,255,0.9);}}.overlay-content{.member-list > .members > .item{.title{.name{color:rgba(255,255,255,0.9);}}.account{color:rgba(255,255,255,0.9);}label{button > span{color:rgba(255,255,255,0.9);}.caret svg{border-color:transparent transparent rgba(255,255,255,0.9) rgba(255,255,255,0.9);}}.read-only-option > span > span{color:rgba(255,255,255,0.9);}}}}}.nav-header > .title-left{label > button > svg > path{fill:#B8BCBF;}}.modal-content{.collaborators{.member-list > .members > .item{.title{.name{color:rgba(255,255,255,0.9);}}.account{color:rgba(255,255,255,0.9);}label{button > span{color:rgba(255,255,255,0.9);}.caret svg{border-color:transparent transparent rgba(255,255,255,0.9) rgba(255,255,255,0.9);}}.read-only-option > span > span{color:rgba(255,255,255,0.9);}}.inherited-members{.caption > span{color:",";&:last-child{color:#1684FC;}}.members > .item{.title{.name{color:rgba(255,255,255,0.9);}}.account{color:rgba(255,255,255,0.9);}label{button > span{color:rgba(255,255,255,0.9);}.caret svg{border-color:transparent transparent rgba(255,255,255,0.9) rgba(255,255,255,0.9);}}.read-only-option > span > span{color:rgba(255,255,255,0.9);}}}}}}&.isInviteOverlayOpen{.overlay-adding-member{.overlay-header{height:50px;.btn-back{left:20px;}.caption{font-size:14px;font-weight:500;color:",";left:82px;&:lang(en){left:100px;}}}}}& > .blank{height:86px;&.noSearch{height:18px;}}.modal-content{.blank{height:55px;}.collaborators{overflow-y:overlay;.member-list{.caption{padding:10px 20px;& > span{font-weight:500;font-size:12px;}.btn-toggle-expand{color:",";&:hover{color:",";}}.btn-add-collaborator{right:20px;}}.members{margin-top:0;.item{padding:7px 20px;height:48px;.title{flex:none;width:150px;.avatar{width:28px;height:28px;}.name{width:105px;font-weight:400;font-size:14px;line-height:initial;color:#333;}}.account{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;}}}}}}}.nav-header{display:flex;padding-left:10px;font-weight:500;font-size:16px;color:",";height:","px;align-items:center;border-bottom:1px solid ",";justify-content:space-between;.title-left{display:flex;align-items:center;.title-left-back{cursor:pointer;display:flex;align-items:center;}.member-manager{cursor:default;margin-left:10px;}svg{margin-top:2px;}.nav-title{color:"," !important;font-size:14px;margin-top:1px;}}.title-close{margin-right:20px;cursor:pointer;.svg-icon{color:",";&:hover{color:",";}&:active{color:",";}}}}.modal-content{display:flex;flex:1;flex-direction:column;align-items:stretch;height:calc(100% - ","px);padding-top:10px;&.modal-content-show-search{height:calc(100% - 116px);}&.in-invite-overlay{padding-top:20px;}.collaborators{padding:0 4px 20px 4px;height:100%;overflow:hidden auto;&::-webkit-scrollbar{display:block;width:4px;height:4px;}}}.search{display:flex;align-items:center;position:relative;margin:0px 20px;padding-top:20px;}"],e=>e.theme.color_text_L1,e=>e.theme.color_text_L1,e=>e.theme.color_text_link_normal,e=>e.theme.color_text_link_hover,e=>e.theme.color_text_L1,D.gE,e=>e.theme.color_bg_border_02,e=>e.theme.color_text_L1,e=>e.theme.color_text_L2,e=>e.theme.color_text_L1,e=>e.theme.color_text_L1,D.gE),vi=e=>{const{theme:a,from:u,caption:p,targetCid:w,permissionScope:_,captionTipType:f,isFolder:j=!1,isAllowSetCollaborators:E,isShowInheritedCollaborators:z=!1,handleBackSharingHandel:G,onChangeMembersAccess:J,handleClose:B,hostType:le,isOnlyMemberManager:ne=!1,currentOrg:T}=e,[te,se]=(0,i.useState)(""),[ge,ue]=(0,i.useState)(null),[pe,V]=(0,i.useState)(!1),{currentMembers:fe,inheritedMembers:ve,joinedMembers:ye,unjoinedMembers:Te,assignedMembers:Ie,unassignedMembers:Ve,userCurrentScopePermisson:Pe,isOnlyOneManager:Ye}=Ne(_,w),nt=Se(_,w,u),rt=async(bt,nn)=>{await nt(bt,nn),J&&J(bt,nn)};let at=fe,St=Ie,Nt=Ve;const Lt=Pe.isMember,Dt=E&&Lt,Gt=!pe&&Lt;E&&!z&&(at=ye,St=ye,Nt=Te);const ht=(0,i.useCallback)(()=>{V(!1),se(""),ue(null)},[]),It=(0,i.useCallback)(bt=>{se(bt),ue(null),bt&&V(!0)},[]),Ot=(0,i.useCallback)(async bt=>{if(!n.g.ENV.IS_ON_PREMISES&&(se(bt),bt)){const nn=Nt.find(Jt=>Jt.email===bt.trim()||Jt.mobile===bt.trim()),Gn=St.find(Jt=>Jt.email===bt.trim()||Jt.mobile===bt.trim());if(nn||Gn)return;const Zn=Ds.test(bt.trim()),Sn=bo.test(bt.trim());let sn=null;if(Zn?sn=await hs(bt.trim()):Sn&&(sn=await hs(null,bt.trim())),sn){let Jt=null;sn.user?(Jt=sn.user,Jt.name=I18N.imockSharing.to_be_invited,Jt.cid="outer"):Jt={avatar:"/images/avatar.png",cid:bt,email:bt,isNotRegister:!0,name:I18N.imockSharing.to_be_invited},ue(Jt)}}},[]),qt=(0,i.useCallback)(()=>{if(!(ne&&!pe)){if(se(""),ue(null),pe){V(!1);return}G()}},[pe,V,G]),mt=(0,i.useCallback)(()=>{V(!0)},[V]);return(0,s.jsxs)(bi,{className:S()("ProjectCollaborators sharing",""+a,{isInviteOverlayOpen:!0}),children:[(0,s.jsxs)("div",{className:"nav-header",children:[(0,s.jsxs)("div",{className:"title-left",children:[(0,s.jsxs)("div",{className:S()("title-left-back",{"member-manager":ne&&!pe}),onClick:qt,children:[ne?pe&&(0,s.jsx)(W.C,{name:"sharing/nav_back",size:32}):(0,s.jsx)(W.C,{name:"sharing/nav_back",size:32}),(0,s.jsx)("div",{className:"nav-title",children:pe?I18N.imockSharing.add_collaborator:I18N.imockSharing.team_collaborator})]}),!pe&&(0,s.jsx)(_o,{tipType:f,position:"left",isOnlyMemberManager:ne})]}),ne&&(0,s.jsx)("div",{className:"title-close",onClick:B,children:(0,s.jsx)(W.C,{size:24,name:"sharing/close"})})]}),Dt&&(0,s.jsx)("div",{className:S()("search"),children:(0,s.jsx)(ri,{value:te,onChange:It,onKeyPress:Ot})}),(0,s.jsx)("div",{className:S()("modal-content",Dt&&"modal-content-show-search"),children:pe?(0,s.jsx)(xi,{theme:a,permissionScope:_,currentOrg:T,unassignedMembers:Nt,assignedMembers:St,outerMember:ge,keyword:te,caption:p,onClose:ht,onPermissionChange:rt,handleClose:B,hostType:le}):(0,s.jsxs)("div",{className:S()("collaborators",pe&&"in-invite-overlay"),children:[E&&(0,s.jsx)(Po,{theme:a,caption:I18N.imockSharing.project_collaborators,permissionScope:_,currentOrg:T,memberList:at,isOnlyOneManager:Ye,isMemberList:!1,expandable:!0,onlyTitle:!0,onPermissionChange:rt,onClickInviteButton:mt,isShowInviteButton:Gt},"current-collaborators"),z&&(0,s.jsx)(Po,{theme:a,caption:I18N.imockSharing.parent_folder_collaborator,expandable:!0,defaultExpanded:j,readOnly:!0,permissionScope:_,currentOrg:T,memberList:ve,onPermissionChange:rt,className:"inherited-members",onClickInviteButton:mt,isShowInviteButton:Gt},"inherited-collaborators")]})}),(0,s.jsx)(gs,{})]})},_i=(0,i.memo)(vi);function wi(e){const{theme:a,targetCid:u,isSharing:p,handleBackSharingHandel:w,onChangeMembersAccess:_,handleClose:f,hostType:j,isOnlyMemberManager:E,currentOrg:z}=e,J=(0,c.d4)(we._B).get(u),B=Z(J==null?void 0:J.team_cid);return!J||B<0?null:(0,s.jsx)(_i,{theme:a,targetCid:u,caption:J.name,isAllowSetCollaborators:!0,isShowInheritedCollaborators:B>=1,captionTipType:P.p.Project,currentOrg:z,permissionScope:P.W.Project,isSharing:p,handleBackSharingHandel:w,onChangeMembersAccess:_,handleClose:f,hostType:j,isOnlyMemberManager:E})}const Si=(0,i.memo)(wi);var Ci=n(63686);const Mi=e=>{const{user:a,initData:u,currentProject:p,members:w,dispatch:_}=e,f=p==null?void 0:p.cid;return(0,i.useEffect)(()=>{(async E=>{_({type:"entry:projectAccess:initProjectData",payload:{initData:u,members:w}})})(f)},[_,u,w,f,a]),a!=null&&a.id?(0,s.jsx)(Si,{targetCid:f,isSharing:!0,...e}):null},Ni=(0,Ci.Mz)([],()=>({})),Ii=(0,c.Ng)(e=>Ni(e))(Mi);var ji=n(11645),Zo=n(87537),Ei=n(33520);function ki(e){const{getIframeContentHeight:a,handleChangeMembersAccess:u,handleClose:p}=e,w=(0,c.wA)(),_=(0,c.d4)(r.query.getProject),f=(0,c.d4)(r.query.getMembers),j=(0,c.d4)(r.query.getTheme),E=(0,c.d4)(r.query.getTopPageIndex),z=(0,c.d4)(r.query.getHostType),G=(0,c.d4)(r.query.getTabIndex),J=(0,c.d4)(r.query.getMainPage),B=(0,c.d4)(r.query.getLoading),le=(0,c.d4)(r.query.getInitData),ne=(0,c.d4)(r.query.getOrg),T=(0,c.d4)(r.query.getUser),te=(0,c.d4)(r.query.getIsEditMode),se=(0,c.d4)(r.query.getIsOnlyMemberManager),[ge,ue]=(0,i.useState)(!1);(0,i.useEffect)(()=>{const ye=(0,vs.fV)();if(ye){const{mdWMMktList:Te,mtWMMktList:Ie,noWMMktList:Ve}=ye,Pe=[...Te,...Ie,...Ve];Pe.length&&(0,es.q)(Pe).then(Ye=>{if(Ye.mdWMMktList.length>0||Ye.mtWMMktList.length>0){if(!(0,vn._5)())return;ue(!0)}})}},[]);const[pe,V]=(0,i.useState)(282);(0,i.useEffect)(()=>{let ye=619;J!=="access"&&(G===0&&E==="edit"?ye=212:(E==="embed"||E==="qrCode"||G===0&&E==="setting")&&(ye=380)),ge&&(ye+=37),V(ye),z!=="proto"&&a(ye)},[z,G,E,J,a,te,ge]);const fe=(0,i.useCallback)(()=>{w({type:r.entryKey["sharing:init"],payload:{mainPage:"share"}})},[w]);(0,i.useEffect)(()=>{w({type:r.entryKey["sharing:projectAccess:init"]})},[J,w]);const ve=(0,i.useCallback)(async(ye,Te)=>{u&&u(ye,Te)},[u]);return B?(0,s.jsx)(Zo.A,{className:S()("sharingBoxV2",""+j,"loading"),children:(0,s.jsx)(ji.A,{})}):(0,s.jsxs)(Zo.A,{className:S()("sharingBoxV2",""+j,z==="iframe"&&"in-iframe"),style:{height:pe+"px"},id:"v8-share-page",children:[J==="share"?(0,s.jsx)(xo,{}):(0,s.jsx)(Ii,{theme:j,user:T,currentProject:_,members:f,initData:le,currentOrg:ne,handleBackSharingHandel:fe,onChangeMembersAccess:ve,hostType:z,handleClose:p,isOnlyMemberManager:se}),(0,s.jsx)(Ei.r,{})]})}var Ti=n(40778);const Ai=e=>{let{theme:a,org:u=null,user:p,project:w,flatKey:_,members:f=[],hostType:j="proto",screenMetaList:E,hostSharingData:z,projShareToEdit:G="",handleClose:J,isOnlyMemberManager:B=!1,hostCurrentScreen:le}=e;const ne=g();let T=!0;j!=="iframe"&&(T=(0,Ti.OB)());try{w&&j!=="iframe"&&(0,Y.E9)({project:w,isEditMode:T,shareSource:"\u9876\u90E8\u5206\u4EAB\u6309\u94AE"})}catch(ue){console.error(ue)}const te=G?1:0;ne.dispatch({type:r.entryKey["sharing:init"],payload:{project:w,theme:a,user:p,org:u,flatKey:_,hostType:j,members:f,screenMetaList:E,hostSharingData:z,isEditMode:T,tabIndex:te,projShareToEdit:G,hostCurrentScreen:le}});const se=(0,i.useCallback)(ue=>{window.top.postMessage(JSON.stringify({sharingV2Message:"sharing:height",payload:{height:ue}}),"*")},[]),ge=(0,i.useCallback)((ue,pe)=>{window.top.postMessage(JSON.stringify({sharingV2Message:"sharing:changeMembersAccess",payload:{member:ue,value:pe}}),"*")},[]);return j==="iframe"&&B&&(ne.dispatch({type:r.entryKey["sharing:init"],payload:{mainPage:"access",isOnlyMemberManager:!0}}),se(585)),(0,i.useEffect)(()=>{if(j==="iframe"&&!B&&se(212),!w)return;const{cid:ue}=w;(async()=>{if(!w)return;const{result:{result:V},statusOk:fe}=await(0,$.QC)(ue);fe&&ne.dispatch({type:r.entryKey["sharing:init"],payload:{canEditByUser:V}})})()},[j,se,w,ne]),(0,s.jsx)(c.Kq,{store:ne,children:(0,s.jsx)(y.NP,{theme:M.A[a],children:(0,s.jsx)(b.$,{children:(0,s.jsx)(ki,{getIframeContentHeight:se,handleChangeMembersAccess:ge,handleClose:J})})})})}},87537:(Me,de,n)=>{"use strict";n.d(de,{A:()=>h});var i=n(21676);const h=i.Ay.div.withConfig({displayName:"styles__StyledMainPage",componentId:"sc-8fjrks-0"})(["width:414px;background-color:",";color:",";position:relative;height:212px;&.loading{height:212px;}&.dark{.personal-project-access{.title{span{color:rgba(255,255,255,0.9);}}.content{span{color:rgba(255,255,255,0.9);}}}.access-operation{.open-access-switch > span{color:rgba(255,255,255,0.9);}.item-center > button{background-color:#252626;&:hover{background-color:#666666;}span{color:rgba(255,255,255,0.9);}}}.sharing-footer{background-color:#151515;.sharing-type{span{color:rgba(255,255,255,0.9);}.toolbar-icon-item > svg > path{color:rgba(255,255,255,0.9);}}.sharingV2-click-visible{&:hover{background-color:#666666;}span{color:rgba(255,255,255,0.9);}}}}.access-operation{margin:20px 20px 14px;.open-access-switch{display:flex;align-items:center;margin-bottom:20px;span{font-weight:500;font-size:14px;line-height:20px;color:#333333;margin-right:6px;}}}"],C=>C.theme.color_bg_white,C=>C.theme.color_text_L2)},60482:(Me,de,n)=>{"use strict";n.d(de,{CV:()=>O,EL:()=>Y,Mb:()=>x,Mj:()=>r,O8:()=>M,R0:()=>N,RF:()=>K,R_:()=>$,Sy:()=>v,Uh:()=>oe,a2:()=>X,eH:()=>y,it:()=>b,jc:()=>L,kv:()=>R,vt:()=>g,zM:()=>c});var i=n(51691),h=n(88223),C=n(76713),d=n.n(C),I=n(41449),q=n(72907),U=n(44864),k=n(36521),A=n(39547);const N=S=>S?[{value:"public",label:I18N.imockSharing.share_anyone_view},{value:"restricted",label:I18N.imockSharing.org_members_only}]:[{value:"public",label:I18N.imockSharing.share_anyone_view}],O=S=>{let{accessToken:D,targetKey:H,pageKey:re,view_mode:P,selection:W,page_begin:ee,canvas_begin:ae}=S;const ie=(je,Re)=>Re?"&"+je+"="+Re:"";let xe=""+location.origin+I.o$+"/"+D+"/sharing?view_mode="+(P||"read_only");return P==="read_only"?xe=""+xe+ie("screen",re)+ie("canvasId",H)+ie("selection",W):P==="device"?xe=""+xe+ie("screen",ee!=null?ee:re)+ie("canvasId",ae!=null?ae:H)+ie("selection",W):xe=""+xe+ie("screen",re)+ie("selection",W),xe},oe=S=>S&&S.length>0?S[0]:"",$=(S,D,H,re)=>{const P=re?"  \u5BC6\u7801\uFF1A"+re:"";return S+" #"+(0,h.qk)(D)+"-"+(0,h.qk)(H||"\u5206\u4EAB")+P},X=S=>""+(["v6.modao.cc"].includes(location.host)?"https://modao.cc":location.origin)+I.o$+"/"+S,R=S=>{const{project:D,action:H,linkName:re,isFromScreenList:P}=S;i.Y4.trackShareProjectAction({project_type:"\u539F\u578B V8",source:P?"\u9875\u9762\u5217\u8868\u83DC\u5355":(0,i.IQ)(),project_name:D.name,project_cid:D.cid,share_link_action:H,share_link_name:re})},Y=S=>{if(!S)return!1;const{created_at:D}=S;return d()(D).isBetween(d()().subtract(3,"days"),d()())},K=S=>Object.entries(S).filter(H=>{let[re,P]=H;return!P.hotAttr.asFolder&&re!==U.$k}).map(H=>H[0]),r=(S,D,H)=>{if(S)return H.length;let re=0;return D==null||D.forEach(P=>{H.find(ee=>ee===P)&&(re+=1)}),re},v=(S,D)=>{if(D.screen_visible_switch){const{selectedSize:H,pageSize:re}=x(S,D);return H+"/"+re}else return I18N.imockSharing.all},x=(S,D)=>{const H=K(S.pageAttrMap),re=r(!D.screen_visible_switch,D.screen_visible_list,H);return{pageSize:H.length,selectedSize:re}},g=S=>{const D={},H=[],re=new Map;for(const[ee,ae,ie]of S)if(ie.type==="rResBunch"){ee!==U.$k&&H.push(ee),D[ee]={hotAttr:ie},re.get(ee)||re.set(ee,[]);const xe=re.get(ae);Array.isArray(xe)&&re.set(ae,[...xe,ee])}const P=ee=>{let ae=[];for(const xe of re.get(ee))ae.push(P(xe));ae=ae.sort((xe,je)=>xe.data.zIndex-je.data.zIndex);const{hotAttr:ie}=D[ee];return{cid:ee,data:{cid:ee,...ie},children:ae}},W=P("B@main");return{pageAttrMap:D,pageKeyList:H,treeData:W}};function c(S,D,H){let re=I18N.imockSharing.share;return D&&(re=re+" "+(D.length+1)),{project_cid:S,view_access:"public",screen_visible_switch:!1,screen_visible_list:[],wechat:!1,highlight:!0,view_sticky:!0,comment_permission:"org_member",is_default_link:!1,password:"",device_model:"read_only",view_prd:!1,expire_type:"forever",sticky:!1,...H,link_name:re,type:"advanced"}}const y=async S=>{let{updateType:D,org:H,updateFn:re,updatedKV:P,isCustom:W}=S;const ee=()=>{const ie=(H==null?void 0:H.plan)==="org_full"?"MaxOrgSize":"NormalOrgSize";window.SharingEventEmitter.emit("sharing:count",{whichModal:ie}),window.top&&window.top.postMessage(JSON.stringify({sharingMessage:"sharing:count",payload:{whichModal:ie}}),"*")},ae=()=>{if(!W&&D==="update"){const ie={sharingMessage:"sharing:notice",payload:{type:"settingSuccess"}};try{P!=null&&P.expire_type?MB.notice({text:I18N.imockSharing.sharing_hasRest,type:"success"}):MB.notice({text:I18N.imockSharing.setting_valid})}catch(xe){window.top&&window.top.postMessage(JSON.stringify(ie),"*")}}};try{const ie=await re();if(ie)return ae(),ie}catch(ie){await(0,q.m0)(ie,ee)}},b=S=>{let{value:D,currentSharing:H,sharingList:re}=S,P=!1;for(const W of re)if(W.cid!==H.cid&&D===W.link_name){P=!0;break}return P},M=(S,D,H)=>{let re;if(D.type==="default"){const W=new URLSearchParams(location.search),ee=W.get("view_mode")||(0,k.Yt)(S.cid+"_default_sharing_view_mode","read_only",k.qW.String),ae=W.get("selection"),ie=W.get("screen"),xe=W.get("canvasId");re=O({accessToken:D.access_token,view_mode:ee,page_begin:D.is_first_canvas_open?"":ie,canvas_begin:D.is_first_canvas_open?"":xe,selection:ae,pageKey:D.is_first_canvas_open?"":H})}else D.screen_visible_switch?H&&D.screen_visible_list.includes(H)?re=O({accessToken:D.access_token,view_mode:D.device_model,pageKey:D.is_first_canvas_open?"":H}):re=O({accessToken:D.access_token,view_mode:D.device_model}):re=O({accessToken:D.access_token,view_mode:D.device_model,pageKey:D.is_first_canvas_open?"":H});return $(re,S==null?void 0:S.name,D.link_name||"",D.password)},L=(S,D)=>D&&(D==null?void 0:D.otype)!=="personal"?A.t.InitialOrg(D).limitationSdk.prototypeLimit.pLimitation.max_project_share_count:S?A.t.InitialUser(S).limitationSdk.prototypeLimit.pLimitation.max_project_share_count:1},72907:(Me,de,n)=>{"use strict";n.d(de,{$r:()=>A,AG:()=>I,FY:()=>d,K7:()=>k,ai:()=>q,m0:()=>U});var i=n(46795),h=n(33386),C=n(39719);const d=async(N,O)=>{if((0,h.p)("[alertAsyncBlocked]",N,{url:N.url,status:N.status}),N.status===403||/403/.test(N.message)){var oe;(oe=MB)==null||(oe=oe.messageBucket)==null||oe.send("mobileLoadProjectError",{errMsg:I18N.dPages.cant_edit_desc}),await MB.global.popupHelper.alertAsyncBlocked({title:I18N.dModule.cant_edit,confirmText:I18N.dModule.exit_editing,desc:I18N.dModule.cant_edit_desc}).then(()=>O?O():MB.global.onBackButtonClick())}else if(N.status===401||/401/.test(N.message))k(),await MB.global.popupHelper.alertAsyncBlocked({title:I18N.dModule.err_info_modal.INVALID_COOKIE.title,desc:I18N.dModule.err_info_modal.INVALID_COOKIE.desc,confirmText:I18N.dModule.confirm}).then(()=>O?O():I());else{var $;const X=String(N.status||N.message||"UNKNOWN").replace(/\s/g,"").slice(0,16);($=MB)==null||($=$.messageBucket)==null||$.send("mobileLoadProjectError",{errMsg:window.I18N.dModule.unknown_error.replace(/%s/i,X)}),await MB.global.popupHelper.alertAsyncBlocked({desc:window.I18N.dModule.unknown_error.replace(/%s/i,X),isHTML:!0})}},I=async()=>{try{await(0,i.DE)("/api/web/v3/initial"),location.reload()}catch(N){const O=location.origin+"/signin?next="+location.pathname;location.href=O}},q=N=>{N.status===404&&N.error_type==="MT_NOT_FOUND"&&MB.notice({text:I18N.dModals.template_no_available,type:"error"})},U=async(N,O)=>{N.status===403||/403/.test(N.message)?O():(N.status===401||/401/.test(N.message))&&await MB.global.popupHelper.alertAsyncBlocked({title:I18N.dModule.err_info_modal.INVALID_COOKIE.title,desc:I18N.dModule.err_info_modal.INVALID_COOKIE.desc,confirmText:I18N.dModule.confirm}).then(()=>I())},k=()=>{window.top.postMessage(JSON.stringify({sharingMessage:"sharing:loginInvalid"}),"*")},A=function(N){let{onClick:O}=N===void 0?{}:N;O&&!ENV.IS_WONDER_SHARE?MB.notice({text:window.I18N.dModule.network_api_error_1,CustomChildComponent:(0,C.DV)({onClick:O}),type:"error",duration:5e3}):MB.notice({text:window.I18N.dModule.network_api_error,type:"error"})}},42226:(Me,de,n)=>{"use strict";n.d(de,{JQ:()=>oe,kZ:()=>R,tg:()=>Y,zW:()=>$});var i=n(76713),h=n.n(i),C=n(35736),d=n.n(C),I=n(54466),q=n.n(I);if(n.j!=15)var U=n(29601);function k(r){return r<10?"0"+r:r}function A(r,v,x){const g=new Date(r),c=g.getFullYear(),y=k(g.getMonth()+1),b=k(g.getDate()),M=k(g.getHours()),L=k(g.getMinutes());return v==="time"?M+":"+L:v==="datetime"?""+y+x+b+" "+M+":"+L:""+c+x+y+x+b+" "+M+":"+L}const N=n.j!=15?["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Spt","Oct","Nov","Dec"]:null;function O(r,v){const x=new Date(r),g=x.getFullYear(),c=N[x.getMonth()],y=k(x.getDate()),b=k(x.getHours()),M=k(x.getMinutes());return v==="time"?b+":"+M:v==="datetime"?c+" "+y+" "+b+":"+M:c+" "+y+", "+g+" "+b+":"+M}function oe(r,v,x){if(v===void 0&&(v="datetime"),x===void 0&&(x="."),!r)return"";let g=r;typeof r!="number"&&(g=parseInt(r,10)),g.length===10&&(g=g*1e3);let c="";const y=(0,U.w)();return y==="zh-CN"?c=A(g,v,x):(y==="en-US"||y==="en")&&(c=O(g,v,x)),c}function $(r){const x=X()-r;let g="";if(x<=3*1e3)g=I18N.Common.just_now||"\u521A\u521A";else if(x>3*1e3&&x<60*1e3)g=Math.floor(x/1e3)+I18N.Common.num_seconds_ago||"\u79D2\u524D";else if(x>=60*1e3&&x<60*60*1e3)g=Math.floor(x/(60*1e3))+I18N.Common.num_minutes_ago||"\u5206\u949F\u524D";else{g=oe(r,"full");const c=new Date(new Date().setHours(0,0,0,0)).getTime(),y=new Date(new Date().getFullYear(),0,1).getTime();r>y&&(g=oe(r,"datetime")),r>c&&(g=oe(r,"time"))}return g}function X(){return new Date().getTime()}const R=r=>{h().locale(r==="zh-CN"?"zh-cn":r),h().extend(d()),h().extend(q())},Y=()=>h()().isBefore("2024-10-06"),K=r=>new Promise(v=>setTimeout(v,r))},98794:(Me,de,n)=>{"use strict";n.d(de,{qk:()=>Y,I2:()=>$,ZI:()=>X});const i={set:function(K,r,v,x){x===void 0&&(x="/");let g="";if(g+=K+"="+encodeURIComponent(r),x&&(g+=";path="+x),v){const c=new Date;c&&(c.setTime(c.getTime()+v*1e3),g+=";expires="+c.toUTCString())}document.cookie=g},get:function(K){const r=document.cookie.split(";");let v="";for(let x=0;x<r.length;x++){const g=r[x].indexOf(K);if(g!==-1){v=r[x].substring(g+K.length+1,r[x].length);break}}return v}},h=function(K,r){if(K!=="visit")return;const v="visit_id",x=60*24*3600;return i.set(v,r,x,"/"),r},C=function(){const K=i.get("visit_id");if(K&&K!="")return K;const r=new Date,v=r.getFullYear().toString().substr(2,2),x=r.getMonth()+1,g=r.getDate(),c=r.getHours(),y=r.getMinutes(),b=r.getSeconds(),M=r.getMilliseconds();let L=Math.round(Math.random()*Math.random()*1e4).toString();const S=L.length;S===1?L=L+"000":S===2?L=L+"00":S===3&&(L=L+"0");let D="2_"+v;return D+=x<10?"0"+x:x,D+=g<10?"0"+g:g,D+=c<10?"0"+c:c,D+=y<10?"0"+y:y,D+=b<10?"0"+b:b,M<10?D+="00"+M:M<100?D+="0"+M:D+=M,D+="_"+L,h("visit",D),D};var d=function(K){return K.WWW="www",K.WWW_TEST="www-test",K.OVERSEA="oversea",K.OVERSEA_TEST="oversea-test",K}(d||{});const I={www:"https://sc.bosyun.cn","www-test":"https://sc.bosyun.cn",oversea:"https://sc.bosyun.net","oversea-test":"https://sc.bosyun.net"},q="MD_",U="modao",k=()=>{let K=d.WWW;return/^([a-z0-9]+\.)*mockitt\.com$/.test(location.host)&&(K=d.OVERSEA),K},A=()=>{const K=window.sensorsDataAnalytic201505;if(!K)return;const r=k();K.init({name:"sensors",server_url:I[r]+"/sa.gif?project=production",is_track_single_page:!1,use_client_time:!0,show_log:!1,send_type:"beacon",heatmap:{clickmap:"not_collect",scroll_notice_map:"not_collect"}}),K.identify(C(),!0),K.registerPage({product:U}),window.sensors=K},N=function(K){var r;if(window.sensors){K=""+q+K;for(var v=arguments.length,x=new Array(v>1?v-1:0),g=1;g<v;g++)x[g-1]=arguments[g];(r=window.sensors)==null||r.track(K,...x)}},O=function(){return window.sensors&&window.sensors.setOnceProfile(...arguments)},oe=function(){return window.sensors&&window.sensors.setProfile(...arguments)},$=ENV.NO_TRACK?()=>{}:A,X=ENV.NO_TRACK?()=>{}:N,R=ENV.NO_TRACK?()=>{}:O,Y=ENV.IS_WONDER_SHARE?K=>{if(!window.gtag)return console.error("gtag is not a function");window.gtag("config","UA-4839360-64",{user_id:K,transport_type:"beacon"})}:()=>{}},36114:(Me,de,n)=>{"use strict";n.d(de,{U:()=>U});var i=n(98794),h=n(27374),C=n(97788),d=n(98195);const I={[h.SR.PageV9]:"\u751F\u6210\u539F\u578B\u9875\u9762",[h.SR.Component]:"\u751F\u6210\u7EC4\u4EF6",[h.SR.Flow]:"\u751F\u6210\u6D41\u7A0B\u56FE",[h.SR.Mind]:"\u751F\u6210\u601D\u7EF4\u5BFC\u56FE",[h.SR.Table]:"\u751F\u6210\u8868\u683C",[h.SR.Chart]:"\u751F\u6210\u56FE\u8868",[h.SR.Semantic]:"AI\u6307\u4EE4",[h.SR.Chat]:"AI\u5BF9\u8BDD",[h.SR.AutoFill]:"\u667A\u80FD\u586B\u5145"},q={[d.lS.Directory]:"\u76EE\u5F55\u9762\u677F",[d.lS.Builtin]:"\u7EC4\u4EF6\u9762\u677F",[d.lS.Icon]:"\u56FE\u6807\u9762\u677F",[d.lS.Page]:"\u9875\u9762\u9762\u677F",[d.lS.Asset]:"\u56FE\u7247\u9762\u677F",[d.lS.Template]:"\u6BCD\u7248\u9762\u677F",[d.lS.AI]:"AI\u9762\u677F"};let U;(function(k){const A=k.AIOpenSourceTrack=r=>{const v=I[r];v&&(0,i.ZI)("proto_ai_entrance",{ai_func_name:v})},N=k.AIUseTrack=(r,v)=>{const x=I[r];!x||!v||(0,i.ZI)("proto_ai_use",{ai_func:x,ai_input:v})},O=k.addShapeToCanvasTrackSourceMap={quickCreate:"\u5FEB\u6377\u952E",topToolbar:"\u9876\u90E8\u64CD\u4F5C\u680F"},oe=k.addShapeToCanvasTrack=(r,v)=>{r&&v&&(0,i.ZI)("proto_shape_add",{name:r,source:v})},$=k.addDrawIOToCanvasTrack=r=>{r&&(0,i.ZI)("proto_draw_add",{type:r})},X=k.addAnimationTrack=r=>{r&&I18N.dConst.ani[r]&&(0,i.ZI)("proto_animation_add",{type:I18N.dConst.ani[r]})},R=k.updateInteractionTrack=r=>{var v;const{type:x,interactionTrigger:g,interactionType:c}=r;if(!g||!c)return;const y=(0,C.vc)(g);if(!y)return;const M=(v=(0,C.gu)().find(L=>L.value===c))==null?void 0:v.label;M&&(0,i.ZI)("proto_interaction_set",{type:x,trigger:y,action:M})},Y=k.searchResultTrack=(r,v,x)=>{const g=q[v];!r||!g||(0,i.ZI)("proto_search_result",{keyword:r,source:g,count:x})},K=k.watermarkExposureTrack=r=>{if(!r)return;const v=!!MB.currentOrg;(0,i.ZI)("proto_watermark_show",{watermark_type:r,workspace_type:v?"org":"solo"})}})(U||(U={}))},15039:(Me,de,n)=>{"use strict";n.d(de,{E9:()=>$,Xc:()=>O,nr:()=>oe});var i=n(40778),h=n(51691),C=n(36820),d=n(59318);let I=function(X){return X.acces="access",X.viewAccess="viewAccess",X.copy="copy",X.qrCode="qrCode",X.embed="Embed",X.setting="Setting",X.pwdProtection="PwdProtection",X.password="password",X.sticky="sticky",X.comment="comment",X.mobile="mobile",X}({});var q=function(X){return X.Edit="\u53EF\u7F16\u8F91",X.onlyView="\u4EC5\u67E5\u770B",X}(q||{}),U=function(X){return X.NoLogin="\u672A\u767B\u5F55\u7528\u6237",X.LoginButNotOrgMember="\u975E\u56E2\u961F\u767B\u5F55\u7528\u6237",X.ProjectMember="\u534F\u4F5C\u6210\u5458",X.TeamMember="\u56E2\u961F\u6210\u5458",X}(U||{}),k=function(X){return X.EditMode="\u7F16\u8F91\u6A21\u5F0F",X.ReadOnlyMode="\u53EA\u8BFB\u6A21\u5F0F",X.DeviceMode="\u771F\u673A\u6A21\u5F0F",X.InspectMode="\u6807\u6CE8\u6A21\u5F0F",X}(k||{});const A=X=>{let{userId:R,orgPermissions:Y,spacePermissions:K,projectPermissions:r}=X;if(!R)return U.NoLogin;const v=(0,d.ox)(R,Y),x=(0,d.ox)(R,K),g=(0,d.ox)(R,r);if(!v)return U.LoginButNotOrgMember;if(x||g)return U.ProjectMember;if(v)return U.TeamMember},N=X=>{let{userCanEdit:R,userId:Y,orgPermissions:K,spacePermissions:r,projectPermissions:v,isEditMode:x,view_mode:g,isIframe:c}=X;const y=R?q.Edit:q.onlyView,b=A({userId:Y,orgPermissions:K,spacePermissions:r,projectPermissions:v}),M=c?"\u5DE5\u4F5C\u53F0":x?k.EditMode:g==="read_only"?k.ReadOnlyMode:g==="device"?k.DeviceMode:g==="inspect"?k.InspectMode:"";return{user_rights:y,user_type:b,operation_from:M}},O=X=>{let{optionType:R,userCanEdit:Y,userId:K,orgPermissions:r,spacePermissions:v,projectPermissions:x,isEditMode:g,view_mode:c,share_type:y,isIframe:b,project_name:M,project_cid:L}=X;const{user_rights:S,user_type:D,operation_from:H}=N({userCanEdit:Y,userId:K,orgPermissions:r,spacePermissions:v,projectPermissions:x,isEditMode:g,view_mode:c,isIframe:b});(0,C.kH)("share_function_click_V8",{operation_type:R,user_rights:S,user_type:D,operation_from:H,project_name:M,project_cid:L,share_type:y})},oe=X=>{(0,C.kH)("advanced_sharing_click",X)},$=X=>{let{project:R,isEditMode:Y,shareSource:K}=X;const r=(0,i.gh)(),v=(0,i.oK)(),{cid:x,name:g}=R;(0,C.kH)("share_project",{project_type:"\u539F\u578B V8",source:Y?"\u7F16\u8F91\u533A":r?"\u53EA\u8BFB\u6A21\u5F0F":v?"\u771F\u673A\u6F14\u793A":"\u6807\u6CE8\u6A21\u5F0F",project_name:g,project_cid:x,share_source:K}),h.Y4.editProjectNew("\u5206\u4EAB\u9879\u76EE")}},47755:(Me,de,n)=>{"use strict";n.d(de,{_:()=>i});const i=C=>encodeURIComponent(JSON.stringify(C)),h=C=>JSON.parse(decodeURIComponent(C))},67234:(Me,de,n)=>{"use strict";n.d(de,{p:()=>O,A:()=>X});var i=n(74059),h=n(51044),C=n(66748),d=n.n(C),I=n(98236),q=n.n(I),U=n(7290),k=n(86634),A=n.n(k),N=n(21676);const O="checkbox-has-box",oe=N.Ay.label.withConfig({displayName:"styles__StyledCheck",componentId:"sc-gd8gcf-0"})(["position:relative;display:flex;align-items:center;cursor:pointer;color:",";> input[type=radio],> input[type=checkbox]{position:absolute;opacity:0;width:12px;height:12px;}.Check-state{position:relative;width:12px;height:12px;font-size:12px;display:flex;align-items:center;border:1px solid ",";border-radius:2px;transition:all 0.2s ease-in-out;background-color:",";flex-shrink:0;.icon{position:absolute;top:-1px;left:-1px;}}.Check-label{margin-left:0.33333em;color:",";}&.is-checked .Check-state{background-color:",";border:1px solid ",";color:#fff;.icon{transform:scale(0.833);color:#fff;}}&:not(.is-checked) .Check-state .icon{speak:none;opacity:0;}&.readonly,&.is-disabled{cursor:default;.Check-state{background:",";border:1px solid ",";.icon{color:",";}}}&.is-disabled{cursor:not-allowed;}&.","{input,.Check-state{margin:6px;transition:none;}.Check-label{margin-left:4px;}}"],R=>R.theme.color_text_L2,R=>R.theme.color_text_disabled01,R=>R.theme.color_bg_white,R=>R.theme.color_text_L2,R=>R.theme.color_proto,R=>R.theme.color_proto,R=>R.theme.color_btn_secondary_active,R=>R.theme.color_btn_secondary_active,R=>R.theme.color_text_disabled01,O);var $=n(57464);class X extends h.PureComponent{constructor(){super(...arguments),(0,i.A)(this,"state",{prevProps:this.props,isChecked:this.props.isChecked}),(0,i.A)(this,"onToggle",Y=>{const{name:K,value:r,label:v,onChange:x,onToggle:g,isDisabled:c,readOnly:y,attr:b}=this.props,{isChecked:M}=this.state,L=!c&&!y,S=L?M==="mixed"?!0:!M:M;this.setState({isChecked:S}),g(S,K,r||v,Y),x(S,b,Y)})}static getDerivedStateFromProps(Y,K){let{prevProps:r}=K;return q()(r,Y)?null:{prevProps:Y,isChecked:Y.isChecked}}render(){const{className:Y,label:K,name:r,isDisabled:v,readOnly:x}=this.props,{isChecked:g}=this.state,c=A()(Y,{"is-checked":!!g,"is-disabled":v,readonly:x});return(0,$.jsxs)(oe,{className:c,children:[(0,$.jsx)("input",{type:"checkbox",defaultChecked:!!g,disabled:v,name:r,onChange:this.onToggle}),(0,$.jsx)("span",{className:"Check-state",children:(0,$.jsx)(U.C,{name:g==="mixed"?"new_replace/box_check_mixed":"new_replace/box_check"})}),K&&(0,$.jsx)("span",{className:"Check-label",children:K})]})}}(0,i.A)(X,"propTypes",{isChecked:d().bool||"mixed",isDisabled:d().bool,readOnly:d().bool,onChange:d().func.isRequired,onToggle:d().func.isRequired,label:d().any,name:d().string,attr:d().string,value:d().any,className:d().string}),(0,i.A)(X,"defaultProps",{isChecked:!1,label:"",className:"",onChange:()=>null,onToggle:()=>null})},80582:(Me,de,n)=>{"use strict";n.d(de,{A:()=>k});var i=n(74059),h=n(51044),C=n(21183),d=n(66748),I=n.n(d),q=n(57464);class U extends h.PureComponent{constructor(N){super(N),(0,i.A)(this,"freshCanvas",()=>{const O=this.canvasWrapperRef.current,{height:oe,width:$,text:X,foreground:R,background:Y}=this.props,K=(0,C.j)({height:oe,width:$,text:X,foreground:R,background:Y});O.hasChildNodes()?O.replaceChild(K,O.firstChild):O.appendChild(K)}),this.canvasWrapperRef=(0,h.createRef)()}componentDidMount(){this.freshCanvas()}componentDidUpdate(){this.freshCanvas()}render(){const{className:N}=this.props;return(0,q.jsx)("div",{className:N,ref:this.canvasWrapperRef})}}U.propTypes={width:I().number,height:I().number,text:I().string.isRequired,foreground:I().string,background:I().string,className:I().string},U.defaultProps={width:150,height:150};const k=U},29739:(Me,de,n)=>{"use strict";n.d(de,{A:()=>d});var i=n(46479),h=n(21676);const d=(0,h.Ay)(i.ft).withConfig({displayName:"ThemeLoading",componentId:"sc-1f7bkn3-0"})(["svg g g:first-child g path:last-child{stroke:",";}svg g g:last-child g path:last-child{stroke:",";}"],I=>I.theme.color_btn_secondary_active,I=>I.theme.color_text_disabled01)},11645:(Me,de,n)=>{"use strict";n.d(de,{A:()=>U});var i=n(51044),h=n(29739),C=n(21676);const d=C.Ay.div.withConfig({displayName:"styles__StyledSharingLoading",componentId:"sc-iidm8l-0"})(["position:absolute;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center;.loading{width:50px;height:50px;}"]);var I=n(57464);const U=(0,i.memo)(()=>(0,I.jsx)(d,{className:"sharing-loading",children:(0,I.jsx)(h.A,{className:"loading"})}))},13005:()=>{"use strict";const Me={},de={},n={},i={}},33520:(Me,de,n)=>{"use strict";n.d(de,{l:()=>C,r:()=>h});var i=n(21676);const h=(0,i.DU)(["::-webkit-scrollbar-track{background-color:transparent;}::-webkit-scrollbar{width:4px;height:4px;border-radius:4px;}::-webkit-scrollbar-thumb{background-color:",";border-radius:4px;&:hover{background-color:",";}}::-webkit-scrollbar-corner{background-color:transparent;}.widget.panel{::-webkit-scrollbar-thumb{background-color:#d2d2d8;&:hover{background-color:",";}}}"],d=>d.theme.color_bg_border_02,d=>d.theme.color_background_split_hover,d=>d.theme.color_background_split_hover),C=(0,i.DU)([".ModalPortal,.CoreModalPortal,.OverlayPortal{min-width:initial !important;}"])},57716:(Me,de,n)=>{"use strict";n.d(de,{A:()=>Y});var i=n(35524),h=n(54909);const C="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAIAAABLbSncAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQwIDc5LjE2MDQ1MSwgMjAxNy8wNS8wNi0wMTowODoyMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTggKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RDkzNzZFN0RDODhFMTFFOEExOUJFNkQ0MTNFM0Q2OTYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RDkzNzZFN0VDODhFMTFFOEExOUJFNkQ0MTNFM0Q2OTYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpEOTM3NkU3QkM4OEUxMUU4QTE5QkU2RDQxM0UzRDY5NiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpEOTM3NkU3Q0M4OEUxMUU4QTE5QkU2RDQxM0UzRDY5NiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PktroGEAAAAoSURBVHjaYvz06RMDDPDy8sLZTAw4AOkSjP///4dzPn/+TAs7AAIMAG56COJosoI3AAAAAElFTkSuQmCC",d="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAAGzCI4dAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAACKADAAQAAAABAAAACAAAAACVhHtSAAAAVklEQVQYGYWOMQ6AMAwD04ot7wJWyv+/kblgpIsqZcBDGtu1W9uPc9o17tk0IsKaJHe3rpGKvZAgbCxyhS+jBaOLrCiRciM7iNEFLwkMznwDge/BfxsegvIceOfO91wAAAAASUVORK5CYII=",I=Object.entries(h.f).reduce((K,r)=>{const v=r[0];return{...K,[v]:[h.f[v].value_light,h.f[v].value_dark||h.f[v].value_light]}},{}),q=Object.entries(h.$).reduce((K,r)=>{const v=r[0];return{...K,[v]:[h.$[v].value_light,h.$[v].value_dark||h.$[v].value_light]}},{}),U=Object.entries(i.af).reduce((K,r)=>{var v;const x=r[0];return{...K,[x]:[i.af[x].value,((v=i.qY[x])==null?void 0:v.value)||i.af[x].value]}},{}),k=K=>{let r;const[v,x,g]=K,c=g!=null?g:v;return x==="light"?r=i.af[c].value:r=i.qY[c].value,{[v]:[r,r]}},N=[["color_tips_black","dark","color_ruler_shadow_color"]].reduce((r,v)=>{const x=k(v);return{...r,...x}},{}),X={...U,...N,...{loading_styles_bg:["linear-gradient(130deg, #f2f2f2 25%, #e6e6e6 37%, #f2f2f2 63%)","linear-gradient(118.3deg, #474848 1.71%, #363738 100%)"],float_nav_box_shadow:["0 4px 8px 0 rgba(39, 54, 78, 0.08), 0 4px 12px 0 rgba(39, 54, 78, 0.06)","0px 24px 38px rgba(0, 0, 0, 0.14), 0px 9px 46px rgba(0, 0, 0, 0.12), 0px 11px 15px rgba(0, 0, 0, 0.2)"],menu_content_shadow:["0 6px 16px -8px rgba(0,0,0,0.08), 0 9px 28px 0 rgba(0,0,0,0.05)","0px 24px 38px rgba(0, 0, 0, 0.14), 0px 9px 46px rgba(0, 0, 0, 0.12), 0px 11px 15px rgba(0, 0, 0, 0.2)"],shadow_1:["0 2px 8px 0 rgba(0, 0, 0, 0.1)","0 2px 6px 0 rgba(0,0,0,0.30), 0 10px 30px 0 rgba(0,0,0,0.15), inset 0 1px 0 0 #252626"],shadow_2:["0 2px 10px 0 rgba(39, 54, 78, 0.8), 0 12px 40px 0 rgba(39, 54, 78, 0.1)","0 24px 38px 3px rgba(0,0,0,0.14), 0 9px 46px 8px rgba(0,0,0,0.12), 0 11px 15px -7px rgba(0,0,0,0.20)"],shadow_3:["0 2px 8px 0 rgba(0, 0, 0, 0.1)","0 2px 7px 0 rgba(0, 0, 0, 0.26), 0 12px 36px 0 rgba(0, 0, 0, 0.1)"],shadow_4:["0 2px 10px 0 rgba(0, 0, 0, 0.12)","0 11px 15 px rgba(0, 0, 0, 0.2), 0 9 px 46px 0 rgba(0, 0, 0, 0.12)"],shadow_5:["0 2px 10px 0 rgba(0, 0, 0, 0.12)","0 24px 38px 3px rgba(0, 0, 0, 0.14), 0 9px 46px 8px rgba(0, 0, 0, 0.12), 0 11px 15px -7px rgba(0, 0, 0, 0.2)"],shadow_hover:["0 2px 4px rgba(0, 0, 0, 0.14)","0 2px 4px rgba(0, 0, 0, 0.46), 0 8px 16px rgba(0, 0, 0, 0.40)"],miss_font_box_shadow:["0 3px 10px rgba(0, 0, 0, 0.1)","0px 24px 38px rgba(0, 0, 0, 0.14), 0px 9px 46px rgba(0, 0, 0, 0.12), 0px 11px 15px rgba(0, 0, 0, 0.2)"],export_bar_box_shadow:["0 -4px 8px rgba(219, 219, 219, 0.4)","0 -4px 8px rgba(0, 0, 0, 0.35)"],sidebar_box_shadow:["0 2px 10px 0 rgba(39, 54, 78, 0.08), 0 12px 40px 0 rgba(39, 54, 78, 0.1)",""],interation_active_box_shadow:["0 0 4px 0 rgba(34, 162, 237, 0.66)"," 0 0 4px 0 rgba(41,141,248,0.50)"],modal_bg1:["linear-gradient(to bottom,#fafafa,#f5f5f5)","#4f5052"],modal_shadow:["0 2px 10px 0 rgba(0, 0, 0, 0.1), 0 12px 40px 0 rgba(0, 0, 0, 0.1)",""],comment_layer_box_shadow:["0 -2px 10px rgba(26, 58, 109, 0.12)","0 -24px 38px 3px rgba(0,0,0,0.14), 0 -9px 46px 8px rgba(0,0,0,0.12), 0 11px 15px -7px rgba(0,0,0,0.20)"],workspace_dropdown_menu_shadow:["0 2px 8px 0 rgba(0, 0, 0, 0.1)","0 2px 7px 0 rgba(0, 0, 0, 0.26), 0 12px 36px 0 rgba(0, 0, 0, 0.1)"],drag_sort_box_shadow:["0 1px 4px 0 rgba(0, 0, 0, 0.15)","0px 2px 4px rgba(0, 0, 0, 0.15)"],annotate_btn_shadow:["0 2px 6px rgba(39, 54, 78, 0.08)"," 0 6px 10px rgba(0, 0, 0, 0.22), 0px 13px 30px rgba(0, 0, 0, 0.146744)"],color_var_bind_point:["#DEDFE0","#4B4B4B"],bg_base64:[C,d],img_wrap_border_width:[1,2],fontPosition:["73px",0],disabled_opacity:[1,.5],footer_disabled_opacity:[1,.6]},...I,...q,...{color_literal_number:["#015CC5","#218BFF"],color_literal_string:["#002155","#80CCFF"],color_literal_boolean:["#8250DF","#A475F9"],color_literal_operator:["#F23DD1","#E85AAD"]}},R=(K,r)=>{const v={};return Object.entries(K).forEach(x=>{let[g,c]=x;Array.isArray(c)?v[g]=c[r]:typeof c=="object"?v[g]=R(c,r):v[g]=c}),v},Y={light:R(X,0),dark:R(X,1)}},48590:(Me,de,n)=>{"use strict";n.d(de,{Aw:()=>d,L9:()=>h,ZJ:()=>A,eP:()=>U,n9:()=>q,nw:()=>k});var i=n(21676);const h=(0,i.AH)(["white-space:nowrap;overflow:hidden;text-overflow:ellipsis;"]),C=(0,i.AH)(['position:relative;pointer-events:none;&::after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;cursor:not-allowed;pointer-events:auto;}']),d=(0,i.AH)(["position:relative;height:32px;padding-left:14px;padding-right:4px;display:flex;align-items:center;border:1px solid transparent;color:",";font-size:12px;cursor:pointer;.expander{width:12px;margin-left:-12px;color:",";}.editable-span,.editable-name{margin-right:14px;line-height:24px;border-radius:2px;&.is-editing{border-bottom-color:transparent;}}.actions{display:none;height:100%;padding-left:6px;.Dropdown > button{display:flex;padding:8px 10px 8px 0;}.action{margin-right:6px;font-size:12px;color:",";&:hover{color:",";}}&.is-active{display:flex;align-items:center;color:",";}}&:hover{.actions{display:flex;align-items:center;}}&:hover,&.hover{color:",";background:",";}&.active,&.is-active{color:",";background:",";}"],N=>N.theme.color_text_L2,N=>N.theme.color_text_disabled01,N=>N.theme.color_text_L2,N=>N.theme.color_text_L2,N=>N.theme.color_text_L1,N=>N.theme.color_text_L1,N=>N.theme.color_btn_secondary_hover,N=>N.theme.color_text_L1,N=>N.theme.color_btn_secondary_active),I=i.Ay.div.withConfig({displayName:"variables__StyledCustomTooltipInner",componentId:"sc-1k65wxr-0"})(["display:flex;align-items:center;height:22px;margin:-3px -7px;.tipsLeft{padding:0 8px;}.tipsRight{width:22px;line-height:22px;background-color:",";border-radius:0 2px 2px 0;color:#f2f4f5;}"],N=>N.theme.color_primary_brand01),q=(0,i.AH)(["width:24px;height:24px;display:flex;justify-content:center;align-items:center;color:",";cursor:pointer;.fore{fill:",";}&:hover{color:",";.fore{fill:",";}}.svg-icon{width:24px;height:24px;}"],N=>N.theme.color_text_L2,N=>N.theme.color_text_L3,N=>N.theme.color_proto,N=>N.theme.color_proto),U=(0,i.AH)(["ul{li{.rn-list-item{border-radius:6px;&.context-menu-select{border-radius:6px;}}}li.active,li.select,li.dummy-select,li:hover{&:has(> ul > li.dummy-select){> .rn-list-item{border-bottom-left-radius:0;border-bottom-right-radius:0;}}&:has(+ li.active,+ li.select,+li:hover){> .rn-list-item{border-bottom-left-radius:0;border-bottom-right-radius:0;}ul{li.dummy-select{&:last-child{> .rn-list-item{border-bottom-left-radius:0;border-bottom-right-radius:0;}}}}}ul{li.dummy-select{> .rn-list-item{border-top-left-radius:0;border-top-right-radius:0;}&:has(+ li.dummy-select){> .rn-list-item{border-radius:0;}ul{li.dummy-select{&:last-child{> .rn-list-item{border-radius:0;}}}}}&:last-child,&:first-child{&:has(> ul){> .rn-list-item{border-radius:0;}}}}}}li.active,li.select,li.dummy-select,li:hover{& + li{&.active,&.select,&.dummy-select,&:hover{> .rn-list-item{border-top-left-radius:0;border-top-right-radius:0;}}}}li{> .rn-list-item:hover{&:has(+ ul > li.active:first-child,+ ul > li.select:first-child,+ ul > li.hover:first-child,+ ul > li:first-child:hover){border-bottom-left-radius:0;border-bottom-right-radius:0;}& + ul > li.active:first-child,& + ul > li.select:first-child,& + ul > li.hover:first-child,& + ul > li:first-child:hover{> .rn-list-item{border-top-left-radius:0;border-top-right-radius:0;}}}}li:has(+ li:hover,+ li.select,+ li.active){ul > li:last-child{&.active,&.select,&:hover{> .rn-list-item{border-bottom-left-radius:0;border-bottom-right-radius:0;}}}}li:has(ul > li:last-child.active,ul > li:last-child.select,ul > li:last-child:hover){& + li:hover,& + li.select,& + li.active{> .rn-list-item{border-top-left-radius:0;border-top-right-radius:0;}}}}"]),k=(0,i.AH)(["ul{li{.rn-list-item{border-radius:6px;&.context-menu-select{border-radius:6px;}}}li.select,li.dummy-select,li:hover{&:has(> ul > li.dummy-select){> .rn-list-item{border-bottom-left-radius:0;border-bottom-right-radius:0;}}&:has(+ li.select,+li:hover){> .rn-list-item{border-bottom-left-radius:0;border-bottom-right-radius:0;}ul{li.dummy-select{&:last-child{> .rn-list-item{border-bottom-left-radius:0;border-bottom-right-radius:0;}}}}}ul{li.dummy-select{> .rn-list-item{border-top-left-radius:0;border-top-right-radius:0;}&:has(+ li.dummy-select){> .rn-list-item{border-radius:0;}ul{li.dummy-select{&:last-child{> .rn-list-item{border-radius:0;}}}}}&:last-child,&:first-child{&:has(> ul){> .rn-list-item{border-radius:0;}}}}}}li.select,li.dummy-select,li:hover{& + li{&.select,&.dummy-select,&:hover{> .rn-list-item{border-top-left-radius:0;border-top-right-radius:0;}}}}li{> .rn-list-item:hover{&:has(+ ul > li.select:first-child,+ ul > li.hover:first-child,+ ul > li:first-child:hover){border-bottom-left-radius:0;border-bottom-right-radius:0;}& + ul > li.select:first-child,& + ul > li.hover:first-child,& + ul > li:first-child:hover{> .rn-list-item{border-top-left-radius:0;border-top-right-radius:0;}}}}li:has(+ li:hover,+ li.select){ul > li:last-child{&.select,&:hover{> .rn-list-item{border-bottom-left-radius:0;border-bottom-right-radius:0;}}}}li:has(ul > li:last-child.select,ul > li:last-child:hover){& + li:hover,& + li.select{> .rn-list-item{border-top-left-radius:0;border-top-right-radius:0;}}}}"]),A=(0,i.AH)(["ul{padding:8px;border-radius:8px;border:1px solid ",";color:",";background:",";box-shadow:",";li.MenuItem{a{height:28px;border-radius:4px;background:",";color:",";svg:not(.pure-svg-icon) path{fill:",";}.right-arrow svg > path{fill:",";}.shortfont kbd{color:",";}}&:not(.disabled).active{a{background:",";}}&.disabled{a{color:",";svg path{fill:",";}.shortfont kbd{color:",";}}}}}"],N=>N.theme.color_bg_border_01,N=>N.theme.color_text_L1,N=>N.theme.color_bg_white,N=>N.theme.shadow_m,N=>N.theme.color_bg_white,N=>N.theme.color_text_L1,N=>N.theme.color_text_L1,N=>N.theme.color_text_L3,N=>N.theme.color_text_L3,N=>N.theme.color_btn_secondary_hover,N=>N.theme.color_text_disabled01,N=>N.theme.color_text_disabled01,N=>N.theme.color_text_disabled01)},44057:(Me,de,n)=>{"use strict";n.d(de,{m:()=>Re,cG:()=>qe,Dr:()=>ze,aM:()=>He,Ay:()=>je});var i=n(66748),h=n.n(i),C=n(51044),d=n(60185),I=n(21676),q=n(86634),U=n.n(q),k=n(90503);class A{constructor(Q,Z){Q===void 0&&(Q=0),Z===void 0&&(Z=0),this.x=Q,this.y=Z}inside(Q){const{left:Z,right:me,top:Se,bottom:Ne}=Q;return this.x>=Z&&this.x<=me&&this.y>=Se&&this.y<=Ne}}const N=(0,C.createContext)(""),O=we=>{if(!we)return;const Q=we.getBoundingClientRect(),Z=we.classList.contains("sub-menu"),me=1/.8,Se=1/(.8*.9);if(Z){const Ke=document.getElementById("root-menu").getBoundingClientRect();Ke.top+(Q.top-Ke.top)*me+Q.height*Se>window.innerHeight-28&&we.classList.add("top"),Ke.left+(Q.left-Ke.left)*me+Q.width*Se>window.innerWidth&&we.classList.add("left");return}if(Q.left+Q.width*me>window.innerWidth-28&&we.classList.add("left"),Q.height>window.innerHeight){we.style.height=window.innerHeight+"px",we.style.overflow="auto",we.style.overflowX="hidden",we.style.marginTop=-Q.top+"px";return}Q.top+Q.height<window.innerHeight||(we.style.marginTop=window.innerHeight-(Q.top+Q.height)+"px")},oe=function(we,Q,Z,me,Se,Ne){let{subMenuLeftOffset:Ke,subMenuTopOffset:s}=Se;if(Ne===void 0&&(Ne=!1),!we||!Q)return;const Oe=Q.getBoundingClientRect(),Je=Q.getBoundingClientRect(),st=1/.9,{left:ft,top:yt}=Z;Oe.top+Oe.height*st>window.innerHeight-28?Oe.top-Oe.height*st>0?(we.style.bottom="-4px",we.style.top="unset"):we.style.marginTop=window.innerHeight-28-(Oe.top+Oe.height*st)+"px":we.style.top=Oe.top-yt-11+"px",Oe.left+Oe.width*st>window.innerWidth?(we.style.right=Oe.left+"px",we.style.left="unset"):we.style.left=Oe.right-ft-1+12*Ne+"px",me==="left"&&(we.style.left=-2*Oe.width-12-22*Ne+"px"),Ke&&(we.style.left=parseInt(we.style.left)+Ke+4*Ne+"px"),s&&(we.style.top=parseInt(we.style.top)+s+"px"),we.style.maxHeight=window.innerHeight-Je.top+"px"},$=function(we,Q,Z,me,Se,Ne,Ke){let{subMenuLeftOffset:s,subMenuTopOffset:Oe}=Se;if(Ne===void 0&&(Ne=!1),!we||!Q)return;const Je=Ke.getBoundingClientRect(),st=Q.getBoundingClientRect(),ft=Q.getBoundingClientRect(),{left:yt,top:dt}=Z,{top:_t}=Je;we.style.top=st.top-_t-11+"px",we.style.left=st.right-yt-1+12*Ne+"px",me==="left"&&(we.style.left=-2*st.width-12-22*Ne+"px"),s&&(we.style.left=parseInt(we.style.left)+s+4*Ne+"px"),we.style.maxHeight=window.innerHeight-ft.top+"px"},X=(we,Q)=>{let{x:Z,y:me}=we,Se=!1;for(let Ne=0,Ke=Q.length-1;Ne<Q.length;Ke=Ne++){let{x:s,y:Oe}=Q[Ne],{x:Je,y:st}=Q[Ke];Oe>me!=st>me&&Z<(Je-s)*(me-Oe)/(st-Oe)+s&&(Se=!Se)}return Se};var R=n(54909);const Y=(0,I.AH)(["background:#333;box-shadow:0 2px 8px rgba(0,0,0,0.3);border-radius:4px;color:#fff;border:1px solid #454647;"]),K=I.Ay.div.withConfig({displayName:"styles__StyledMask",componentId:"sc-h83js-0"})(["position:fixed;top:0;left:0;right:0;width:100vw;height:100vh;z-index:199;"]),r=I.Ay.div.withConfig({displayName:"styles__StyledContextMenu",componentId:"sc-h83js-1"})(["position:fixed;z-index:200;&.size-small > ul{min-width:120px;}ul{list-style:none;}& > ul{position:absolute;top:0;left:0;padding:8px 0;min-width:200px;margin:0;",";&.top{top:initial !important;bottom:-8px;}&.left{left:initial;right:100%;}&.top.left{}&::-webkit-scrollbar{display:block;width:6px;height:6px;}&::-webkit-scrollbar-thumb{background-color:rgba(255,255,255,0.25);border-radius:4px;&:hover{background-color:rgba(255,255,255,0.30);}}}"],Y),v=I.Ay.ul.withConfig({displayName:"styles__StyledSubMenu",componentId:"sc-h83js-2"})(["position:absolute;min-width:200px;max-height:500px;padding:4px 0;",";opacity:0;pointer-events:none;overflow-x:hidden;margin:0;&:lang(ja){min-width:260px;}&.is-show{opacity:1;pointer-events:auto;}&.inner-sub{overflow-x:unset;}&.is-normal{li.MenuItem{& > a{padding-left:32px;}&.hasIcon{> a{padding-left:15px;}}}}&.is-airy{li.MenuItem{& > a{padding-left:29px;}&.hasIcon{> a{padding-left:12px;}}}}"],Y),x=I.Ay.li.withConfig({displayName:"styles__StyledMenuItem",componentId:"sc-h83js-3"})(["position:relative;a{height:28px;padding-left:16px;display:flex;align-items:center;color:#fff;padding-right:10px;& > span{margin-right:0;display:flex;justifyContent:flex-end;flex:1;alignItems:center;.text{flex:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:100%;line-height:20px;}}& > span{white-space:nowrap;margin-right:16px;.invisible{width:20px;height:20px;display:inline-block;color:",";margin-top:-3px;}}.selected-icon{width:8px;margin-right:9px;}.right-arrow{margin-left:auto;margin-right:-4px;display:flex;align-items:center;}img{width:14px;height:14px;opacity:0.8;margin-right:7px;}.fa-caret-right,.shortcut{margin-left:auto;width:12px;text-align:center;margin-right:-2px;}.shortcut{display:flex;align-items:center;color:#999;.mac{font-size:16px;margin-right:2px;}}.shortfont{display:flex;margin-left:auto;kbd{display:inline-block;text-align:center;min-width:12px;color:rgba(255,255,255,0.7);font-family:Inter;&.key-cmd{width:13px;text-align:right;}&:first-child{margin-left:0;}&:last-child{margin-right:0;}}}}&.hasDivider{a{margin-bottom:4px;}}&:not(.disabled).active{a{background:#666;}}&.disabled{*{cursor:not-allowed;}a{color:rgba(255,255,255,0.22);.right-arrow svg > path{fill:rgba(255,255,255,0.22);}.shortfont kbd{color:rgba(255,255,255,0.22);}}}"],R.f.color_text_L2.value_dark),g=I.Ay.li.withConfig({displayName:"styles__StyledMenuItemFont",componentId:"sc-h83js-4"})(["position:relative;a{height:28px;display:flex;align-items:center;color:#fff;& > span{margin-right:0;display:flex;justifyContent:flex-end;flex:1;alignItems:center;&.text{flex:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:100%;line-height:20px;}&.is-svg{height:14px;}}& > span{white-space:nowrap;margin-left:20px;}.selected-icon{width:16px;position:absolute;}.right-arrow{margin-right:8px;display:flex;align-items:center;}img{width:14px;height:14px;opacity:0.8;margin-right:7px;}.fa-caret-right,.shortcut{margin-left:auto;width:12px;text-align:center;margin-right:-2px;}}&:not(.disabled).active{a{background:#666;}}"]);var c=n(57464);function y(we,Q,Z){return(Q=b(Q))in we?Object.defineProperty(we,Q,{value:Z,enumerable:!0,configurable:!0,writable:!0}):we[Q]=Z,we}function b(we){var Q=M(we,"string");return typeof Q=="symbol"?Q:Q+""}function M(we,Q){if(typeof we!="object"||!we)return we;var Z=we[Symbol.toPrimitive];if(Z!==void 0){var me=Z.call(we,Q||"default");if(typeof me!="object")return me;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Q==="string"?String:Number)(we)}const L=(0,c.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,c.jsx)("path",{d:"M5.5 5.04031L5.5 10.9597C5.5 11.3789 5.98497 11.612 6.31235 11.3501L10.012 8.39043C10.2622 8.19027 10.2622 7.80973 10.012 7.60957L6.31235 4.64988C5.98497 4.38797 5.5 4.62106 5.5 5.04031Z",fill:"white",fillOpacity:"0.9"})}),S="M1016 416L1016 -1856L328 -1856L328 416ZM512 -320L832 -320L832 -64L512 -64ZM512 -704L576 -704L576 -512L768 -512L768 -640L704 -640L704 -576L640 -576L640 -704L832 -704L832 -448L512 -448ZM512 192L728 64L512 64L512 0L832 0L832 65L617 192L832 192L832 256L512 256ZM512 -1408L704 -1408L704 -1248L832 -1248L832 -1184L512 -1184ZM512 -1536L624 -1536L624 -1632L512 -1632L512 -1696L832 -1696L832 -1632L688 -1632L688 -1536L832 -1536L832 -1472L512 -1472ZM512 -960L640 -960L640 -1056L512 -1056L512 -1120L832 -1120L832 -1056L704 -1056L704 -896L512 -896ZM512 -832L768 -832L768 -992L832 -992L832 -768L512 -768ZM768 -128L768 -256L576 -256L576 -128ZM640 -1248L640 -1344L576 -1344L576 -1248Z",D="M800 -800L800 -1240L1240 -1240L1240 -800Z",H="M860 416L172 416L548 -1856L1236 -1856ZM478 -320L436 -64L756 -64L798 -320ZM542 -704L499 -448L819 -448L862 -704L670 -704L648 -576L712 -576L723 -640L787 -640L766 -512L574 -512L606 -704ZM393 192L383 256L703 256L713 192L498 192L734 65L745 0L425 0L414 64L630 64ZM658 -1408L621 -1184L941 -1184L952 -1248L824 -1248L850 -1408ZM679 -1536L669 -1472L989 -1472L999 -1536L855 -1536L871 -1632L1015 -1632L1026 -1696L706 -1696L695 -1632L807 -1632L791 -1536ZM584 -960L573 -896L765 -896L792 -1056L920 -1056L930 -1120L610 -1120L600 -1056L728 -1056L712 -960ZM563 -832L552 -768L872 -768L909 -992L845 -992L819 -832ZM702 -128L510 -128L531 -256L723 -256ZM760 -1248L696 -1248L711 -1344L775 -1344Z",re="M1016 416L328 416L328 -1856L1016 -1856ZM512 -320L512 -64L832 -64L832 -320ZM512 -704L512 -448L832 -448L832 -704L640 -704L640 -576L704 -576L704 -640L768 -640L768 -512L576 -512L576 -704ZM512 192L512 256L832 256L832 192L617 192L832 65L832 0L512 0L512 64L728 64ZM512 -1408L512 -1184L832 -1184L832 -1248L704 -1248L704 -1408ZM512 -1536L512 -1472L832 -1472L832 -1536L688 -1536L688 -1632L832 -1632L832 -1696L512 -1696L512 -1632L624 -1632L624 -1536ZM512 -960L512 -896L704 -896L704 -1056L832 -1056L832 -1120L512 -1120L512 -1056L640 -1056L640 -960ZM512 -832L512 -768L832 -768L832 -992L768 -992L768 -832ZM768 -128L576 -128L576 -256L768 -256ZM640 -1248L576 -1248L576 -1344L640 -1344Z",P=3;let W=[],ee=!1;const ae=new Map,ie=we=>{W.push(we),W.length>P&&W.shift()},xe=we=>{we.ctrlKey===!0&&we.preventDefault()};class je extends C.PureComponent{constructor(Q){super(Q),y(this,"setMenuRef",Z=>this.$menu=Z),y(this,"createContextMenuRef",Z=>this.$mountRoot=Z),y(this,"mousewheelHandle",Z=>{const me=Z.deltaX||Z.wheelDeltaX;if(!me||!this.$elem)return;const Se=this.$elem.scrollLeft+this.$elem.offsetWidth===this.$elem.scrollWidth&&me>0,Ne=this.$elem.scrollLeft===0&&me<0;(Se||Ne)&&Z.preventDefault()}),y(this,"handleClose",Z=>{const{onClose:me}=this.props;me&&me(Z)}),y(this,"handleCloseMouse",Z=>{Z.button===2&&this.handleClose(Z)}),y(this,"handleClickMenu",Z=>{const{alwaysOpen:me}=this.props;me||this.handleClose(Z)}),y(this,"handleUpdateState",Z=>this.setState({...Z})),this.$elem=document.createElement("div"),this.state={activePath:[],showSubMenu:!1}}componentDidMount(){document.body.appendChild(this.$elem),!this.props.style&&O(this.$menu),this.$elem&&this.$elem.addEventListener("mousewheel",this.mousewheelHandle),this.$elem&&this.$elem.addEventListener("wheel",xe)}componentWillUnmount(){this.$elem&&this.$elem.removeEventListener("mousewheel",this.mousewheelHandle,{capture:!0}),this.$elem&&this.$elem.removeEventListener("wheel",xe,{capture:!0}),document.body.removeChild(this.$elem),W=[],ee=!1}preventDefault(Q){Q.preventDefault()}render(){const{position:Q,children:Z,className:me,style:Se={}}=this.props,{top:Ne,left:Ke}=Q,{activePath:s,showSubMenu:Oe}=this.state;return(0,d.createPortal)((0,c.jsx)(K,{className:"context-menu-mask",onMouseDown:this.handleClose,onClick:this.handleClickMenu,children:(0,c.jsx)(r,{ref:this.createContextMenuRef,style:{top:Ne+2,left:Ke+2,...Se},className:me,onContextMenu:this.preventDefault,children:(0,c.jsx)("ul",{ref:this.setMenuRef,children:(0,c.jsx)(N.Provider,{value:{mountRoot:this.$mountRoot,contextMenuPosition:Q,activePath:s,showSubMenu:Oe,onUpdateState:this.handleUpdateState},children:Z})})})}),this.$elem)}}y(je,"propTypes",{className:h().string,position:h().object,children:h().oneOfType([h().element,h().array]),style:h().object,onClose:h().func,alwaysOpen:h().bool});class Re extends C.PureComponent{constructor(Q){super(Q),y(this,"setMenuRef",Z=>this.$menu=Z),y(this,"createContextMenuRef",Z=>this.$mountRoot=Z),y(this,"mousewheelHandle",Z=>{const me=Z.deltaX||Z.wheelDeltaX;if(!me||!this.$elem)return;const Se=this.$elem.scrollLeft+this.$elem.offsetWidth===this.$elem.scrollWidth&&me>0,Ne=this.$elem.scrollLeft===0&&me<0;(Se||Ne)&&Z.preventDefault()}),y(this,"handleClose",Z=>{const{onClose:me}=this.props;me&&me(Z)}),y(this,"handleCloseMouse",Z=>{Z.button===2&&this.handleClose(Z)}),y(this,"handleClickMenu",Z=>{const{alwaysOpen:me}=this.props;me||this.handleClose(Z)}),y(this,"handleUpdateState",Z=>this.setState({...Z})),this.$elem=document.createElement("div"),this.state={activePath:[],showSubMenu:!1}}componentDidMount(){document.body.appendChild(this.$elem),this.$elem&&this.$elem.addEventListener("mousewheel",this.mousewheelHandle)}componentWillUnmount(){this.$elem&&this.$elem.removeEventListener("mousewheel",this.mousewheelHandle,{capture:!0}),document.body.removeChild(this.$elem),W=[],ee=!1}preventDefault(Q){Q.preventDefault()}render(){const{position:Q,children:Z,className:me,style:Se={}}=this.props,{top:Ne,left:Ke}=Q,{activePath:s,showSubMenu:Oe}=this.state;return(0,c.jsx)(r,{ref:this.createContextMenuRef,style:{top:Ne+2,left:Ke+2,...Se},className:me,onContextMenu:this.preventDefault,children:(0,c.jsx)("ul",{ref:this.setMenuRef,children:(0,c.jsx)(N.Provider,{value:{mountRoot:this.$mountRoot,contextMenuPosition:Q,activePath:s,showSubMenu:Oe,onUpdateState:this.handleUpdateState,containerRef:this.$elem,isEmbed:!0},children:Z})})})}}y(Re,"propTypes",{className:h().string,position:h().object,children:h().oneOfType([h().element,h().array]),style:h().object,onClose:h().func,alwaysOpen:h().bool});class ze extends C.PureComponent{constructor(){super(...arguments),y(this,"createMenuItemRef",Q=>this.$menuItemRef=Q),y(this,"createSubMenuRef",Q=>this.$subMenuRef=Q),y(this,"handleActiveItem",(Q,Z)=>{const{children:me}=this.props;Z({activePath:Q,showSubMenu:!!me})}),y(this,"handleMouseEnter",(Q,Z,me)=>{const{onMouseEnter:Se}=this.props;Se&&Se(Q),ee?setTimeout(()=>{if(this.$menuItemRef&&W.length>0){const Ne=this.$menuItemRef.getBoundingClientRect();W.slice(-1)[0].inside(Ne)&&this.handleActiveItem(Z,me)}},200):this.handleActiveItem(Z,me)}),y(this,"handleMouseLeave",async(Q,Z,me,Se)=>{const{onMouseLeave:Ne}=this.props;if(Ne&&Ne(Q),me&&this.$subMenuRef){const Ke=this.$subMenuRef.getBoundingClientRect();if(Ke&&W.length>0){const{left:s,top:Oe,bottom:Je}=Ke,st=new A(s,Oe),ft=new A(s,Je),yt=[W[0],st,ft],dt=new A(Q.clientX,Q.clientY);if(X(dt,yt)){ee=!0;return}}}if(Z){Se({activePath:Z.dataset.index.split(","),showSubMenu:!0}),ee=!1;return}Se({activePath:[],showSubMenu:!1}),ee=!1}),y(this,"handleMouseMove",Q=>{const Z=new A(Q.clientX,Q.clientY);ie(Z)}),y(this,"handleMouseDown",Q=>Q.stopPropagation()),y(this,"handleGetCanActiveSubMenu",(Q,Z,me)=>{let Se=!1;return Z&&(Q&&Z.join("")===me.join("")||Z.slice(0,me.length).join("")===me.join(""))&&(Se=!0),Se}),y(this,"handleGetPath",Q=>{const{dataIndex:Z,text:me}=this.props,Se=Z!==void 0?Z:me;return Q?Q.dataset.index.split(",").concat(Se):[Se]}),y(this,"handleClick",Q=>{const{disabled:Z,onClick:me,canClick:Se,children:Ne}=this.props;(Se||!Z)&&me&&me(Q),(Ne||Z)&&Q.stopPropagation()})}render(){const{icon:Q,text:Z,children:me,disabled:Se,hotKeyText:Ne,className:Ke,dataType:s,subMenuClassName:Oe,subMenuDirection:Je,subMenuLeftOffset:st,subMenuTopOffset:ft,isVisible:yt,isAiry:dt=!1}=this.props;return(0,c.jsx)(N.Consumer,{children:_t=>{const{contextMenuPosition:he,mountRoot:be,activePath:Ee,showSubMenu:Ge,parentRef:$e,onUpdateState:gt,isEmbed:Wt=!1}=_t,Et=this.handleGetPath($e),Ht=this.handleGetCanActiveSubMenu(Ge,Ee,Et);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(x,{ref:this.createMenuItemRef,className:U()("MenuItem",{disabled:Se,hasIcon:Q},Ke,{active:Ht}),"data-type":s,"data-index":Et,onMouseEnter:Kt=>this.handleMouseEnter(Kt,Et,gt),onMouseLeave:Kt=>this.handleMouseLeave(Kt,$e,Ge,gt),onMouseMove:this.handleMouseMove,onMouseDown:this.handleMouseDown,onClick:this.handleClick,children:(0,c.jsxs)("a",{children:[Q,(0,c.jsxs)("span",{children:[(0,c.jsx)("span",{className:"text",children:Z}),yt?(0,c.jsx)(k.A,{className:"invisible",name:"eyeinvisible"}):null]}),me&&(0,c.jsx)("div",{className:"right-arrow",children:L}),Ne&&Ne.length>0&&(0,c.jsx)("div",{className:"shortfont",children:Ne.map((Kt,Xt)=>(0,c.jsx)("kbd",{children:Kt},Xt))})]})}),me&&Ht&&!Se&&(0,d.createPortal)((0,c.jsx)(Ze,{parentRef:this.$menuItemRef,setRef:this.createSubMenuRef,contextMenuPosition:he,subMenuDirection:Je,subMenuLeftOffset:st,subMenuTopOffset:ft,className:Oe,mountRoot:be,isEmbed:Wt,isAiry:dt,children:(0,c.jsx)(N.Provider,{value:{parentRef:this.$menuItemRef,mountRoot:be,contextMenuPosition:he,activePath:Ee,showSubMenu:Ge,onUpdateState:gt},children:me})}),be)]})}})}}y(ze,"propTypes",{icon:h().object,text:h().string.isRequired,className:h().string,disabled:h().bool,canClick:h().bool,children:h().oneOfType([h().element,h().array]),hotKeyText:h().array,onClick:h().func,onMouseEnter:h().func,onMouseLeave:h().func,dataType:h().number,dataIndex:h().oneOfType([h().number,h().string]),subMenuClassName:h().string,subMenuDirection:h().string,subMenuLeftOffset:h().number,subMenuTopOffset:h().number,isVisible:h().bool,isAiry:h().bool}),y(ze,"defaultProps",{subMenuClassName:""});class He extends C.PureComponent{constructor(Q){super(Q),y(this,"createMenuItemRef",s=>this.$menuItemRef=s),y(this,"createSubMenuRef",s=>this.$subMenuRef=s),y(this,"spanRef",s=>this.$spanRef=s),y(this,"handleActiveItem",(s,Oe)=>{const{children:Je}=this.props;Oe({activePath:s,showSubMenu:!!Je})}),y(this,"handleMouseEnter",(s,Oe,Je)=>{const{onMouseEnter:st}=this.props;st&&st(s),ee?setTimeout(()=>{if(this.$menuItemRef&&W.length>0){const ft=this.$menuItemRef.getBoundingClientRect();W.slice(-1)[0].inside(ft)&&this.handleActiveItem(Oe,Je)}},200):this.handleActiveItem(Oe,Je)}),y(this,"handleMouseLeave",async(s,Oe,Je,st)=>{const{onMouseLeave:ft}=this.props;if(ft&&ft(s),Je&&this.$subMenuRef){const yt=this.$subMenuRef.getBoundingClientRect();if(yt&&W.length>0){const{left:dt,top:_t,bottom:he}=yt,be=new A(dt,_t),Ee=new A(dt,he),Ge=[W[0],be,Ee],$e=new A(s.clientX,s.clientY);if(X($e,Ge)){ee=!0;return}}}if(Oe){st({activePath:Oe.dataset.index.split(","),showSubMenu:!0}),ee=!1;return}st({activePath:[],showSubMenu:!1}),ee=!1}),y(this,"handleMouseMove",s=>{const Oe=new A(s.clientX,s.clientY);ie(Oe)}),y(this,"handleMouseDown",s=>s.stopPropagation()),y(this,"handleGetCanActiveSubMenu",(s,Oe,Je)=>{let st=!1;return Oe&&(s&&Oe.join("")===Je.join("")||Oe.slice(0,Je.length).join("")===Je.join(""))&&(st=!0),st}),y(this,"handleGetPath",s=>{const{dataIndex:Oe,text:Je}=this.props,st=Oe!==void 0?Oe:Je;return s?s.dataset.index.split(",").concat(st):[st]}),y(this,"handleClick",s=>{const{disabled:Oe,onClick:Je,canClick:st,children:ft}=this.props;(st||!Oe)&&Je&&Je(s),(ft||Oe)&&s.stopPropagation()});const{text:Z,fontUrl:me,usePlainText:Se}=this.props,Ne="U="+me+"&T="+Z,Ke=ae.get(Ne);Se?this.state={renderContent:Q.text,contentType:"text"}:this.state={renderContent:(Ke==null?void 0:Ke.content)||Q.text,contentType:(Ke==null?void 0:Ke.type)||"text"}}async componentDidMount(){const{text:Q,fontUrl:Z,usePlainText:me}=this.props;if(me)return;const Se="U="+Z+"&T="+Q;if(!ae.get(Se)){if(!Z){ae.set(Se,{type:"text",content:Q});return}try{const Ne=await(await fetch("/flatkiq/fontsvg/sync.svg?"+Se)).text();if(Ne!==""){const Ke=[...new DOMParser().parseFromString(Ne,"text/html").querySelectorAll("path")].map(s=>s.getAttribute("d"));if(Ke.find(s=>s===S||s===D||s===H||s===re)){ae.set(Se,{type:"text",content:Q});return}Ke.filter(Boolean).length!==Q.split("").filter(s=>s!==" ").length?ae.set(Se,{type:"text",content:Q}):(ae.set(Se,{type:"svg",content:Ne}),this.setState({renderContent:Ne,contentType:"svg"}))}else ae.set(Se,{type:"text",content:Q})}catch(Ne){console.error(Ne),ae.set(Se,{type:"text",content:Q})}}}render(){const{icon:Q,children:Z,disabled:me,className:Se,dataType:Ne,subMenuClassName:Ke,subMenuDirection:s,subMenuLeftOffset:Oe,subMenuTopOffset:Je,tooltipComponent:st=null,tooltipWrapper:ft=null}=this.props,{renderContent:yt,contentType:dt}=this.state;return(0,c.jsx)(N.Consumer,{children:_t=>{const{contextMenuPosition:he,mountRoot:be,activePath:Ee,showSubMenu:Ge,parentRef:$e,onUpdateState:gt,isEmbed:Wt=!1}=_t,Et=this.handleGetPath($e),Ht=this.handleGetCanActiveSubMenu(Ge,Ee,Et),Kt=(0,c.jsxs)("a",{children:[Q,(0,c.jsx)("span",{dangerouslySetInnerHTML:{__html:yt},className:U()("text",{"is-svg":dt==="svg"})}),st,Z&&(0,c.jsx)("div",{className:"right-arrow",children:L})]});return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(g,{ref:this.createMenuItemRef,className:U()("MenuItem",{disabled:me,hasIcon:Q},Se,{active:Ht}),"data-type":Ne,"data-index":Et,onMouseEnter:Xt=>this.handleMouseEnter(Xt,Et,gt),onMouseLeave:Xt=>this.handleMouseLeave(Xt,$e,Ge,gt),onMouseMove:this.handleMouseMove,onMouseDown:this.handleMouseDown,onClick:this.handleClick,children:ft?ft(Kt):Kt}),Z&&Ht&&!me&&(0,d.createPortal)((0,c.jsx)(Ze,{parentRef:this.$menuItemRef,setRef:this.createSubMenuRef,contextMenuPosition:he,subMenuDirection:s,subMenuLeftOffset:Oe,subMenuTopOffset:Je,className:Ke,mountRoot:be,isEmbed:Wt,isNoraml:!1,isAiry:!1,children:(0,c.jsx)(N.Provider,{value:{parentRef:this.$menuItemRef,mountRoot:be,contextMenuPosition:he,activePath:Ee,showSubMenu:Ge,onUpdateState:gt},children:Z})}),be)]})}})}}y(He,"defaultProps",{subMenuClassName:""});class Ze extends C.PureComponent{constructor(Q){super(Q),y(this,"createRef",Z=>{const{setRef:me}=this.props;me(Z),this.subMenu=Z}),this.state={isTransform:!1}}componentDidMount(){this.setState({isTransform:!0});const{parentRef:Q,contextMenuPosition:Z,subMenuDirection:me,subMenuLeftOffset:Se,subMenuTopOffset:Ne,isAiry:Ke,isEmbed:s,mountRoot:Oe}=this.props;s?$(this.subMenu,Q,Z,me,{subMenuLeftOffset:Se,subMenuTopOffset:Ne},Ke,Oe):oe(this.subMenu,Q,Z,me,{subMenuLeftOffset:Se,subMenuTopOffset:Ne},Ke)}render(){const{children:Q,isAiry:Z,className:me,isNoraml:Se=!0}=this.props,{isTransform:Ne}=this.state;return(0,c.jsx)(v,{className:U()("SubMenu",{"is-show":Ne},{"is-airy":Z},{"is-normal":Se},me),ref:this.createRef,children:Q})}}y(Ze,"propTypes",{children:h().oneOfType([h().element,h().array]),className:h().string,parentRef:h().node,contextMenuPosition:h().object,setRef:h().func,subMenuDirection:h().string,subMenuLeftOffset:h().number,subMenuTopOffset:h().number,isAiry:h().bool});const qe=I.Ay.div.withConfig({displayName:"ContextMenu__Divider",componentId:"sc-1802crt-0"})(["margin:8px 0;border-top:1px solid #454546;"])},29815:(Me,de,n)=>{"use strict";n.d(de,{A:()=>y});var i=n(66748),h=n.n(i),C=n(51044),d=n(21676),I=n(54909);const q=d.Ay.div.withConfig({displayName:"styled__StyledCrashedPage",componentId:"sc-8goufi-0"})(["position:fixed;top:50%;left:50%;transform:translateX(-50%) translateY(-55%);text-align:center;color:#666;.logo{margin:0 auto 40px;height:320px;.logo-clickable{cursor:pointer;}.svg-icon{width:600px;fill:none;}}.mobile &{.logo{width:100%;transform:scale(0.8);}.content{.title{font-size:20px;line-height:24px;}.proposal{width:290px;font-size:14px;line-height:20px;}}}p{margin:0;}.content{margin:40px auto;.title{font-weight:600;font-size:24px;line-height:24px;color:#1f292e;}.proposal{width:max-content;margin:12px auto 40px;font-style:normal;font-weight:normal;font-size:16px;line-height:20px;color:#415058;.count-detail{color:#1684fc;}}.text-left{text-align:left;margin-bottom:-12px;}.text-list{margin:0;padding-left:24px;}}.btn-list{display:grid;grid-auto-flow:column;gap:20px;justify-content:center;.btn{width:200px;height:48px;display:inline-block;border-radius:6px;font-size:16px;font-weight:500;line-height:46px;cursor:pointer;transition:all 0.2s ease-out;}.primary{color:",";background:",";border:1px solid transparent;&:hover{background:",";border:1px solid transparent;}&:active{background:",";border:1px solid transparent;}}.regular{color:",";background:",";border:1px solid ",";&:hover{background:",";border:1px solid ",";}&:active{background:",";border:1px solid ",";}}}"],I.f.color_text_btn.value_light,I.f.color_btn_primary_normal.value_light,I.f.color_btn_primary_hover.value_light,I.f.color_btn_primary_clicked.value_light,I.f.color_text_L1.value_light,I.f.color_bg_white.value_light,I.f.color_bg_border_02.value_light,I.f.color_btn_secondary_hover.value_light,I.f.color_bg_border_02.value_light,I.f.color_btn_secondary_active.value_light,I.f.color_bg_border_02.value_light);var U=n(57464);const k="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='600' height='320' fill='none'%3E%3Cpath fill='url(%23a)' d='M200 158.5c-54.4-5.2-59.3 54.2-55 84.5h308c22.8-46-17.7-69.2-44-73.5 49.3-15.5 19.5-88-28.5-116C258.2-17.8 268 165 200 158.5Z' opacity='.6'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-width='2' d='M145 243h66a2 2 0 0 0 2-2V122.6a2 2 0 0 1 1.6-2L333 94l-101.6 32.6a2 2 0 0 0-1.4 1.9v139a2 2 0 0 0 2.5 2l54-13'/%3E%3Cpath fill='%231F292E' d='M213 121.5v122l17 26V127l100.5-32.5-117.5 27Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M455 243h-38'/%3E%3Ccircle cx='251' cy='198' r='4' fill='%231F292E'/%3E%3Cpath fill='%23FF6161' fill-rule='evenodd' d='M250.4 182.2Zm2.3-3.2a24.2 24.2 0 0 1 2.7-1c.9-.3 3 .2 4.4 1.1.6.6-.5.2-2 .4l-1.9.4a22.7 22.7 0 0 0-5 2.4 5.2 5.2 0 0 1-.7.3 1.8 1.8 0 0 1-.3.1 1.2 1.2 0 0 1-.3 0 1 1 0 0 1-.6-.2 1 1 0 0 1-.4-.8 1 1 0 0 1 0-.4l.3-.4.5-.5 1-1a2.2 2.2 0 0 0 .2-.3.7.7 0 0 0 0-.1.9.9 0 0 0-.1-.1c-.4-.2-1-.4-2.3-.6a3.2 3.2 0 0 1-.3 0 1.6 1.6 0 0 1-.5-.2 1 1 0 0 1-.5-.9c0-.4.2-.7.3-.8l.6-.4.6-.3.5-.2a13 13 0 0 0 2.7-1.2l.9-.7v-.4c-.1-.2-.4-.6-1.3-1-.8-.6-2-1.1-3.7-1.7a2.6 2.6 0 0 1-.8-.5 1 1 0 0 1-.5-.9c-.1-.5.2-1 .4-1.1.3-.2.6-.4.9-.4 1.6-.4 4-1 5.9-2.8 1.7-1.5 3-4.2 1.8-9.2a2.3 2.3 0 0 1 0-1.2l.2-.4a1 1 0 0 1 1.6-.2c.2.1.3.3.3.4l.5 1c.8 2 3.5 4.9 6.7 6.7 1.2.7 1.2.8 0 .4-2.2-.6-5.6-2-7.3-4.6 1.3 4.3-.8 7-2.4 8.6a13.1 13.1 0 0 1-5.3 2.8c1.2.4 2 .9 2.8 1.3a5 5 0 0 1 2 2c.4.8.3 1.6-.1 2.2-.4.6-1 1-1.6 1.4l-1.7.9.6.2c.7.4 1.2 1 1.2 1.9Zm-2 0Z' clip-rule='evenodd'/%3E%3Cpath fill='%23fff' d='M292 163.5c61.2 5.2 103.5 55.5 117 80l-115 14-4-12.5 2-8-3-11 3-10 3.5-4v-13l7.5-7c-25-2-35-4-36.5-14.5.5-3.6 3.1-15.9 25.5-14Z'/%3E%3Cpath fill='%231F292E' fill-rule='evenodd' d='M363 191.1a219 219 0 0 1 46.8 51.6 1 1 0 1 1-1.6 1 217 217 0 0 0-46.5-51c-21.7-17-48.6-29.9-78.3-27.4-10.1.8-15 6.3-15.4 11.4-.4 5 3.6 10.6 12.8 11.8l5.2.6c5.4.7 11.2 1.4 16.5 2.4a70 70 0 0 1 12.1 3.2c3.5 1.3 6.5 3 8.5 5.4a1 1 0 0 1-1.6 1.3c-1.6-2-4.2-3.5-7.6-4.8a66.7 66.7 0 0 0-11.3-3c-3.5 2.3-7 6.7-7 12.9-.1 6.3 3.7 14.7 16 24.7 4.7 3.7 9.5 5 13.4 4.5a1 1 0 0 1 1.3-.3 11.1 11.1 0 0 0 1.2-.3c2-.7 3.6-2 4.6-3.7.8-1.4 1-3.2.7-5.3-4.2.6-7.4.3-9.7-.7-2-.8-3.2-2-4-3.6a8.5 8.5 0 0 1-.6-5.2c.3-1.5.8-3 1.6-4.5a26.7 26.7 0 0 1-2.2-2.8 7 7 0 0 1-1.2-2c-.4-.8-.6-1.5-.6-2.2a1 1 0 1 1 2 0c0 .3.1.7.4 1.3.2.6.6 1.2 1 1.8a24.1 24.1 0 0 0 1.7 2.1 29.4 29.4 0 0 1 19.1-11.4 1 1 0 0 1 .4 2c-5.7.8-10.5 3.2-14 6.3a22.1 22.1 0 0 0-4.3 5 1 1 0 0 1-.4.6 13 13 0 0 0-1.5 4.1c-.3 1.6-.1 3 .4 4 .5 1.1 1.5 2 3 2.7 3 1.3 8.2 1.3 16.3-1.3 3.7-1.5 6.9-2.2 9.3-2.1 2.5 0 4.5.8 5.6 2.1a5 5 0 0 1 .7 5.1 12 12 0 0 1-4.3 5.3c-8 6-7.5 11.8-6.6 13.5a1 1 0 1 1-1.8 1c-1.4-3-1.4-9.6 7.2-16 2-1.5 3.1-3.1 3.6-4.4.5-1.4.3-2.4-.3-3.2-.7-.7-2-1.4-4.1-1.4-2.1 0-5 .5-8.6 2l-6.1 1.6c.4 2.5 0 4.7-1 6.6a10.2 10.2 0 0 1-5.6 4.6 12.3 12.3 0 0 1-1.1.3c.6 2.9.4 6-.7 8.6a9.4 9.4 0 0 1-6.1 5.4c5 4.5 6.4 10 5.1 14.4a8.7 8.7 0 0 1-3 4.6c3.2 2.3 9 5 15.8 5a1 1 0 0 1 1 0 28 28 0 0 0 12.1-3.5 1 1 0 1 1 1 1.8 30 30 0 0 1-11.8 3.6 51.8 51.8 0 0 1 3.2 8c1.2 3.9 2 8.2 1.3 12a1 1 0 1 1-2-.4c.6-3.3 0-7.3-1.2-11-1-3.4-2.4-6.5-3.5-8.5-8 0-14.4-3.3-17.8-6-2 .8-4.6.8-7.2-.3-13.4-5.2-19.9-12-22.4-18.3-2.4-6-1.2-11.6.7-15.1a21.2 21.2 0 0 1-2.8-15.1c.8-4.5 3-8.3 5.6-10.2A17.5 17.5 0 0 1 300 193l-14.1-1.9a765.9 765.9 0 0 1-5.2-.7c-10-1.2-15-7.4-14.6-13.9.5-6.4 6.5-12.3 17.2-13.2 30.4-2.5 57.8 10.7 79.7 27.8Zm-68 23.2c2.3 5.5 7 11.7 15.3 18.4 5 4 10.3 5.5 14.7 5 .5 2.5.4 5.2-.5 7.4a7.7 7.7 0 0 1-6.7 4.6c-3 .3-7.1-.5-12.5-3a28.2 28.2 0 0 1-11.7-9.7 19.2 19.2 0 0 1-3-14.2 15 15 0 0 1 4.4-8.5Zm-2.2 25.2c-1.4 3-2.1 7.6-.1 12.5 2.2 5.7 8.2 12 21.2 17.2 2.3.9 4.3.8 5.8.2a1 1 0 0 1 .7-.3 6.5 6.5 0 0 0 3-4c1-3.7-.3-9.1-5.8-13.4-3.5.3-7.8-.7-13.2-3.3-5.2-2.5-9-5.6-11.6-9Zm75.4 17.1a1 1 0 0 1-.5 1.4 7.7 7.7 0 0 0-3.8 4.5 1 1 0 1 1-2-.5 9.7 9.7 0 0 1 5-5.8 1 1 0 0 1 1.3.4Z' clip-rule='evenodd'/%3E%3Cdefs%3E%3ClinearGradient id='a' x1='426' x2='259' y1='125' y2='289' gradientUnits='userSpaceOnUse'%3E%3Cstop stop-color='%23EDF8FF'/%3E%3Cstop offset='1' stop-color='%23FAEFFF'/%3E%3C/linearGradient%3E%3C/defs%3E%3C/svg%3E",A="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAwIiBoZWlnaHQ9IjMyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMjUwLjUgMjk1LjVsLTctMzYgNi41LS41IDguNS0yIDktNSAzNCAyLjUgOCAzOC41LTU5IDIuNXoiIGZpbGw9InVybCgjcGFpbnQwX2xpbmVhcl83ODc4XzE1MjE3KSIvPjxwYXRoIG9wYWNpdHk9Ii42IiBkPSJNNDM2LjE1MiAxNTguNWM1NC40LTUuMiA1OS4zMzQgNTQuMTY2IDU1IDg0LjVoLTMwOGMtMjIuOC00NiAxNy42NjctNjkuMTY3IDQ0LTczLjUtNDkuMzMzLTE1LjUtMTkuNS04OCAyOC41LTExNiAxMjIuMjU0LTcxLjMxNSAxMTIuNSAxMTEuNSAxODAuNSAxMDV6IiBmaWxsPSJ1cmwoI3BhaW50MV9saW5lYXJfNzg3OF8xNTIxNykiLz48cmVjdCB4PSIyNjcuNjQ4IiB5PSIxNDQiIHdpZHRoPSIzOCIgaGVpZ2h0PSI5OCIgcng9IjMiIHN0cm9rZT0iIzFGMjkyRSIgc3Ryb2tlLXdpZHRoPSIyIi8+PHJlY3QgeD0iMjI5LjY0OCIgeT0iMTE0IiB3aWR0aD0iMzgiIGhlaWdodD0iMTI4IiByeD0iMyIgc3Ryb2tlPSIjMUYyOTJFIiBzdHJva2Utd2lkdGg9IjIiLz48cmVjdCB4PSIzNzkuNjQ4IiB5PSIxMjgiIHdpZHRoPSIyMSIgaGVpZ2h0PSIxMTQiIHJ4PSIzIiBzdHJva2U9IiMxRjI5MkUiIHN0cm9rZS13aWR0aD0iMiIvPjxyZWN0IHg9IjQwMC42NDgiIHk9IjE0NCIgd2lkdGg9IjI5IiBoZWlnaHQ9Ijk4IiByeD0iMyIgc3Ryb2tlPSIjMUYyOTJFIiBzdHJva2Utd2lkdGg9IjIiLz48cmVjdCB4PSIzMDUuNjQ4IiB5PSIxMjgiIHdpZHRoPSIxOSIgaGVpZ2h0PSIxMTQiIHJ4PSIzIiBzdHJva2U9IiMxRjI5MkUiIHN0cm9rZS13aWR0aD0iMiIvPjxyZWN0IHg9IjMyNS42NDgiIHk9IjEzMC4yMzIiIHdpZHRoPSIyMi4yODkiIGhlaWdodD0iMTE2IiByeD0iNCIgdHJhbnNmb3JtPSJyb3RhdGUoLTE1LjcyMyAzMjUuNjQ4IDEzMC4yMzIpIiBzdHJva2U9IiMxRjI5MkUiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtZGFzaGFycmF5PSIxIDgiLz48cGF0aCBkPSJNMTc3LjY0OCAyNDJoMzEwIiBzdHJva2U9IiMxRjI5MkUiIHN0cm9rZS13aWR0aD0iMiIvPjxwYXRoIGZpbGw9IiMxRjI5MkUiIGQ9Ik0zODAuNjQ4IDIwMGgxOXYxN2gtMTl6Ii8+PHBhdGggZmlsbD0iIzE2ODRGQyIgZD0iTTQwMS42NDggMTY4aDI5djE5aC0yOXoiLz48cGF0aCBmaWxsPSIjMUYyOTJFIiBkPSJNMzgwLjY0OCAyMjFoMTl2NGgtMTl6TTI2OC42NDggMTU5aDM2djEzaC0zNnoiLz48cGF0aCBkPSJNMjk1LjE0OCAxODNjOC0uOCAxNCA4LjMzMyAxNiAxM2wtNTAgMjEtMjQuNS0xNCAyLTQuNSA0LjUtOCA5LTMuNSA5IC41IDYuNS00LjUgNi0xLjUgNiAxLjUgNCA0Yy41LTEgMy41LTMuMiAxMS41LTR6IiBmaWxsPSIjZmZmIi8+PHBhdGggZD0iTTI0Mi4xNDggMjA0bDY4LTctMi41IDU3LTU4LTItNy41LTQ4eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0zMTAuMTQ4IDE5N2wuOTk5LjA0NC4wNTEtMS4xNTctMS4xNTIuMTE4LjEwMi45OTV6bS02OCA3bC0uMTAyLS45OTUtMS4wNDguMTA4LjE2MiAxLjA0MS45ODgtLjE1NHptNy41IDQ4bC0uOTg4LjE1NC4xMjguODE3LjgyNi4wMjguMDM0LS45OTl6bTU4IDJsLS4wMzQuOTk5YTEgMSAwIDAgMCAxLjAzMy0uOTU1bC0uOTk5LS4wNDR6bTIuMzk4LTU3Ljk5NWwtNjggNyAuMjA1IDEuOTkgNjgtNy0uMjA1LTEuOTl6bS02OC44ODYgOC4xNDlsNy41IDQ4IDEuOTc2LS4zMDgtNy41LTQ4LTEuOTc2LjMwOHptOC40NTQgNDguODQ1bDU4IDIgLjA2OS0xLjk5OC01OC0yLS4wNjkgMS45OTh6bTU5LjAzMyAxLjA0NWwyLjUtNTctMS45OTgtLjA4OC0yLjUgNTcgMS45OTguMDg4eiIgZmlsbD0iIzFGMjkyRSIvPjxwYXRoIGQ9Ik0yOTQuMTQ4IDE4Mi41YzgtLjggMTQgOC4zMzMgMTYgMTNsLTI5LjUgMTAuNS02LjUtM3YtOC41bDguNS04Yy41LTEgMy41LTMuMiAxMS41LTR6IiBmaWxsPSIjZmZmIi8+PHBhdGggZD0iTTMxMC42NDggMTk2Yy0yLTctMTEuMjEyLTE5LjY4Ni0yOC41LTguNS0xNyAxMS03LjUgMjUuNSA5LjUgMTRtLTgtMTQuOTIzYy0zLjgzMy0zLjY2Ny0xMi4wNi0xMC43MjItMjQgMi45MjMtNyA4IDAgMTcuNSAxNCA5TTI2MS4xNDggMTg3LjVjLTYtMi4xNjctMTkuNi0xLjUtMjQgMTQuNSIgc3Ryb2tlPSIjMUYyOTJFIiBzdHJva2Utd2lkdGg9IjIiLz48cGF0aCBkPSJNMTg4LjE0OCAyMDZsNTktNC41IDEuNSA1Ny41LTYzLjUtMy41IDMtNDkuNXoiIGZpbGw9IiNmZmYiIHN0cm9rZT0iIzFGMjkyRSIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+PHBhdGggZD0iTTIwMy42NDkgMTk3LjAzMWM1LjYtLjggMTAuMzMzIDQuNjY2IDEyIDcuNUwyMDguNSAyMDcuNWwtNiA1LjUtNC41IDctMSAxMCAzLjUgMTUgMS41IDktNCAxMi0yLjUgNy41LS41IDE3LjUtNzIgNC41IDIuNS0zMC41LTExLjUtMTYuNS01LjUtMTUuNXYtMTRsNy0xNCA4LTcgNSAxIDQuNSA5LjUgNi41LTguNDY5IDEwLTguMDMxIDcuNS41IDQuNSAzLTQuNSA0LjUzMWMxNS41LTEzLjAzMSAyMi4wNTctMy41MzEgMTkuNSAwIDguNC0xMS42IDE2LjgxNS00LjMzNCAyMC42NDkgMC0uMTY3LS42NjcuOS0yLjIgNi41LTN6IiBmaWxsPSJ1cmwoI3BhaW50Ml9saW5lYXJfNzg3OF8xNTIxNykiLz48cGF0aCBkPSJNMTg3LjE0OCAyMTEuNWMzLjE4Ni02LjYxNiA2LjU3Ny0xMC40OTIgOS44OTQtMTIuNW0wIDBjNy41MTItNC41NDggMTQuNjM4LjQ5MSAxOC4xMDYgNS02LjAzNSAyLjE2Ny0xOC4xMDYgOS44LTE4LjEwNiAyMyAwIDE2LjUgMTEuMTA2IDI0LjUtMS44OTQgNDZ2MThtMS44OTQtOTJjLTUuMjk4LTUuODMzLTE4LjE5NC0xMS41LTI3LjM5NCAxMi41bTgtMTQuNWMtNC42NjYtNS4zMzMtMTYuNS05LjUtMjYuNSAxNi41IiBzdHJva2U9IiMxRjI5MkUiIHN0cm9rZS13aWR0aD0iMiIvPjxwYXRoIGQ9Ik0xNjEuNjQ3IDE5NmMtNC44MzMtNi4xNjctMTYuMDEyLTEwLjI0NC0zMS41IDE4LTUuMjEgOS41LTYgMjYtMSAzMyIgc3Ryb2tlPSIjMUYyOTJFIiBzdHJva2Utd2lkdGg9IjIiLz48cGF0aCBkPSJNMTMyLjY0OCAyMTBjLTEuMTY3LTYuODM0LTUuNi0xOC4xLTE0LTguNS0xMC41IDEyLTIwIDMxLjUgNi41IDYzbC0yIDMxTTMwMS4xNDggMjU0bDcuNSAzOU0yNDMuNjQ4IDI1OGw2LjUgMzcuNSIgc3Ryb2tlPSIjMUYyOTJFIiBzdHJva2Utd2lkdGg9IjIiLz48Y2lyY2xlIGN4PSIzMDguNjQ4IiBjeT0iMjI1IiByPSIyOSIgZmlsbD0iI2ZmZiIgc3Ryb2tlPSIjMUYyOTJFIiBzdHJva2Utd2lkdGg9IjIiLz48Y2lyY2xlIGN4PSIyNDguNjQ4IiBjeT0iMjMwIiByPSIyOSIgZmlsbD0iI2ZmZiIgc3Ryb2tlPSIjMUYyOTJFIiBzdHJva2Utd2lkdGg9IjIiLz48Y2lyY2xlIGN4PSIzMDguNjQ4IiBjeT0iMjI1IiByPSIyMiIgZmlsbD0iI2ZmZiIgc3Ryb2tlPSIjMUYyOTJFIiBzdHJva2Utd2lkdGg9IjIiLz48Y2lyY2xlIGN4PSIyNDguNjQ4IiBjeT0iMjMwIiByPSIyMiIgZmlsbD0iI2ZmZiIgc3Ryb2tlPSIjMUYyOTJFIiBzdHJva2Utd2lkdGg9IjIiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTM0OS42NjcgMTAxLjM5NWwuMDAxLjAwMS0uMDAxLS4wMDF6bTEuNTc0IDMuNTQ1YTI0LjEyNCAyNC4xMjQgMCAwIDEtLjUwMSAyLjgzMWMtLjIyLjkwNS0xLjY1IDIuNTA2LTMuMjI0IDMuMjYxLS43NTkuMjMzLjA5NS0uNDg4LjY3My0xLjgzNi4yMDMtLjQ1OC40MTYtMS4xMDcuNjA3LTEuODk3LjM4Mi0xLjU3Ni42NTItMy42MDUuNjExLTUuNThhNS4yNCA1LjI0IDAgMCAxIC4wMjUtLjcxNWMuMDEyLS4wOTUuMDMyLS4yMjMuMDc1LS4zNTNhMS4yIDEuMiAwIDAgMSAuMTMzLS4yNzUgMS4wMyAxLjAzIDAgMCAxIDEuMzYxLS4zNDdjLjE4OS4xMDMuMzAxLjI0LjM1My4zMS4xMDYuMTQ0LjE2NS4yOTQuMTk1LjM3OC4wNjkuMTkxLjEyNS40MzMuMTczLjY5Ni4wODguNDg1LjE4OS45NDcuMzI2IDEuMzIxLjA2OC4xODUuMTM1LjMyMi4xOTYuNDE4YS43ODUuNzg1IDAgMCAwIC4wNjkuMDkxLjg1Mi44NTIgMCAwIDAgLjE5MS0uMDljLjMzNi0uMTk3Ljg2My0uNjcxIDEuNjA3LTEuNjUzLjA3OS0uMTA1LjE2MS0uMjA2LjI0Ny0uMjk1YTEuNTcgMS41NyAwIDAgMSAuMzY4LS4yOTFjLjE1NS0uMDg1LjU2LS4yNTQgMS4wMTEtLjAyOC40MS4yMDUuNTMxLjU4MS41NjUuNzA2LjA3NC4yNy4wNS41NjUuMDM3LjcyMi0uMDE5LjIwMy0uMDUyLjQzOS0uMDkuNjgxbC0uMDgxLjUwNWMtLjE1MS45MjEtLjMyNiAxLjk5NS0uMzEgMi45MjIuMDEuNTU0LjA4OS45MjYuMTk3IDEuMTM3LjA3NC4xNDQuMTMuMTc4LjI2NS4xOS4yMzEuMDIuNzItLjA1NiAxLjU4Ny0uNTE4Ljg0NS0uNDUxIDEuOTQ3LTEuMjEzIDMuMzY3LTIuMzk5LjIyLS4xODQuNDctLjM0OS43NDEtLjQ1MS4yNTQtLjA5NC42NjYtLjE4MiAxLjA5LjAxLjQ3Ny4yMTYuNjc4LjY0OS43MzIuOTk5LjA1MS4zMjctLjAwNi42NTItLjA4OC45MzEtLjQ3NCAxLjYwNi0xLjE5NiA0LjA2My0uNjcxIDYuNDcxLjQ5NiAyLjI3OSAyLjE2OCA0LjczIDcuMDE3IDYuMjEzLjQwNS4xMjQuODE0LjM4OSAxLjA2Ni42OTYuMDY4LjA4NC4xNTcuMjA5LjIyMS4zNzFhMS4wOTMgMS4wOTMgMCAwIDEtLjYyNiAxLjQzNWMtLjIwNi4wOC0uNC4wODgtLjUyOC4wODRhMTIuMjc1IDEyLjI3NSAwIDAgMS0xLjEyMS0uMTE1Yy0yLjA2LS4yNjgtNS45Ni41OTYtOS4xMzcgMi4zOTYtMS4xOTUuNjc3LTEuMzUuNjE3LS4zNTMtLjMyNiAxLjYyOS0xLjU0MSA0LjUwOS0zLjc0NyA3LjY4LTMuODY0LTQuMzQ1LTEuMDItNS42ODMtNC4yMTUtNi4xNzMtNi40NjQtLjQ3My0yLjE3LS4xMjQtNC4zMTguMjc3LTUuOTIyLS45NzIuNzQ4LTEuODE3IDEuMzA3LTIuNTU0IDEuNy0uOTkyLjUyOS0xLjg5OC44MTYtMi43MDIuNzQ1LS45MDEtLjA3OS0xLjUyMS0uNTktMS44Ny0xLjI3MS0uMzE1LS42MTYtLjQwNS0xLjM1MS0uNDE3LTIuMDEzLS4wMS0uNjE0LjA0OC0xLjI3OC4xMjctMS45MDFhNC4zMDUgNC4zMDUgMCAwIDEtLjQ3LjMyM2MtLjcyMy40MjQtMS41MzEuNTMyLTIuMjQ2LjA3OWwtLjAyOC0uMDE4em0xLjAyOS0xLjY5MXMuMDA5LS4wMDMuMDIyIDBjLS4wMTYuMDAzLS4wMjIgMC0uMDIyIDB6IiBmaWxsPSIjRkY2MTYxIi8+PHBhdGggZD0iTTI1MC42NDggMjIzLjVsLTcgOS41TTMxMS42NDggMjE4bC03IDkuNU0yNTIuNjQ4IDIzMGwtNyA5LjVNMzEzLjY0OCAyMjQuNWwtNyA5LjUiIHN0cm9rZT0iIzFGMjkyRSIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiLz48ZGVmcz48bGluZWFyR3JhZGllbnQgaWQ9InBhaW50MF9saW5lYXJfNzg3OF8xNTIxNyIgeDE9IjI3My41IiB5MT0iMjU0LjUiIHgyPSIyNjYuMDk3IiB5Mj0iMjkxLjMwNCIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPjxzdG9wIHN0b3AtY29sb3I9IiNmZmYiLz48c3RvcCBvZmZzZXQ9Ii43MzEiIHN0b3AtY29sb3I9IiNmZmYiIHN0b3Atb3BhY2l0eT0iLjgiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNmZmYiIHN0b3Atb3BhY2l0eT0iMCIvPjwvbGluZWFyR3JhZGllbnQ+PGxpbmVhckdyYWRpZW50IGlkPSJwYWludDFfbGluZWFyXzc4NzhfMTUyMTciIHgxPSIyMTAuMTUyIiB5MT0iMTI1IiB4Mj0iMzc3LjE1MiIgeTI9IjI4OSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPjxzdG9wIHN0b3AtY29sb3I9IiNFREY4RkYiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNGQUVGRkYiLz48L2xpbmVhckdyYWRpZW50PjxsaW5lYXJHcmFkaWVudCBpZD0icGFpbnQyX2xpbmVhcl83ODc4XzE1MjE3IiB4MT0iMTg4IiB5MT0iMjU2IiB4Mj0iMTg2LjkyNiIgeTI9IjI5Mi41MjciIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj48c3RvcCBzdG9wLWNvbG9yPSIjZmZmIi8+PHN0b3Agb2Zmc2V0PSIuNjc2IiBzdG9wLWNvbG9yPSIjZmZmIiBzdG9wLW9wYWNpdHk9Ii44Ii8+PHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjZmZmIiBzdG9wLW9wYWNpdHk9IjAiLz48L2xpbmVhckdyYWRpZW50PjwvZGVmcz48L3N2Zz4=",N="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='600' height='320' fill='none'%3E%3Cg clip-path='url(%23a)'%3E%3Cpath fill='url(%23b)' d='M200 158.5c-54.4-5.2-59.3 54.2-55 84.5h308c22.8-46-17.7-69.2-44-73.5 49.3-15.5 19.5-88-28.5-116C258.2-17.8 268 165 200 158.5Z' opacity='.6'/%3E%3Cpath stroke='%231F292E' stroke-width='2' d='M145 242h310'/%3E%3Cpath fill='%23fff' d='M195.3 213c-7.5-17.5-7.5-20-7.5-20l38.8-39.8c15.9 23.6 45.6 71.5 37.6 74.6a46 46 0 0 0-17.5 13.4h-63.1s19.2-10.5 11.7-28.1Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='10' d='M378 221.6c-29.5-66-56.2-32.1-109.5-78.5-52.2-34.8-99.8-36-117.2-16-38.6 44.2 90.6 76.6 34.4 112.9'/%3E%3Cpath fill='%23fff' d='M306 149.4c-12.4 6.4-15.5 16.6-15.5 21 0 16.7 14 13.4 21 9.6l14.1 15.5a67.3 67.3 0 0 1-37.1 22.6 97.9 97.9 0 0 0-42.2 23l-26-23 12.2-35.2-26-9.2c15.5-15 27.6-23.9 40.2-54.9 2.9-11.3 10.7-33 20-32.6 9.4.3 5.3 20.5 2.1 30.5 10.5-4.1 13.4 4.7 15.5 3.8 7-3 13.9 2.5 15.8 5.9 5-3 14.8-4.3 18.8 0 10.4 11 11.2 29.8 3.8 35.2 0 0-13.7-5.8-14.6-6.7-.4-.4-1.1-.4-2.1-5.5Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M306 149c1.5 3.3 4.5 10.5 8.6 13 5.3 3.4 17.6-1.5 12.1-22.5-5.5-21-22.7-23.4-49.4 4.5'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M300.4 125.4c-2.7-2.3-6.8-7.8-16-5m-23.2 17.2c10.2-10.7 17.7-15.5 23.3-17.2m0 0c-2.3-3.2-7.7-6.4-15.7-3.9m-20 15.3c7.8-9 14.5-13.5 20-15.3m0 0c2.8-7 8.3-26-2.3-30.4-15.1-6.3-13.2 35.3-36 62.4a561.6 561.6 0 0 1-43.1 45'/%3E%3Cpath fill='%23fff' d='m330.3 165.8-5.9.5-5.8 6-7.5 7.4-11.5 6.9-11.5 6.9 28.7 11.6 11-11.5 6.8-13.5-.2-10.7-4-3.6Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M310.8 146.3c-7.5 3.2-24.2 14.2-19 29 3.8 10.8 16.5 10.6 26.5-3.1 10-13.8 20.8-3.9 15.5 10.2-12 31.4-47 34.1-60 40.4-9.7 4.7-16.6 8.7-27.8 18.7'/%3E%3Ccircle cx='383.5' cy='234.5' r='17.5' fill='%23fff' stroke='%231F292E' stroke-width='2'/%3E%3Ccircle cx='381.5' cy='229.5' r='18.5' fill='%231684FC'/%3E%3Cpath fill='%23fff' stroke='%231F292E' stroke-linejoin='round' stroke-width='2' d='M329.7 261.3a1 1 0 0 1 .7-.3h139a1 1 0 0 1 .7 1.7l-17.8 16a1 1 0 0 1-.7.3h-139a1 1 0 0 1-.7-1.7l17.8-16Z'/%3E%3Cpath fill='%23fff' stroke='%231F292E' stroke-linejoin='round' stroke-width='2' d='M313.7 285.5a1 1 0 0 0 .9.5h139.7a1 1 0 0 0 .8-1.5l-2.8-5a1 1 0 0 0-.9-.5H311.7a1 1 0 0 0-.8 1.5l2.8 5ZM472 269.1a1 1 0 0 1-.3.7L457 285a1 1 0 0 1-1.6-.2l-2.9-5.1a1 1 0 0 1 .2-1.2l17.7-16a1 1 0 0 1 1.7.7v5.9Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='square' stroke-linejoin='round' stroke-width='4' d='M466 277.5c16.3 6.3 39.2 21.6 0 32-39.2 10.4-45 32.7-43 42.5'/%3E%3Crect width='2' height='6' x='342' y='266.9' fill='%231F292E' rx='1' transform='rotate(-27 342 267)'/%3E%3Crect width='2' height='6' x='392' y='266.9' fill='%231F292E' rx='1' transform='rotate(-27 392 267)'/%3E%3Crect width='2' height='6' x='429.9' y='267.1' fill='%231F292E' rx='1' transform='rotate(-31 429.9 267)'/%3E%3Crect width='2' height='6' x='351.9' y='266.1' fill='%231F292E' rx='1' transform='rotate(31 352 266.1)'/%3E%3Crect width='2' height='6' x='402.2' y='266.2' fill='%231F292E' rx='1' transform='rotate(36 402.2 266.2)'/%3E%3Crect width='2' height='6' x='440.6' y='266.3' fill='%231F292E' rx='1' transform='rotate(43 440.6 266.3)'/%3E%3Crect width='4' height='10' x='374' y='225' fill='%231F292E' rx='2'/%3E%3Crect width='4' height='10' x='385' y='225' fill='%231F292E' rx='2'/%3E%3Cpath fill='%23FF6161' fill-rule='evenodd' d='M406 190.4Zm1.6 3.5a24 24 0 0 1-.5 2.9c-.2.9-1.7 2.5-3.2 3.2-.8.3 0-.5.6-1.8.2-.5.5-1.1.6-1.9a22.7 22.7 0 0 0 .7-5.6 5 5 0 0 1 0-1l.2-.3c0-.1.2-.3.5-.4.3-.2.6 0 .9 0l.3.3.2.4.2.7a8.4 8.4 0 0 0 .5 1.8 1 1 0 0 0 .3 0 9 9 0 0 0 1.6-1.7 3.3 3.3 0 0 1 .2-.3l.4-.3a1 1 0 0 1 1 0c.4.2.5.6.6.7v.7l-.1.7v.5c-.2 1-.4 2-.4 3l.2 1c0 .2.1.2.3.2.2 0 .7 0 1.6-.5.8-.4 2-1.2 3.3-2.4l.8-.4c.2-.1.6-.2 1 0 .5.2.7.6.8 1l-.1 1c-.5 1.5-1.2 4-.7 6.4.5 2.3 2.2 4.7 7 6.2.5.1.9.4 1.1.7l.2.4c0 .1.2.4 0 .8a1 1 0 0 1-.6.6h-.5a12.7 12.7 0 0 1-1.1 0c-2.1-.3-6 .6-9.2 2.4-1.2.6-1.3.6-.3-.4 1.6-1.5 4.5-3.7 7.6-3.8a7.9 7.9 0 0 1-6.1-6.5c-.5-2.2-.1-4.3.3-5.9l-2.6 1.7a5 5 0 0 1-2.7.7c-.9 0-1.5-.5-1.9-1.2-.3-.6-.4-1.4-.4-2l.1-2a4 4 0 0 1-.4.4c-.8.4-1.6.5-2.3 0Zm1-1.7Z' clip-rule='evenodd'/%3E%3C/g%3E%3Cdefs%3E%3ClinearGradient id='b' x1='426' x2='259' y1='125' y2='289' gradientUnits='userSpaceOnUse'%3E%3Cstop stop-color='%23EDF8FF'/%3E%3Cstop offset='1' stop-color='%23FAEFFF'/%3E%3C/linearGradient%3E%3CclipPath id='a'%3E%3Cpath fill='%23fff' d='M0 0h600v320H0z'/%3E%3C/clipPath%3E%3C/defs%3E%3C/svg%3E",O="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='600' height='320' fill='none'%3E%3Cpath fill='url(%23a)' d='M332.3 78.2a71 71 0 0 0-110-27.1c-35.6 37.9-27 57.2-37.5 90.3-13 41.3-45.8 28-45.8 101 0 57.5 111.8 79 162.3 27.2 31-31.7 72.1-13.8 118-27.2 66.1-19 52.2-130-19.4-130-53.9 0-61.5-17-67.6-34.2Z' opacity='.6'/%3E%3Cpath stroke='%231F292E' stroke-width='2' d='M80 242h440'/%3E%3Cpath fill='%231F292E' stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M156.8 260.3V134h140.5l18.5 120.7-159 5.6Z'/%3E%3Cpath fill='%23fff' stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m139 134.4 17.8-.4v126.3L124 241l15-106.5Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m150.7 134.9-2.6 115m-3.8-115.5-4.8 65.1m-3 20.7-3 25.9m23.3-96.6 142.2-.8'/%3E%3Ccircle cx='165' cy='141.3' r='2.2' fill='%23FF6161'/%3E%3Ccircle cx='172.7' cy='141.3' r='2.2' fill='%23FFD361'/%3E%3Ccircle cx='180.5' cy='141.3' r='2.2' fill='%237BECB6'/%3E%3Cpath fill='%23fff' stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m301.8 244.2-107 25.4a2 2 0 0 1-1.7-.3c-38.9-29-36-119.8-36-119.8l142.4-.8s7 37.9 23.5 49.4c1 .7.5 3.8-.6 3.9l-5 .4a1 1 0 0 0-.8 1.5l3.2 5.9a1 1 0 0 1-1.2 1.4l-11.7-4a1 1 0 0 0-1.3 1.4l1.8 3.6a1 1 0 0 1-1 1.4l-19-1.3c-1 0-1.5 1.2-.7 1.8l10.7 7.8a1 1 0 0 1 0 1.7l-3.4 2a1 1 0 0 0-.3 1.5l3.8 4.7a1 1 0 0 1-.6 1.7l-7.2 1.2a1 1 0 0 0-.2 2l12.5 5.6a1 1 0 0 1-.2 1.9Z'/%3E%3Cpath fill='%23F33' d='m226.1 198.2-1-13.2a.3.3 0 0 1 .2-.3l7-.5a.3.3 0 0 1 .3.2l1 13.2a.3.3 0 0 1-.2.3l-7 .6a.3.3 0 0 1-.3-.3Zm12.3-1-1-13.2a.3.3 0 0 1 .2-.3l7-.5a.3.3 0 0 1 .3.2l1 13.2a.3.3 0 0 1-.2.3l-7 .5a.3.3 0 0 1-.3-.2Zm19.7-15.2a.3.3 0 0 1 .3.3l.9 10.4v3a22.2 22.2 0 0 1-11.2 18.1.3.3 0 0 1-.4-.1l-3.4-6.1a.3.3 0 0 1 .2-.4c4.7-2.8 7.7-8 7.2-13.9l-.8-10.4a.3.3 0 0 1 .2-.3l7-.6Z'/%3E%3Cpath fill='%23fff' d='m378.8 208.7-6.5-1.8c-6.5-3.2-19.5-8.3-19.5-3.5 0 6.1.9 24 12.6 40a121.7 121.7 0 0 1 16.9 35.1l79-28.2v-33.8s17.7-46 17.7-53.5-14-5-20.5 4.5-7 13-7 13c-5.5-9-11.5-8.2-15-6.6-3.8-5.2-13.1-8.2-17.3-9-4.2-9.8-12.2-11-15.6-10.5l-15.7 3-4.3 30.9 17.4-7.9c1.7 5.4 3.9 18-1.3 25.2-5.2 7.3-11.2 8.3-13.5 7.8l-7.4-4.7Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M400.7 181.2c-3.5 1.6-10.7 5.1-15.7 4.3-6.3-1-12.7-13.1 5.9-25.9s33.7-2.9 35.7 37.2'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M421 166.5c3.7 0 10.7-1.5 16 6.8m6.5 29.4c-.7-15.3-3.3-24.2-6.5-29.4m0 0c4-1 10.3.2 14.9 7.6m5.3 25.7c0-12.5-2.2-20.6-5.3-25.7m0 0c2.6-7.4 11.2-26 22.4-22.2 16.2 5.3-13.7 36.6-14.1 73.3a571 571 0 0 0 4.4 73.8'/%3E%3Cpath fill='%23fff' stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m383.9 206-51.3-27.4c-.9-.5-.6-1.9.5-2l18.9-.6a1 1 0 0 0 .7-1.6l-6.9-9.9a1 1 0 0 1 1-1.5l8.3 2a1 1 0 0 0 1.2-1.1l-1.4-7.6a1 1 0 0 1 1.6-1l10.6 8.4a1 1 0 0 0 1.6-1l-5.1-18c-.3-1.1 1.1-1.8 1.8-1l8 11a1 1 0 0 0 1.8-.4l3.8-12a1 1 0 0 1 1.7-.4l5 4.9a1 1 0 0 0 1.4-.1l9.4-11.2c.6-.8 2-.2 1.7.8l-12.9 69a1 1 0 0 1-1.4.8Z'/%3E%3Cpath fill='%23fff' d='m370.1 177.8 4.4 4.4.4 8.7.9 10.8L380 215l4.4 13.2-30.4-10.4-.9-16.5 4-15.2 7.3-8.3h5.6Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M398.7 175.8c3.7 7.6 9.4 27.5-4.9 35.6-10.3 6-20-2.9-18.6-20.5 1.5-17.6-13.6-17-19-2.4-12 32.7 13.7 58.6 19.5 72.3 5.9 13.7 8.8 23 10.8 51.3'/%3E%3Cpath fill='%23FF6161' fill-rule='evenodd' d='M410 106.7Zm.9 3.8a24.1 24.1 0 0 1-1 2.7c-.3.8-2 2.2-3.7 2.7-.8 0 .2-.5 1-1.7l.9-1.8a22.7 22.7 0 0 0 1.5-5.4 5.4 5.4 0 0 1 .3-1l.2-.3.6-.3c.3 0 .6 0 .8.2.2.1.3.3.3.4l.1.4v.7a8.3 8.3 0 0 0 .3 1.8 1 1 0 0 0 .2 0c.4-.1 1-.5 2-1.3l.2-.3.4-.2a1 1 0 0 1 1 .2c.4.2.4.6.5.7l-.1.8a10.7 10.7 0 0 1-.4 1.1c-.3.9-.7 2-.8 2.8v1.2l.2.2 1.7-.2c.9-.3 2.1-.9 3.7-1.8.3-.2.5-.3.8-.3.3 0 .7-.1 1 .2.5.3.6.7.6 1 0 .4 0 .7-.2 1-.7 1.5-1.9 3.8-1.8 6.2.1 2.4 1.4 5 5.9 7.3.4.2.7.6 1 1v.3a1 1 0 0 1-.8 1.3 1.4 1.4 0 0 1-.5 0l-1.1-.3c-2-.6-6-.4-9.4.8-1.3.5-1.4.4-.3-.4 1.9-1.2 5-2.9 8.2-2.5a7.9 7.9 0 0 1-5-7.4c0-2.2.6-4.3 1.3-5.8-1 .6-2 1-2.8 1.3a5 5 0 0 1-2.8.2 2 2 0 0 1-1.6-1.5c-.2-.7-.2-1.4 0-2 0-.7.2-1.3.4-2a4.3 4.3 0 0 1-.5.3c-.8.3-1.6.3-2.3-.3Zm1.3-1.5Z' clip-rule='evenodd'/%3E%3Cdefs%3E%3ClinearGradient id='a' x1='427.5' x2='219.7' y1='147.8' y2='310.6' gradientUnits='userSpaceOnUse'%3E%3Cstop stop-color='%23EDF8FF'/%3E%3Cstop offset='1' stop-color='%23FAEFFF'/%3E%3C/linearGradient%3E%3C/defs%3E%3C/svg%3E",oe="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='600' height='320' fill='none'%3E%3Cpath fill='url(%23a)' d='M332.3 78.2a71 71 0 0 0-110-27.1c-35.6 37.9-27 57.2-37.5 90.3-13 41.3-45.8 28-45.8 101 0 57.5 111.8 79 162.3 27.2 31-31.7 72.1-13.8 118-27.2 66.1-19 52.2-130-19.4-130-53.9 0-61.5-17-67.6-34.2Z' opacity='.6'/%3E%3Cpath stroke='%231F292E' stroke-width='2' d='M80 242h440'/%3E%3Cpath fill='%231F292E' stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M156.8 260.3V134h140.5l18.5 120.7-159 5.6Z'/%3E%3Cpath fill='%23fff' stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m139 134.4 17.8-.4v126.3L124 241l15-106.5Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m150.7 134.9-2.6 115m-3.8-115.5-4.8 65.1m-3 20.7-3 25.9m23.3-96.6 142.2-.8'/%3E%3Cpath fill='%23FF6161' d='M165 143.5a2.2 2.2 0 1 0 0-4.3 2.2 2.2 0 0 0 0 4.3Z'/%3E%3Cpath fill='%23FFD361' d='M172.7 143.5a2.2 2.2 0 1 0 0-4.3 2.2 2.2 0 0 0 0 4.3Z'/%3E%3Cpath fill='%237BECB6' d='M180.5 143.5a2.2 2.2 0 1 0 0-4.3 2.2 2.2 0 0 0 0 4.3Z'/%3E%3Cpath fill='%23fff' stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m301.6 241.5-107 25.4a2 2 0 0 1-1.6-.3c-39-29-36-119.7-36-119.7l142.3-.9s7 37.9 23.6 49.5c1 .6.5 3.7-.7 3.8l-5 .5a1 1 0 0 0-.9 1l.1.4 3.2 6a1 1 0 0 1-1.2 1.3l-11.7-4a1 1 0 0 0-1.2 1.4l1.7 3.7a1 1 0 0 1-1 1.4l-19-1.4a1 1 0 0 0-.6 1.8l10.7 7.9a1 1 0 0 1-.1 1.6l-3.4 2.1a1 1 0 0 0-.4.7 1 1 0 0 0 .2.8l3.8 4.7a1 1 0 0 1-.6 1.6l-7.2 1.3a1 1 0 0 0-.3 1.9l12.5 5.6a1 1 0 0 1-.2 2Z'/%3E%3Cpath fill='%23fff' d='m378.8 208.7-6.5-1.8c-6.5-3.2-19.5-8.3-19.5-3.5 0 6.1.9 24 12.6 40a121.7 121.7 0 0 1 16.9 35.1l79-28.2v-33.8s17.7-46 17.7-53.5-14-5-20.5 4.5-7 13-7 13c-5.5-9-11.5-8.2-15-6.6-3.8-5.2-13.1-8.2-17.3-9-4.2-9.8-12.2-11-15.6-10.5l-15.7 3-4.3 30.9 17.4-7.9c1.7 5.4 3.9 18-1.3 25.2-5.2 7.3-11.2 8.3-13.5 7.8l-7.4-4.7Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M400.7 181.2c-3.5 1.6-10.7 5.1-15.7 4.3-6.3-1-12.7-13.1 5.9-25.9 18.5-12.7 33.7-2.9 35.7 37.2'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M421 166.5c3.7 0 10.7-1.5 16 6.8m0 0c3.2 5.2 5.8 14 6.5 29.4m-6.5-29.4c4-1 10.3.2 14.9 7.6m0 0a49.3 49.3 0 0 1 5.3 25.7m-5.3-25.7c2.6-7.4 11.2-26 22.4-22.2 16.2 5.3-13.7 36.6-14.1 73.3a571 571 0 0 0 4.4 73.8'/%3E%3Cpath fill='%23fff' stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m383.9 206-51.3-27.4c-.9-.5-.6-1.9.5-2l18.9-.6a1 1 0 0 0 1-1.1c0-.2-.2-.4-.3-.5l-6.9-9.9a1 1 0 0 1 1-1.5l8.3 2a1 1 0 0 0 1.2-1.1l-1.4-7.6a1 1 0 0 1 1.6-1l10.6 8.4a1 1 0 0 0 1.6-1l-5.1-18c-.3-1.1 1.1-1.8 1.8-1l8 11a1 1 0 0 0 1.8-.4l3.8-12a1 1 0 0 1 1.7-.4l5 4.9a1 1 0 0 0 1.1.1l.3-.2 9.4-11.2c.6-.8 2-.2 1.7.8l-12.9 69a1 1 0 0 1-.5.8 1 1 0 0 1-1 0Z'/%3E%3Cpath fill='%23fff' d='m370.1 177.8 4.4 4.4.4 8.7.9 10.8L380 215l4.4 13.2-30.4-10.4-.9-16.5 4-15.2 7.3-8.3h5.6Z'/%3E%3Cpath stroke='%231F292E' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M398.7 175.8c3.7 7.6 9.4 27.5-4.9 35.6-10.3 6-20-2.9-18.6-20.5 1.5-17.6-13.6-17-19-2.4-12 32.7 13.7 58.6 19.5 72.3 5.9 13.7 8.8 23 10.8 51.3'/%3E%3Cpath fill='%23FF6161' fill-rule='evenodd' d='m410.9 110.5-1 2.7c-.3.8-2 2.2-3.7 2.7-.8 0 .2-.5 1-1.7l.9-1.8a22.7 22.7 0 0 0 1.7-6.1l.1-.3.2-.3.6-.3c.3 0 .6 0 .8.2.2.1.3.3.3.4l.1.4v.7a8.3 8.3 0 0 0 .3 1.8h.2c.4-.1 1-.5 2-1.3l.2-.3.4-.2a1 1 0 0 1 1 .2c.4.2.4.6.5.7l-.1.8a10.7 10.7 0 0 1-.4 1.1c-.3.9-.7 2-.8 2.8v1.2l.2.2 1.7-.2c.9-.3 2.1-.9 3.7-1.8.3-.2.5-.3.8-.3.3 0 .7-.1 1 .2.5.3.6.7.6 1 0 .4 0 .7-.2 1-.7 1.5-1.9 3.8-1.8 6.2.1 2.4 1.4 5 5.9 7.3.4.2.7.6 1 1v.3a1 1 0 0 1-.8 1.3h-.5l-1.1-.3c-2-.6-6-.4-9.4.8-1.3.5-1.4.4-.3-.4 1.9-1.2 5-2.9 8.2-2.5a7.9 7.9 0 0 1-5-7.4c0-2.2.6-4.3 1.3-5.8-1 .6-2 1-2.8 1.3a5 5 0 0 1-2.8.2 2 2 0 0 1-1.6-1.5c-.2-.7-.2-1.4 0-2 0-.7.2-1.3.4-2l-.5.3c-.8.3-1.6.3-2.3-.3Zm1.3-1.5Z' clip-rule='evenodd'/%3E%3Cmask id='b' fill='%23fff'%3E%3Cpath fill-rule='evenodd' d='m228.2 205.7-1.5-22.6-6.6.1 1.5 22.7 6.6-.2Zm-.8-23.4-8.1.2 1.6 24.2 8-.2-1.5-24.2Z' clip-rule='evenodd'/%3E%3C/mask%3E%3Cpath fill='%23fff' fill-rule='evenodd' d='m228.2 205.7-1.5-22.6-6.6.1 1.5 22.7 6.6-.2Zm-.8-23.4-8.1.2 1.6 24.2 8-.2-1.5-24.2Z' clip-rule='evenodd'/%3E%3Cpath fill='%23000' d='M226.7 183h1.1v-1h-1.2v1.2Zm1.5 22.7v1.2h1.2v-1.2h-1.2Zm-8-22.5-.1-1.1h-1.2v1.2h1.2Zm1.4 22.7h-1.1v1.2h1.2v-1.2Zm5.8-23.6h1.2l-.1-1.2h-1.2v1.2Zm-8.1.2v-1.2H218l.1 1.2h1.2Zm1.6 24.2h-1.2l.1 1.2h1.2v-1.2Zm8-.2.2 1.2h1.1v-1.3H229Zm-3.4-23.4 1.5 22.7 2.3-.1-1.5-22.7-2.3.1Zm-5.3 1.3 6.5-.2-.1-2.3-6.5.2.1 2.3Zm2.6 21.5-1.5-22.7H219l1.5 22.7h2.3Zm5.3-1.3-6.5.1.1 2.4 6.5-.2-.1-2.3Zm-1.9-22.3 1.6 24.2h2.4l-1.6-24.3-2.4.1Zm-6.8 1.4 8-.3v-2.3l-8.2.2.2 2.4Zm2.7 23-1.6-24.2H218l1.6 24.2h2.4Zm6.8-1.4-8 .2v2.4l8.2-.2-.2-2.4Z' mask='url(%23b)'/%3E%3Cpath fill='%232E03A0' d='M225.2 210.6a4.2 4.2 0 0 1-4.3-4c-.1-2.1 1.5-4 3.8-4a4.3 4.3 0 0 1 4.3 3.9 4 4 0 0 1-3.8 4.1Z'/%3E%3Cpath fill='%23000' fill-rule='evenodd' d='M221.7 206.7a3.4 3.4 0 0 0 3.5 3.1c1.8 0 3.1-1.5 3-3.3a3.4 3.4 0 0 0-3.5-3.2 3.1 3.1 0 0 0-3 3.4Zm-.8 0c.2 2.2 2 4 4.3 4a4 4 0 0 0 3.8-4.2c-.2-2.3-2-4-4.3-4-2.3.1-4 2-3.8 4.2Z' clip-rule='evenodd'/%3E%3Cpath fill='%23fff' d='m226.7 180.2 13.5 20.7-6.7 4.2-13.6-20.6 6.8-4.3Z'/%3E%3Cpath fill='%23000' fill-rule='evenodd' d='m239.1 200.6-12.6-19.3-5.5 3.4 12.7 19.3 5.4-3.4Zm-12.4-20.4-6.8 4.3 13.6 20.6 6.7-4.2-13.5-20.7Z' clip-rule='evenodd'/%3E%3Cpath fill='%23fff' d='M223.6 186.4a4.2 4.2 0 0 1-4.3-4c-.1-2.1 1.5-4 3.8-4a4.2 4.2 0 0 1 4.3 3.9 4 4 0 0 1-3.8 4.1Z'/%3E%3Cpath fill='%23000' fill-rule='evenodd' d='M220 182.5a3.4 3.4 0 0 0 3.6 3.2c1.8 0 3.1-1.6 3-3.4a3.4 3.4 0 0 0-3.5-3.2 3.1 3.1 0 0 0-3 3.4Zm-.7 0c.2 2.2 2 4 4.3 4a4 4 0 0 0 3.8-4.2c-.2-2.3-2-4-4.3-4-2.3.1-4 2-3.8 4.2Z' clip-rule='evenodd'/%3E%3Cpath fill='%2313C1FF' d='m243.5 181.9 1.6 24.2 8.1-.3-1.6-24.2-8 .3Z'/%3E%3Cpath fill='%23000' fill-rule='evenodd' d='m245.8 205.3-1.5-22.7 6.6-.2 1.5 22.7-6.6.2Zm-2.3-23.4 8.1-.3 1.6 24.2-8 .3-1.7-24.2Z' clip-rule='evenodd'/%3E%3Cpath fill='%2306CF13' d='M249.4 210c2.3 0 4-2 3.8-4.2-.1-2.2-2-4-4.3-3.9-2.2 0-4 2-3.8 4.2.2 2.2 2 4 4.3 3.9Z'/%3E%3Cpath fill='%23000' fill-rule='evenodd' d='M252.4 205.9a3.1 3.1 0 0 1-3 3.3 3.4 3.4 0 0 1-3.5-3.2 3.1 3.1 0 0 1 3-3.3c1.8 0 3.4 1.4 3.5 3.2Zm.8 0c.1 2.2-1.5 4-3.8 4a4.2 4.2 0 0 1-4.3-3.8 4 4 0 0 1 3.8-4.2c2.2 0 4.2 1.7 4.3 4Z' clip-rule='evenodd'/%3E%3Cpath fill='%23FA52D6' d='M244 179.8 233.2 201l7.3 3.8 10.7-21.3-7.2-3.8Z'/%3E%3Cpath fill='%23000' fill-rule='evenodd' d='m234.3 200.8 10-20 5.9 3.1-10 20-6-3.1Zm9.7-21 7.2 3.8-10.7 21.3-7.3-3.8 10.8-21.3Z' clip-rule='evenodd'/%3E%3Cpath fill='red' d='M235 206.5c2 1.1 4.5.4 5.5-1.6s.1-4.4-1.9-5.5a4 4 0 0 0-5.4 1.7 4 4 0 0 0 1.9 5.4Z'/%3E%3Cpath fill='%23000' fill-rule='evenodd' d='M239.8 204.5a3.2 3.2 0 0 1-4.4 1.4 3.3 3.3 0 0 1-1.5-4.5 3.2 3.2 0 0 1 4.4-1.3c1.6.9 2.3 2.9 1.5 4.4Zm.7.4a4 4 0 0 1-5.4 1.6c-2-1-2.9-3.5-1.9-5.4a4 4 0 0 1 5.4-1.7c2 1.1 2.9 3.6 1.9 5.5Z' clip-rule='evenodd'/%3E%3Cpath fill='%23FFC400' d='M247.8 185.8c2.3 0 4-2 3.8-4.2-.2-2.2-2-4-4.3-3.9-2.2 0-4 2-3.8 4.2.2 2.2 2 4 4.3 3.9Z'/%3E%3Cpath fill='%23000' fill-rule='evenodd' d='M250.8 181.7a3.1 3.1 0 0 1-3 3.3 3.4 3.4 0 0 1-3.5-3.2 3.1 3.1 0 0 1 3-3.3c1.9 0 3.4 1.3 3.5 3.2Zm.8 0c.1 2.2-1.5 4-3.8 4a4.2 4.2 0 0 1-4.3-3.8 4 4 0 0 1 3.8-4.2c2.2 0 4.1 1.7 4.3 4Z' clip-rule='evenodd'/%3E%3Cdefs%3E%3ClinearGradient id='a' x1='427.5' x2='219.7' y1='147.8' y2='310.6' gradientUnits='userSpaceOnUse'%3E%3Cstop stop-color='%23EDF8FF'/%3E%3Cstop offset='1' stop-color='%23FAEFFF'/%3E%3C/linearGradient%3E%3C/defs%3E%3C/svg%3E";function $(b){const{className:M,source:L,rotate:S,width:D,height:H,onClick:re}=b,P={msTransform:"rotate("+S+"deg)",transform:"rotate("+S+"deg)",width:D,height:H};return(0,U.jsx)("img",{className:M,src:L,style:P,onClick:re})}$.propTypes={className:h().string,source:h().string.isRequired,width:h().number,height:h().number,rotate:h().number,onClick:h().func};const X=$,R=403,Y=404,K=[500,501,502,503,504,505],r="link_expired";var v=n(80396);function x(b,M,L){return(M=g(M))in b?Object.defineProperty(b,M,{value:L,enumerable:!0,configurable:!0,writable:!0}):b[M]=L,b}function g(b){var M=c(b,"string");return typeof M=="symbol"?M:M+""}function c(b,M){if(typeof b!="object"||!b)return b;var L=b[Symbol.toPrimitive];if(L!==void 0){var S=L.call(b,M||"default");if(typeof S!="object")return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return(M==="string"?String:Number)(b)}class y extends C.PureComponent{constructor(){super(...arguments),x(this,"typeText",{title_403:{"zh-CN":"\u5BF9\u4E0D\u8D77\uFF0C\u4F60\u6CA1\u6709\u8BBF\u95EE\u6743\u9650",en:"Permission denied",jp:""},des_403_0:{"zh-CN":(0,U.jsx)(U.Fragment,{children:(0,U.jsxs)("p",{className:"proposal",children:["\u5F53\u524D\u8D26\u53F7\u662F ",(0,U.jsx)("span",{className:"count-detail",children:this.props.account}),"\uFF0C\u6CA1\u6709\u8BBF\u95EE\u8BE5\u6587\u6863\u7684\u6743\u9650"]})}),en:(0,U.jsx)(U.Fragment,{children:(0,U.jsxs)("p",{className:"proposal",children:["Current account ",(0,U.jsx)("span",{className:"count-detail",children:this.props.account}),", permission denied."]})}),jp:""},des_403_1:{"zh-CN":(0,U.jsx)(U.Fragment,{children:(0,U.jsxs)("p",{className:"proposal",children:["\u5F53\u524D\u8D26\u53F7\u662F ",(0,U.jsx)("span",{className:"count-detail",children:this.props.account}),"\uFF0C\u6CA1\u6709\u8BBF\u95EE\u8BE5\u6587\u6863\u7684\u6743\u9650\uFF0C\u8BF7\u8054\u7CFB\u5206\u4EAB\u8005\u4FEE\u6539\u8BBF\u95EE\u6743\u9650"]})}),en:(0,U.jsx)(U.Fragment,{children:(0,U.jsxs)("p",{className:"proposal",children:["Current account ",(0,U.jsx)("span",{className:"count-detail",children:this.props.account}),", permission denied. Please contact administrator."]})}),jp:""},des_403_2:{"zh-CN":"\u60A8\u8FD8\u6CA1\u6709\u767B\u5F55\uFF0C\u8BF7\u767B\u5F55\u540E\u5C1D\u8BD5\u8BBF\u95EE",en:"You are not logged in. Please log in and try again.",jp:""},des_403_3:{"zh-CN":"\u5F53\u524D\u8D26\u53F7\u662F "+this.props.account+"\uFF0C\u6587\u4EF6\u6570\u8D85\u9650\uFF0C\u5347\u7EA7\u540E\u5373\u53EF\u7F16\u8F91",en:"Current account "+this.props.account+", permission denied.",jp:""},des_403_4:{"zh-CN":"\u5F53\u524D\u8D26\u53F7\u662F "+this.props.account+"\uFF0C\u4F01\u4E1A\u7248\u8FC7\u671F\uFF0C\u5347\u7EA7\u540E\u5373\u53EF\u7F16\u8F91",en:"Current account "+this.props.account+", permission denied. Please contact administrator. ",jp:""},title_404:{"zh-CN":"\u5F88\u62B1\u6B49\uFF0C\u627E\u4E0D\u5230\u6587\u4EF6",en:"Sorry, there is no visible page.",jp:""},des_404:{"zh-CN":"\u6587\u4EF6\u53EF\u80FD\u5DF2\u88AB\u5220\u9664\uFF0C\u8BF7\u8054\u7CFB\u5206\u4EAB\u8005\u83B7\u53D6\u65B0\u7684\u5206\u4EAB\u94FE\u63A5",en:"The page may have been deleted. Please contact the sharer to inquire about the link status.",jp:""},title_link_expired:{"zh-CN":"\u5F88\u62B1\u6B49\uFF0C\u94FE\u63A5\u5931\u6548",en:"Sorry, the link is invalid",jp:""},des_link_expired:{"zh-CN":"\u94FE\u63A5\u53EF\u80FD\u5DF2\u88AB\u5220\u9664\u6216\u8005\u8BBE\u7F6E\u6709\u8BEF\uFF0C\u8BF7\u8054\u7CFB\u5206\u4EAB\u8005\u83B7\u53D6\u6700\u65B0\u5206\u4EAB\u94FE\u63A5",en:"The link may have been deleted or set incorrectly. Please contact the sharer to obtain the latest link.",jp:""},title_5xx:{"zh-CN":"\u5F88\u62B1\u6B49\uFF0C\u65E0\u6CD5\u8FDE\u63A5\u58A8\u5200\u670D\u52A1\u5668",en:"Sorry, unable to connect to Mockitt server",jp:""},des_5xx:{"zh-CN":(0,U.jsxs)("div",{className:"proposal text-left",children:[(0,U.jsx)("p",{children:"\u8BF7\u5C1D\u8BD5\u4EE5\u4E0B\u65B9\u6CD5\uFF1A"}),(0,U.jsxs)("ul",{className:"text-list",children:[(0,U.jsx)("li",{children:"\u5982\u679C\u60A8\u5F00\u4E86\u7F51\u7EDC\u4EE3\u7406\uFF08VPN\uFF09\uFF0C\u5EFA\u8BAE\u60A8\u5B8C\u5168\u5173\u95ED\u540E\u518D\u5237\u65B0\u58A8\u5200"}),(0,U.jsx)("li",{children:"\u5982\u679C\u4E0D\u662F\u4E0A\u8FF0\u539F\u56E0\u5BFC\u81F4\u7684\uFF0C\u8BF7\u60A8\u8FDE\u63A5\u624B\u673A\u70ED\u70B9\u6216\u5207\u6362\u53E6\u4E00\u4E2A\u7F51\u7EDC"})]}),(0,U.jsx)("p",{children:"\u82E5\u4F9D\u65E7\u65E0\u6CD5\u6B63\u5E38\u8FDB\u5165\u58A8\u5200\uFF0C\u8BF7\u8054\u7CFB\u5BA2\u670D"})]}),en:(0,U.jsxs)("div",{className:"proposal text-left",children:[(0,U.jsx)("p",{children:"Please try the following methods:"}),(0,U.jsxs)("ul",{className:"text-list",children:[(0,U.jsx)("li",{children:"If your VPN is on, please turn it off then refresh Mockitt."}),(0,U.jsx)("li",{children:"If not, please switch to another network."})]}),(0,U.jsx)("p",{children:"If the problem stays, please contact support."})]}),jp:""},title_0:{"zh-CN":"\u5F88\u62B1\u6B49\uFF0C\u9875\u9762\u5D29\u6E83\u4E86",en:"Sorry, this page is corrupted",jp:""},des_0:{"zh-CN":"\u8BF7\u5C1D\u8BD5\u5237\u65B0\u9875\u9762\u6216\u5173\u95ED\u518D\u91CD\u65B0\u6253\u5F00\u58A8\u5200\uFF0C\u82E5\u65E0\u6CD5\u89E3\u51B3\u8BF7\u8054\u7CFB\u5BA2\u670D",en:"Please refresh this page or close this page and start Mockitt again. If the problem stays, please contact  support.",jp:""},previewFile:{"zh-CN":"\u9884\u89C8\u6587\u4EF6",en:"Preview File",jp:""},goHome:{"zh-CN":"\u8FD4\u56DE\u58A8\u5200\u9996\u9875",en:"Back to Homepage",jp:""},reloadPage:{"zh-CN":"\u5237\u65B0\u9875\u9762",en:"Refresh this page",jp:""},contactUs:{"zh-CN":"\u8054\u7CFB\u5BA2\u670D",en:"Support",jp:""}}),x(this,"clickGoHome",()=>{let M="",{locale:L}=this.props;L==="zh-CN"?M="/":L==="jp"?M="https://mockitt.wondershare.jp":M="https://mockitt.wondershare.com",window.top!==window.self?window.top.location.replace(M):location.replace(M)}),x(this,"clickReloadPage",()=>{window.location.reload()}),x(this,"clickContactUs",()=>{let M="",{locale:L}=this.props;if(L==="zh-CN"){document.getElementById("mdOnlineSupport")&&document.getElementById("mdOnlineSupport").click();return}else L==="jp"?M="https://support.wondershare.jp":M="https://support.wondershare.com/product/mockitt.html";window.open(M)}),x(this,"getErrorConfig",()=>{const{errorType:M,primaryBtnText:L,primaryBtnClick:S,secondaryBtnText:D,secondaryBtnClick:H,locale:re}=this.props,{typeText:P,clickGoHome:W,clickContactUs:ee,clickReloadPage:ae}=this;let ie,xe,je="",Re=null,ze;const He={text:P.goHome[re],click:W},Ze={text:P.reloadPage[re],click:ae},qe={text:P.contactUs[re],click:ee};switch(!0){case M===R:ie=He.text,xe=He.click,ze=k;break;case M===Y:ie=He.text,xe=He.click,ze=A;break;case M===r:ie=He.text,xe=He.click,ze=A;break;case K.includes(M):ie=Ze.text,xe=Ze.click,je=qe.text,Re=qe.click,ze=N;break;default:ie=Ze.text,xe=Ze.click,je=qe.text,Re=qe.click,ze=re==="en"?oe:O;break}return L&&(ie=L),S&&(xe=S),D&&(je=D),H&&(Re=H),{svgBg:ze,primaryText:ie,primaryClick:xe,secondaryText:je,secondaryClick:Re}}),x(this,"getErrorInfo",()=>{const{errorType:M,identity:L,locale:S,customTitle:D,customDes:H,account:re}=this.props,{typeText:P}=this;let W,ee;if(D)W=D;else{const ae=K.includes(M)?"title_5XX":"title_"+M;W=P[ae]?P[ae][S]:P.title_0[S]}if(H)ee=H;else{let ae="des_"+M;M===R?ae=re?"des_"+M+"_"+L:"des_"+M+"_2":K.includes(M)?ae="des_5xx":M===r&&(ae="des_link_expired"),ee=P[ae]?P[ae][S]:P.des_link_expired[S]}return{title:W,desc:ee}}),x(this,"handleClickLogo",()=>{let{isLogoClickable:M,logoUrl:L}=this.props;M&&(window.top!==window.self?window.top.location.href=L:window.location.href=L)})}render(){const{locale:M,isShowPrimaryBtn:L,isShowSecondaryBtn:S,isLogoClickable:D,previewFileBtnClick:H}=this.props,{typeText:re}=this,{svgBg:P,primaryText:W,primaryClick:ee,secondaryText:ae,secondaryClick:ie}=this.getErrorConfig(),{title:xe,desc:je}=this.getErrorInfo();return(0,U.jsxs)(q,{children:[(0,U.jsx)("div",{className:"logo",children:(0,U.jsx)("span",{className:D?"logo-clickable":"",onClick:this.handleClickLogo,children:(0,U.jsx)(X,{source:P})})}),(0,U.jsxs)("div",{className:"content",children:[(0,U.jsx)("p",{className:"title",children:xe}),typeof je=="string"?(0,U.jsx)("p",{className:"proposal",children:je}):je]}),(0,U.jsxs)("div",{className:"btn-list",children:[S&&ie&&ae&&(0,U.jsx)("a",{className:"btn regular",onClick:ie,children:ae}),H&&(0,U.jsx)("a",{className:"btn regular",onClick:H,children:re.previewFile[M]}),L&&ee&&W&&(0,U.jsx)("a",{className:"btn primary",onClick:ee,children:W}),ae===re.contactUs[M]&&(0,U.jsx)(v.A,{})]})]})}}x(y,"propTypes",{locale:h().oneOf(["zh-CN","en","jp"]),identity:h().oneOf([0,1]),customTitle:h().string,customDes:h().string,isShowPrimaryBtn:h().bool,primaryBtnText:h().string,primaryBtnClick:h().func,isShowSecondaryBtn:h().bool,secondaryBtnText:h().string,secondaryBtnClick:h().func,errorType:h().oneOf([0,403,404,500,501,502,503,504,505,r]).isRequired,account:h().string,isLogoClickable:h().bool,logoUrl:h().string}),x(y,"defaultProps",{locale:"zh-CN",isShowPrimaryBtn:!0,isShowSecondaryBtn:!0,identity:0,errorType:0,isLogoClickable:!0,logoUrl:"/"})},80396:(Me,de,n)=>{"use strict";n.d(de,{A:()=>I});var i=n(51044),h=n(66748),C=n.n(h),d=n(57464);I.propTypes={className:C().string,children:C().oneOfType([C().array,C().string]),isWonderShare:C().bool,id:C().string,onClick:C().func,disabled:C().bool,canClick:C().bool};function I(q){let{className:U,children:k,isWonderShare:A=!1,id:N="mdOnlineSupport",onClick:O,disabled:oe,canClick:$}=q;const X="qd30090468111af7daaf09a6395b687fc3becd624cf3",R=A?"https://support.wondershare.com/":"";(0,i.useEffect)(()=>{if(!oe)return!A&&Y(),()=>{const r=document.getElementById(X);r&&r.remove()}},[]);const Y=()=>{n.g?(n.g.wpaShowItemId=window.wpaShowItemId="123",n.g.qidian_ex1=window.qidian_ex1="12"):(window.wpaShowItemId="123",window.qidian_ex1="12");let r=document.createElement("script");r.id=X,r.src="https://wp.qiye.qq.com/qidian/3009046811/1af7daaf09a6395b687fc3becd624cf3",r.charset="utf-8",r.async=!0,r.defer=!0,document.body.appendChild(r)},K=r=>{if(oe){$&&O&&O();return}if(O&&O(),A){window.open(R);return}if(N!=="mdOnlineSupport"){r.preventDefault();const v=document.getElementById("mdOnlineSupport");v&&v.click()}};return(0,d.jsx)("div",{style:{cursor:"pointer"},id:N,className:U,onClick:K,children:k})}},29584:(Me,de,n)=>{"use strict";n.d(de,{A:()=>b,d:()=>oe});var i=n(30108),h=n.n(i),C=n(98236),d=n.n(C),I=n(51044),q=n(60185),U=n(66748),k=n.n(U),A=n(480),N=n(28149);const O=9;function oe(L){let{$opener:S,$menuBase:D,menuX:H="left",menuY:re="bottom",menuBaseStyle:P={},inflexible:W=!1,shouldSetMaxHeight:ee=!1}=L;if(!S||!D)return{};const ae=D.querySelector("*"),ie={styleFor$menuBase:{},styleFor$menu:{}},xe=Je=>Object.assign(ie.styleFor$menuBase,Je),je=Je=>Object.assign(ie.styleFor$menu,Je),{offsetHeight:Re}=ae,ze=P.width||S.offsetWidth,He=P.height||S.offsetHeight,Ze=S.getBoundingClientRect(),{top:qe,bottom:we,left:Q}=Object.assign({top:Ze.top,right:Ze.right,bottom:Ze.bottom,left:Ze.left},P);xe({top:qe+"px",left:Q+"px",width:ze+"px",height:He+"px"});const{innerHeight:Z}=window,me=10,Se=Z-10,Ne=re==="top"?1/3:2/3,Ke=Z*Ne,s=qe+He/2,Oe=qe+He;return(W&&re==="bottom"||!W&&Ke>=s)&&Oe+Re+O<Z?(ie.isDownward=!0,ee&&we+Re>Se&&je({maxHeight:Se-we+"px"})):(ie.isDownward=!1,ee&&qe-Re<me&&je({maxHeight:qe-me+"px"})),Object.assign(D.style,ie.styleFor$menuBase),Object.assign(ae.style,ie.styleFor$menu),ie}var $=n(21676);const X=$.Ay.label.withConfig({displayName:"styled__StyledDropDown",componentId:"sc-665wv9-0"})(["&.is-disabled{opacity:0.5;> button{cursor:not-allowed;}}"]),R=$.Ay.div.withConfig({displayName:"styled__StyledDropDownMenu",componentId:"sc-665wv9-1"})(["position:absolute;margin:0.25em 0;width:-moz-fit-content;width:-webkit-fit-content;width:fit-content;min-width:7em;font-size:12px;filter:drop-shadow(0 2px 10px rgba(39,54,78,0.12)) drop-shadow(4px 12px 40px rgba(39,54,78,0.12));pointer-events:none;opacity:0;transition:0.2s ease-in-out;transition-property:transform,opacity;transform-origin:50% 0;transform:scale(0.9);&.is-open{pointer-events:initial;opacity:1;transform:scale(1);}&.x-left{left:0;}&.x-right{left:initial;right:0;}&.x-center{left:50%;transform:scale(0.9) translateX(-50%);&.is-open{transform:scale(1) translateX(-50%);}}&.is-downward{top:100%;bottom:initial;}&.is-upward{top:initial;bottom:100%;}&.arrowed{margin-top:0.75em;margin-bottom:0.75em;&.x-left.x-arrow-based{left:50%;margin-left:-14px;}&.x-right.x-arrow-based{left:initial;right:50%;margin-right:-14px;}}.arrow{position:absolute;top:0;left:calc(50% - 0.5em);width:1em;height:0.375em;font-size:14px;line-height:0;fill:currentColor;fill-rule:evenodd;color:#fff;svg{position:absolute;width:auto;height:5px;transform:translateY(-100%);}}&.dark .arrow{color:rgba(30,41,46,.9);}&.x-left .arrow{left:0.5em;right:initial;}&.x-right .arrow{left:initial;right:0.5em;}&.is-upward .arrow{transform:rotate(180deg);top:initial;bottom:0;}.content{padding:0.75em 0.5em;min-height:32px;background-color:#fff;border-radius:4px;}&.dark .content{background-color:rgba(30,41,46,.9);color:#fff;}ul.MenuList{margin:0;padding:0;list-style:none;text-align:center;color:#5b6b73;li{line-height:32px;border-radius:2px;cursor:pointer;&:not(.is-disabled):hover{background-color:#f6f7f8;}&.is-active{color:#298df8;}&.is-disabled{cursor:not-allowed;opacity:0.5;}}}"]),Y=$.Ay.div.withConfig({displayName:"styled__StyledDropDownBase",componentId:"sc-665wv9-2"})(["position:fixed;z-index:1100;pointer-events:none;"]);var K=n(57464);function r(L,S,D){return(S=v(S))in L?Object.defineProperty(L,S,{value:D,enumerable:!0,configurable:!0,writable:!0}):L[S]=D,L}function v(L){var S=x(L,"string");return typeof S=="symbol"?S:S+""}function x(L,S){if(typeof L!="object"||!L)return L;var D=L[Symbol.toPrimitive];if(D!==void 0){var H=D.call(L,S||"default");if(typeof H!="object")return H;throw new TypeError("@@toPrimitive must return a primitive value.")}return(S==="string"?String:Number)(L)}const g="IBOT_DROPDOWN_MENU_ROOT",c=document.getElementById(g)||Object.assign(document.createElement("div"),{id:g}),y=document.body;y.contains(c)||y.appendChild(c);class b extends I.PureComponent{constructor(){super(...arguments),r(this,"state",{prevProps:this.props,isOpen:this.props.isOpen,$opener:null,currentMenuListItemIdx:this.props.currentMenuListItemIdx}),r(this,"leaveTimeoutList",[]),r(this,"createMenuRef",S=>this.$menuRef=S),r(this,"toggle",S=>this.setState({isOpen:h()(S)?S:!this.state.isOpen})),r(this,"open",()=>this.toggle(!0)),r(this,"close",()=>this.toggle(!1)),r(this,"onMouseEnter",()=>{const{shouldOpenOnHover:S}=this.props;S&&(clearTimeout(this.closeTimeout),Object.assign(this,{hoverTimeout:setTimeout(this.open,this.props.hoverDelay)}))}),r(this,"onMouseLeave",()=>{const{shouldOpenOnHover:S}=this.props;S&&clearTimeout(this.hoverTimeout)}),r(this,"onMouseMove",S=>{var D;let{clientX:H,clientY:re}=S;const{shouldOpenOnHover:P,hoverDelay:W,hoverCloseDelay:ee}=this.props,{$opener:ae}=this.state;if(!P)return;clearTimeout(this.hoverTimeout);const ie=document.elementFromPoint(H,re),xe=!ae.contains(ie),je=!((D=this.$menuRef)!=null&&(D=D.menuBaseRef)!=null&&(D=D.current)!=null&&D.contains(ie));je?xe&&je&&this.leaveTimeoutList.push(setTimeout(this.close,ee!==void 0?ee:Math.max(W,300))):(this.leaveTimeoutList.map(clearTimeout),Object.assign(this,{leaveTimeoutList:[]}))}),r(this,"set$opener",S=>this.setState({$opener:S})),r(this,"onSelect",S=>{let{currentTarget:D}=S;const{menuList:H,onSelect:re,shouldCloseOnSelect:P}=this.props;if(typeof re!="function")return;const W=D.dataset.idx,ee=H[W],ae=typeof ee=="string"?ee:ee&&ee.value;re(W,ae),this.setState({currentMenuListItemIdx:W}),P&&this.close()})}static getDerivedStateFromProps(S,D){let{prevProps:H,isOpen:re}=D;return d()(S,H)?null:h()(S.isOpen)?{prevProps:S,isOpen:S.isOpen}:{prevProps:S}}componentDidUpdate(S,D){let{isOpen:H}=D;const{onOpen:re,onClose:P,onToggle:W}=this.props,{isOpen:ee}=this.state;H!==ee&&(ee?(re(),W(!0)):(P(),W(!1)))}render(){const{className:S,opener:D,openerType:H,openerClassName:re,shouldCloseOnClickOutside:P}=this.props,{isOpen:W,$opener:ee,currentMenuListItemIdx:ae}=this.state,ie=this.props.isDisabled||this.props.disabled,xe=(0,N.Hn)(["Dropdown",W&&"is-open",ie&&"is-disabled",S]),je={onClick:this.toggle,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onMouseMove:this.onMouseEnter,disabled:ie,className:re};return(0,K.jsxs)(X,{ref:this.set$opener,className:xe,children:[H!=="button"&&(0,I.isValidElement)(D)?(0,I.cloneElement)(D,je):(0,K.jsx)("button",{type:"button",...je,children:D}),(0,K.jsx)(M,{ref:this.createMenuRef,...this.props,isOpen:W,$opener:ee,onSelect:this.onSelect,onClose:this.close,shouldCloseOnClickOutside:P,currentMenuListItemIdx:ae}),W&&(0,K.jsx)(A.A,{target:document,onMouseMove:this.onMouseMove})]})}}r(b,"positionMenu",oe),r(b,"propTypes",{isOpen:k().bool,mode:k().oneOf(["light","dark"]),opener:k().node,openerType:k().oneOf(["button","custom"]),className:k().string,portalClassName:k().string,menuBaseClassName:k().string,openerClassName:k().string,menuClassName:k().string,menuBaseStyle:k().shape({top:k().number,right:k().number,bottom:k().number,width:k().number,height:k().number}),menu:k().node,menuList:k().arrayOf(k().oneOfType([k().node,k().shape({label:k().node,value:k().any,isDisabled:k().bool})])),currentMenuListItemIdx:k().oneOfType([k().number,k().string]),shouldPreventScrollingPropagation:k().bool,shouldOpenOnHover:k().bool,shouldCloseOnClickOutside:k().bool,hoverDelay:k().oneOfType([k().number,k().string]),hoverCloseDelay:k().oneOfType([k().number,k().string]),arrowed:k().bool,inflexible:k().bool,menuX:k().oneOf(["left","center","right"]),menuY:k().oneOf(["top","bottom"]),menuBasedX:k().bool,isDisabled:k().bool,disabled:k().bool,onSelect:k().func,shouldCloseOnSelect:k().bool,onOpen:k().func.isRequired,onClose:k().func.isRequired,onToggle:k().func.isRequired}),r(b,"defaultProps",{arrowed:!1,openerType:"button",mode:"light",shouldPreventScrollingPropagation:!0,shouldCloseOnSelect:!0,shouldOpenOnHover:!1,shouldCloseOnClickOutside:!0,hoverDelay:200,menuX:"center",menuY:"bottom",inflexible:!1,menuBasedX:!1,onOpen:()=>null,onClose:()=>null,onToggle:()=>null});class M extends I.PureComponent{constructor(){super(...arguments),r(this,"state",{isDownward:this.props.position==="bottom"}),r(this,"portal",(0,N.ep)(c,(0,N.Hn)(["DropdownMenuPortal",this.props.portalClassName]))),r(this,"menuBaseRef",(0,I.createRef)()),r(this,"onResizeWindow",()=>this.props.isOpen&&this.position()),r(this,"onClickOutside",S=>{let{target:D}=S;const{$opener:H,onClose:re,shouldCloseOnClickOutside:P}=this.props;if(!P)return;const W=!c.contains(D),ee=D.closest("label"),ae=ee&&ee.contains(H),ie=!!(0,N.$)(".SelectMenu.is-open");W&&!ae&&!ie&&re()}),r(this,"position",()=>{const{$opener:S,menuX:D,menuY:H,menuBaseStyle:re,inflexible:P}=this.props,{menuBaseRef:{current:W}}=this,{isDownward:ee}=oe({$menuBase:W,$opener:S,menuX:D,menuY:H,menuBaseStyle:re,inflexible:P});this.setState({isDownward:ee})})}componentDidMount(){const{isOpen:S,shouldPreventScrollingPropagation:D}=this.props,{menuBaseRef:{current:H}}=this;S&&setTimeout(this.position),D&&(0,N.sA)((0,N.$)(".content",H)),window.addEventListener("resize",this.onResizeWindow)}componentDidUpdate(S){let{isOpen:D}=S;const{isOpen:H}=this.props;!D&&H&&this.position()}componentWillUnmount(){this.portal&&this.portal.remove(),window.removeEventListener("resize",this.onResizeWindow)}render(){const{portal:S,menu:D}=this;return(0,q.createPortal)(D,S)}get menu(){const{isOpen:S,mode:D,menuBaseClassName:H,menuClassName:re,menu:P,menuList:W,arrowed:ee,menuX:ae,menuBasedX:ie,currentMenuListItemIdx:xe,onSelect:je}=this.props,{isDownward:Re}=this.state,ze=(0,N.Hn)(["DropdownMenu",D,S&&"is-open",Re?"is-downward":"is-upward","x-"+ae,ee&&"arrowed "+(ie?"x-menu-based":"x-arrow-based"),re]);return(0,K.jsx)(Y,{ref:this.menuBaseRef,className:(0,N.Hn)(["DropdownMenuBase",H]),children:(0,K.jsxs)(R,{className:ze,children:[ee&&(0,K.jsx)("span",{className:"arrow",dangerouslySetInnerHTML:{__html:N.t4.mr}}),(0,K.jsx)("div",{className:"content",children:W?(0,K.jsx)("ul",{className:"MenuList",children:W.map((He,Ze)=>(0,K.jsx)("li",{role:"option","data-idx":Ze,className:(0,N.Hn)([He.isDisabled&&"is-disabled",Ze===Number(xe)&&"is-active"]),onClick:He.isDisabled?void 0:je,children:He.label||He},Ze))}):P}),S&&(0,K.jsx)(A.A,{target:document,onClick:(0,A.t)(this.onClickOutside,{capture:!0})}),S&&(0,K.jsx)(A.A,{target:document,onScroll:(0,A.t)(this.position,{capture:!0})})]})})}}r(M,"propTypes",{...b.propTypes,isOpen:k().bool,$opener:k().instanceOf(Element),onSelect:k().func,onClose:k().func})},22379:(Me,de,n)=>{"use strict";n.d(de,{A:()=>oe});var i=n(51044),h=n(66748),C=n.n(h),d=n(23485),I=n(28149),q=n(21676);const U=q.Ay.span.withConfig({displayName:"styled__StyledEllipsis",componentId:"sc-z4nkzm-0"})(["null"]);var k=n(57464);function A($,X,R){return(X=N(X))in $?Object.defineProperty($,X,{value:R,enumerable:!0,configurable:!0,writable:!0}):$[X]=R,$}function N($){var X=O($,"string");return typeof X=="symbol"?X:X+""}function O($,X){if(typeof $!="object"||!$)return $;var R=$[Symbol.toPrimitive];if(R!==void 0){var Y=R.call($,X||"default");if(typeof Y!="object")return Y;throw new TypeError("@@toPrimitive must return a primitive value.")}return(X==="string"?String:Number)($)}class oe extends i.PureComponent{constructor(){var X;super(...arguments),X=this,A(this,"state",{isTruncated:!1,isDetected:!1}),A(this,"set$ellipsis",R=>Object.assign(this,{$ellipsis:R.current})),A(this,"detectTruncation",function(R){return R===void 0&&(R=X.$ellipsis),R.offsetWidth<R.scrollWidth})}componentDidMount(){return this.setState({isDetected:!0,isTruncated:this.detectTruncation()})}componentDidUpdate(X){let{children:R}=X;const{children:Y}=this.props,{isDetected:K}=this.state;if(R!==Y)return this.setState({isDetected:!1});if(!K)return this.setState({isDetected:!0,isTruncated:this.detectTruncation()})}render(){const{className:X,to:R,type:Y,max:K,display:r,lang:v,theme:x,noTooltip:g,withTooltip:c,withQuote:y,withPeriod:b,withComma:M,withQuestionMark:L,children:S,...D}=this.props,{isTruncated:H,isDetected:re}=this.state,P={children:S},W=re&&(H?"is-truncated":"isnt-truncated"),ee={type:R?"link":"inline",theme:x,className:(0,I.Hn)(["Ellipsis",W,X,(y||b||M||L)&&"Punctuation",y&&"with-quote",b&&"with-period",M&&"with-comma",L&&"with-question-mark"]),href:R,"data-type":Y,"data-max":K,style:{display:r,maxWidth:isFinite(K)?K+"em":K},content:(c||H)&&!g&&(0,k.jsx)("div",{lang:v,className:"EllipsisTip",...P}),children:S,setRef:this.set$ellipsis,...D},ae=(0,k.jsx)(d.A,{...ee});return y||b||M||L?(0,k.jsx)(U,{className:(0,I.Hn)(["Punctuation",y&&"with-quote",b&&"with-period",M&&"with-comma",L&&"with-question-mark",W]),children:ae}):ae}}A(oe,"propTypes",{className:C().string,theme:C().oneOf(["core","plain"]),type:C().oneOf(["user","id","email","org","team","app","widget"]),max:C().oneOfType([C().string,C().number]),display:C().oneOf(["inline-block","block"]),lang:C().string,to:C().string,children:C().node,noTooltip:C().bool,withTooltip:C().bool,withQuote:C().bool,withComma:C().bool,withPeriod:C().bool,withQuestionMark:C().bool}),A(oe,"defaultProps",{lang:"en",theme:"core"})},99739:(Me,de,n)=>{"use strict";n.d(de,{eB:()=>P,Ay:()=>re});var i=n(51044),h=n(60185),C=n(66748),d=n.n(C),I=n(480),q=n(60260),U=n.n(q),k=n(77017),A=n.n(k),N=n(98236),O=n.n(N),oe=n(17956),$=n.n(oe),X=n(90503),R=n(22379),Y=n(28149),K=n(29584),r=n(21676);const v=r.Ay.label.withConfig({displayName:"styles__StyledSelectLabel",componentId:"sc-grbgid-0"})(["display:inline-flex;justify-content:space-between;align-items:center;max-width:100%;min-width:3em;height:34px;color:#5b6b73;cursor:pointer;transition:all 0.2s ease-out;button{flex:1;width:calc(100% - 2em);height:100%;text-align:start;cursor:inherit;}.caret{margin:0 0.75em 0 1em;line-height:0;color:#8d9ea7;svg{display:block;width:6px;height:4px;fill:currentColor;fill-rule:evenodd;transform:rotate(180deg);transition:all 0.3s ease-out;}}&:not(.unstyled){padding-left:.5em;background-color:#f6f7f8;border:1px solid #f2f2f3;border-radius:2px;}&.small{height:22px;font-size:12px;.caret{margin-right:0.5em;}}&:not(.is-disabled):not(.readonly):not(.unstyled):hover,&:not(.unstyled).is-open{border-color:#298df8;}&.is-open{&:not(.unstyled){background-color:#fff;box-shadow:0 0 6px 0 rgba(41,141,248,.5);}.caret svg{transform:rotate(0deg);}}&.is-disabled{cursor:not-allowed;opacity:0.6;}&.readonly{cursor:default}&.CoreSelect:not(.unstyled){background-color:#fff;border:1px solid #c8cdd1;}"]),x=r.Ay.div.withConfig({displayName:"styles__StyledSelectMenuBase",componentId:"sc-grbgid-1"})(["position:fixed;pointer-events:none;z-index:1100;"]),g=r.Ay.ul.withConfig({displayName:"styles__StyledSelectMenu",componentId:"sc-grbgid-2"})(["position:absolute;margin:2px 0;padding:0;display:block;max-width:20em;min-width:100%;min-height:30px;max-height:300px;overflow-x:hidden;overflow-y:auto;pointer-events:none;font-size:12px;list-style:none;background-color:#fff;border-radius:3px;box-shadow:0 2px 10px 0 rgba(39,54,78,0.08),4px 12px 40px 0 rgba(39,54,78,0.1);color:#5b6b73;transition:0.2s ease-out;transition-property:transform,opacity;transform-origin:50% 0;&::-webkit-scrollbar{display:block;width:4px;height:4px;}&::-webkit-scrollbar-thumb{background-color:#ccc;border-radius:2px;}&::-webkit-scrollbar-track{background-color:rgba(255,255,255,0.5);}&.is-empty{width:-moz-fit-content;width:-webkit-fit-content;width:fit-content;}&:not(.is-open){opacity:0;transform:scale(0.8);}&.x-center{left:50%;transform:translateX(-50%);&:not(.is-open){transform:scale(0.8) translateX(-50%);}}&.x-right{right:0;}&.is-downward{top:100%;bottom:initial;}&.is-upward{transform-origin:50% 100%;top:initial;bottom:100%;}&.is-open{opacity:1;pointer-events:initial;}&.cant-select .SelectOption{cursor:default;}.SelectGroup{> .title{padding:0 0.75em;width:100%;height:30px;line-height:30px;font-weight:bold;}> ul{margin:0;padding:0;}}.SelectOption{display:flex;align-items:center;height:30px;line-height:30px;cursor:pointer;> .Ellipsis{padding:0 0.75em;}> .svg-icon{margin-left:auto;margin-right:0.75em;&.check path{fill:#5b6b73;}}&.is-disabled{cursor:not-allowed;opacity:0.5;}&.is-active{color:#298df8;}&:not(.empty-msg):not(.is-disabled):hover,&.is-active{background-color:#f6f7f8;}&.empty-msg{padding:0 0.5em;color:#8d9ea7;cursor:not-allowed;}}&.CheckSelectMenu{&:not(.is-empty){padding:6px 0;}.SelectOption{height:32px;.Ellipsis{padding:0 16px;}.Ellipsis + .icon{margin-right:10px;}&:hover,&.is-active:hover{color:#298df8;}&.is-active{background:none;color:inherit;}}}&.CoreSelectMenu{margin:4px 0;&:not(.is-empty){padding:8px;min-height:48px;max-height:336px;}.SelectGroup > .title,.SelectOption{height:32px;line-height:32px;border-radius:2px;}}"]);var c=n(57464);function y(ae,ie,xe){return(ie=b(ie))in ae?Object.defineProperty(ae,ie,{value:xe,enumerable:!0,configurable:!0,writable:!0}):ae[ie]=xe,ae}function b(ae){var ie=M(ae,"string");return typeof ie=="symbol"?ie:ie+""}function M(ae,ie){if(typeof ae!="object"||!ae)return ae;var xe=ae[Symbol.toPrimitive];if(xe!==void 0){var je=xe.call(ae,ie||"default");if(typeof je!="object")return je;throw new TypeError("@@toPrimitive must return a primitive value.")}return(ie==="string"?String:Number)(ae)}const L="IBOT_SELECT_MENU_ROOT",S={"zh-CN":{select_placeholder:"\u9009\u62E9\u4E00\u4E2A...",select_empty_msg:"\u6682\u65E0\u5185\u5BB9..."},en:{select_placeholder:"Choose one\u2026",select_empty_msg:"Nothing to display\u2026"}},D=document.getElementById(L)||Object.assign(document.createElement("div"),{id:L}),H=document.body;H.contains(D)||H.appendChild(D);class re extends i.PureComponent{constructor(){super(...arguments),y(this,"state",{isOpen:!1,prevProps:this.props,value:this.props.value}),y(this,"set$select",ie=>this.setState({$select:ie})),y(this,"open",()=>this.setState({isOpen:!0})),y(this,"close",()=>this.setState({isOpen:!1})),y(this,"toggle",()=>this.setState({isOpen:!this.state.isOpen})),y(this,"onResizeWindow",()=>this.state.isOpen&&this.close()),y(this,"onChange",async ie=>{const{onChange:xe,beforeOnChange:je}=this.props,Re=()=>{this.close(),xe(ie)};if(!je){this.setState({value:ie},Re);return}if(await je(ie)){this.setState({value:ie},Re);return}Re()}),y(this,"onSelect",async ie=>{let{currentTarget:xe}=ie;const{value:je}=this.props,{canSelect:Re}=this;await this.onChange(Re?xe.dataset.value:je)})}static getDerivedStateFromProps(ie,xe){let{prevProps:je,value:Re}=xe;return O()(je,ie)?null:{prevProps:ie,value:ie.value}}componentDidMount(){window.addEventListener("resize",this.onResizeWindow)}componentWillUnmount(){window.removeEventListener("resize",this.onResizeWindow)}get isDisabled(){const{isDisabled:ie,disabled:xe}=this.props;return ie||xe}get readOnly(){return this.props.readOnly}get canSelect(){const{isDisabled:ie,readOnly:xe}=this;return!ie&&!xe}get displayText(){const{optionList:ie,placeholder:xe,optionLabelProp:je}=this.props,{value:Re}=this.state,He=(ie.find(Ze=>A()(Ze)&&Ze.slice(0).some(qe=>(0,Y.o3)(qe,Re)))||ie).find(Ze=>!A()(Ze)&&(0,Y.o3)(Ze,Re));return He?(0,Y.Oi)(He,je):xe||S[this.props.lang].select_placeholder}render(){const{size:ie,theme:xe,unstyled:je,className:Re,menuX:ze}=this.props,{isOpen:He,$select:Ze,value:qe}=this.state,{isDisabled:we,readOnly:Q,canSelect:Z}=this,me=(0,Y.Hn)([xe==="core"?"CoreSelect":"Select",ie,je&&"unstyled",Re,He&&"is-open",we&&"is-disabled",Q&&"readonly"]);return(0,c.jsxs)(v,{className:me,role:"listbox",ref:this.set$select,children:[(0,c.jsx)("button",{type:"button",onClick:this.toggle,disabled:we,children:(0,c.jsx)(R.A,{children:this.displayText})}),typeof this.props.arrowSvg=="string"?(0,c.jsx)("span",{className:"caret",dangerouslySetInnerHTML:{__html:this.props.arrowSvg}}):(0,c.jsx)("span",{className:"caret",children:this.props.arrowSvg}),(0,c.jsx)(P,{isOpen:He,...this.props,value:qe,$select:Ze,canSelect:Z,onChange:this.onSelect,onClose:this.close,menuX:ze})]})}}y(re,"propTypes",{size:d().oneOf(["regular","small"]),theme:d().oneOf(["core","plain"]),menuTheme:d().oneOf(["core","plain","check"]),unstyled:d().bool,className:d().string,menuClassName:d().string,lang:d().string,placeholder:d().string,optionList:d().arrayOf(d().oneOfType([d().node,d().shape({label:d().node,value:d().any,isDisabled:d().bool}),d().arrayOf(d().oneOfType([d().node,d().shape({label:d().node,value:d().any,isDisabled:d().bool})]))])).isRequired,value:d().oneOfType([d().number,d().string]),isDisabled:d().bool,disabled:d().bool,readOnly:d().bool,onChange:d().func,menuX:d().oneOf(["left","center","right"]),optionLabelProp:d().string,arrowSvg:d().oneOfType([d().string,d().node])}),y(re,"defaultProps",{size:"regular",theme:"plain",menuTheme:"plain",className:"",menuClassName:"",lang:"zh-CN",optionList:[],isDisabled:!1,onChange:()=>null,menuX:"left",arrowSvg:Y.t4.rH});class P extends i.PureComponent{constructor(){super(...arguments),y(this,"state",{isDownward:!0}),y(this,"portal",(0,Y.ep)(D,"SelectMenuPortal")),y(this,"menuBaseRef",(0,i.createRef)()),y(this,"position",ie=>{const{$select:xe,menuX:je}=this.props,{menuBaseRef:{current:Re}}=this;if(ie){const He=U()(ie,"target");if(He&&$()(He)&&He.matches(".SelectMenu"))return}const{isDownward:ze}=(0,K.d)({$menuBase:Re,$opener:xe,menuX:je,shouldSetMaxHeight:!0});this.setState({isDownward:ze})}),y(this,"onChange",ie=>{const{onChange:xe}=this.props,{isDownward:je}=this.state,Re=ie.currentTarget,ze=Re.closest(".SelectMenu, .CoreSelectMenu, .CheckSelectMenu");if(!Re||!ze)return this.onlose();const{top:He,bottom:Ze}=Re.getBoundingClientRect(),{top:qe,bottom:we}=ze.getBoundingClientRect();return je&&He>=qe||!je&&Ze<=we?Re.classList.contains("title")?void 0:xe(ie):this.onClose()}),y(this,"onClose",()=>{const{onClose:ie}=this.props;ie()}),y(this,"scrollIntoActive",()=>{const{menuBaseRef:{current:ie}}=this,xe=(0,Y.$)("li[role=option].is-active",ie);xe&&xe.scrollIntoView({block:"start"})}),y(this,"onClickOutside",ie=>{let{target:xe}=ie;const{$select:je}=this.props,Re=!D.contains(xe),ze=xe.closest("label"),He=ze&&ze.contains(je);Re&&!He&&this.onClose()})}componentDidMount(){const{menuBaseRef:{current:ie}}=this;(0,Y.sA)((0,Y.$)(".SelectMenu",ie))}componentDidUpdate(ie){let{isOpen:xe}=ie;const{isOpen:je}=this.props;!xe&&je&&(this.position(),this.scrollIntoActive())}componentWillUnmount(){this.portal&&this.portal.remove()}render(){return(0,h.createPortal)(this.menu,this.portal)}get menu(){const{isOpen:ie,isDisabled:xe,menuTheme:je,menuClassName:Re,menuX:ze,optionList:He,lang:Ze,emptyMsg:qe,value:we,canSelect:Q}=this.props,{isDownward:Z}=this.state,me=He.length===0,Se=(0,Y.Hn)([je==="core"?"CoreSelectMenu":je==="check"?"CheckSelectMenu":"SelectMenu",Re,"x-"+ze,ie&&"is-open",Z?"is-downward":"is-upward",xe&&"is-disabled",me&&"is-empty",Q?"can-select":"cant-select"]);return(0,c.jsx)(x,{ref:this.menuBaseRef,className:"SelectMenuBase",children:(0,c.jsxs)(g,{className:Se,onTransitionEnd:this.onTransitionEnd,children:[me?(0,c.jsx)("li",{className:"SelectOption empty-msg",children:qe||S[Ze].select_empty_msg}):He.map((Ne,Ke)=>A()(Ne)?(0,c.jsx)(W,{menuTheme:je,optionList:Ne,value:we,onChange:this.onChange},Ke):(0,c.jsx)(ee,{menuTheme:je,isActive:(0,Y.o3)(Ne,we),option:Ne,isDisabled:Ne.isDisabled,onChange:this.onChange},Ke)),ie&&(0,c.jsx)(I.A,{target:document,onClick:(0,I.t)(this.onClickOutside,{capture:!0})}),ie&&(0,c.jsx)(I.A,{target:document,onScroll:(0,I.t)(this.position,{capture:!0})})]})})}}y(P,"propTypes",{...re.propTypes,isOpen:d().bool,canSelect:d().bool,onChange:d().func,onClose:d().func,$select:d().instanceOf(Element)}),y(P,"defaultProps",{isOpen:!1});function W(ae){let{value:ie,optionList:[xe,...je],menuTheme:Re,onChange:ze}=ae;return(0,c.jsxs)("li",{className:"SelectGroup",children:[(0,c.jsx)(R.A,{className:"title",onClick:ze,children:xe}),(0,c.jsx)("ul",{children:je.map((He,Ze)=>(0,c.jsx)(ee,{menuTheme:Re,option:He,isActive:(0,Y.o3)(He,ie),isDisabled:He.isDisabled,onChange:ze},Ze))})]})}W.propTypes={optionList:d().array,onChange:d().func,menuTheme:d().string,value:d().string};function ee(ae){let{option:ie,isActive:xe,isDisabled:je,menuTheme:Re,onChange:ze}=ae;const He=(0,Y.Hn)(["SelectOption",xe&&"is-active",je&&"is-disabled"]),Ze=(0,Y.Oi)(ie),qe=(0,Y.nE)(ie);return(0,c.jsxs)("li",{role:"option","data-value":qe,className:He,onClick:je?void 0:ze,children:[(0,c.jsx)(R.A,{children:Ze}),Re==="check"&&xe&&(0,c.jsx)(X.A,{name:"check"})]})}ee.propTypes={option:d().oneOfType([d().node,d().object]),isActive:d().bool,isDisabled:d().bool,menuTheme:d().string,onChange:d().func}},10481:(Me,de,n)=>{"use strict";n.d(de,{eB:()=>Ze,Ay:()=>He});var i=n(51044),h=n(60185),C=n(66748),d=n.n(C),I=n(480),q=n(60260),U=n.n(q),k=n(77017),A=n.n(k),N=n(98236),O=n.n(N),oe=n(17956),$=n.n(oe),X=n(22379),R=n(28149),Y=n(67231),K=n.n(Y),r=n(68431),v=n.n(r);const x=9;function g(Q){let{$opener:Z,$menuBase:me,menuBaseStyle:Se={},inflexible:Ne=!1,shouldSetMaxHeight:Ke=!1,$menuContainer:s,$fontTip:Oe}=Q;if(!Z||!me)return;const Je=me.querySelector("*"),ft=((0,R.$)("li[role=option].is-active",Je)||(0,R.$)("li[role=option]",Je)||(0,R.$)("li[role=empty-msg]",Je)).getBoundingClientRect(),yt=Je.getBoundingClientRect(),dt={styleFor$menuBase:{},styleFor$menu:{},styleFor$menuContainer:{},styleFor$fontTip:{}},_t=hn=>Object.assign(dt.styleFor$menuBase,hn),he=hn=>Object.assign(dt.styleFor$menu,hn),be=hn=>Object.assign(dt.styleFor$menuContainer,hn),Ee=hn=>Object.assign(dt.styleFor$fontTip,hn),{offsetHeight:Ge}=Je,$e=Se.width||Z.offsetWidth,gt=Se.height||Z.offsetHeight,Wt=Z.getBoundingClientRect(),{top:Et,bottom:Ht,left:Kt}=Object.assign({top:Wt.top,right:Wt.right,bottom:Wt.bottom,left:Wt.left},Se);_t({top:Et+"px",left:Kt+"px",width:$e+"px",height:gt+"px"});const{innerHeight:Xt}=window,On=10,En=Xt-10,Tt=Et+gt;let pn=0,on=0;const Cn=(ft.top-yt.top)/.8;D(yt,ft)?pn=-Math.min(Cn,Et):(on=ft.bottom/.8-yt.bottom/.8,pn=-Cn+on);let Pn=0;return Oe&&(Pn=Oe.getBoundingClientRect().height),Tt+Ge+x+pn+Pn<Xt?(dt.isDownward=!0,D(yt,ft)?(be({top:pn+"px"}),Oe&&Ee({top:pn+yt.height/.8+"px",width:yt.width/.8+"px"})):(be({top:pn+"px"}),s.scrollTop=on,Oe&&Ee({top:pn+yt.height/.8+"px",width:yt.width/.8+"px"})),Ke&&Ht+Ge>En&&he({maxHeight:En-Ht+"px"})):(dt.isDownward=!1,Ke&&Et-Ge<On&&he({maxHeight:Et-On+"px"})),Object.assign(me.style,dt.styleFor$menuBase),Object.assign(Je.style,dt.styleFor$menu),Object.assign(s.style,dt.styleFor$menuContainer),Oe&&Object.assign(Oe.style,dt.styleFor$fontTip),dt}function c(Q,Z){return v()(Q)||K()(Q)||(0,i.isValidElement)(Q)?Q:Q[Z||"label"]?Q[Z||"label"]:void 0}function y(Q){return v()(Q)||K()(Q)?String(Q):Q.value||Q.label?String(Q.value||Q.label):void 0}function b(Q){return v()(Q)||K()(Q)?String(Q):Q.ItemIcon?String(Q.ItemIcon):void 0}function M(Q){return v()(Q)||K()(Q)?String(Q):Q.shortcutKey?String(Q.shortcutKey):void 0}function L(Q,Z){return!!Z&&y(Q)===String(Z)}const S='<svg width="10" height="10" ><path d="M5 5.255l1.87-2.043a.623.623 0 0 1 .936 0 .77.77 0 0 1 0 1.022L5.468 6.788a.623.623 0 0 1-.936 0L2.194 4.234a.77.77 0 0 1 0-1.022.623.623 0 0 1 .935 0L5 5.255z" /></svg>';function D(Q,Z){return Z.top/.8>=Q.top/.8&&Z.bottom/.8<=Q.bottom/.8}var H=n(21676);const re=H.Ay.label.withConfig({displayName:"styles__StyledSelect",componentId:"sc-tgxfzg-0"})(["position:relative;display:inline-flex;align-items:center;max-width:100%;min-width:3em;height:28px;font-size:12px;color:#5b6b73;cursor:pointer;button{display:block;height:100%;color:#1F292E;text-align:start;cursor:inherit;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;padding-left:8px;line-height:26px;}.caret{padding:0 11px;color:#7D8694;height:100%;display:inline-flex;align-items:center;svg{width:10px;height:10px;fill:currentColor;transition:transform 0.2s ease-out;}}&{padding-left:5px;border:1px solid transparent;border-radius:2px;}&.is-open{border-color:transparent;.caret{margin-left:auto;visibility:visible;svg{transform:rotate(180deg);}}}&:not(.is-disabled):not(.readonly):hover{border:1px solid transparent;.caret{padding:0 11px;}}&.is-disabled{cursor:not-allowed;opacity:0.6;}&.readonly{cursor:default;}"]),P=H.Ay.div.withConfig({displayName:"styles__StyledSelectMenu",componentId:"sc-tgxfzg-1"})(["position:fixed;pointer-events:none;z-index:1100;.WorkspaceSelectMenu{position:absolute;padding:8px 0;display:block;max-width:20em;min-width:100%;min-height:30px;max-height:300px;overflow-x:hidden;overflow-y:auto;list-style:none;box-shadow:0 2px 8px 0 rgba(0,0,0,0.1);color:#fff;border-radius:2px;background-color:#1f292e;pointer-events:all;transition-property:transform,opacity;transform-origin:50% 0;margin:0;&::-webkit-scrollbar{display:block;width:6px;height:6px;}&::-webkit-scrollbar-thumb{background-color:rgba(255,255,255,0.25);border-radius:4px;&:hover{background-color:rgba(255,255,255,0.30);}}&::-webkit-scrollbar-track{background-color:rgba(#fff,0.5);}&.is-empty{width:fit-content;}&:not(.is-open){opacity:0;transform:scale(0.8);}&.is-downward{top:100%;bottom:initial;}&.is-upward{transform-origin:50% 100%;top:initial;bottom:100%;}&.is-open{opacity:1;pointer-events:initial;border-radius:4px;background-color:#333;width:160px;padding:8px 0px;}> .divider{border-bottom:1px solid rgba(255,255,255,.1);margin:5px;}.SelectOption{display:flex;align-items:center;height:24px;line-height:24px;cursor:pointer;font-size:12px;font-weight:400;& > .Ellipsis{padding:0 16px 0 32px;min-width:160px;}&.is-disabled{cursor:not-allowed;opacity:0.5;}&.is-active{color:#fff;mix-blend-mode:normal;position:relative;}.shortcutkey{color:#999;float:right;}.svg-icon3 svg{color:#f2f4f5;width:12px;height:12px;position:relative;top:2px;}&.is-active .svg-icon2 svg{width:8px;height:6px;position:absolute;left:12px;top:9px;}&:not(.empty-msg):not(.is-disabled):not(.is-active):hover{background-color:#666;color:#fff;}&.empty-msg{padding:0 0.5em;color:#8d9ea6;cursor:not-allowed;}}&.cant-select .SelectOption{cursor:default;}.SelectGroup{.divider{height:1px;margin:4px 16px;background:#7d8694;}& > .title{font-size:12px;padding:0 8px 0 16px;width:100%;height:30px;line-height:30px;color:rgba(255,255,255,0.7);span{display:block;}}& > ul{margin:0;padding:0;}}}.font-select-menu-tip{position:absolute;margin-top:-1px;padding:8px 16px;font-size:10px;box-shadow:0 2px 10px 0 rgba(39,54,78,0.08),4px 12px 40px 0 rgba(39,54,78,0.1);color:#fff;background-color:#1f292e;border-radius:0 0 2px 2px;pointer-events:auto;transition:opacity 0.2s ease-in;.font-link{color:#fff;margin-left:10px;text-decoration:underline;}&:not(.is-show){opacity:0;}&.is-show{opacity:1;color:rgba(255,255,255,1);}}"]);var W=n(90503),ee=n(57464);function ae(Q,Z,me){return(Z=ie(Z))in Q?Object.defineProperty(Q,Z,{value:me,enumerable:!0,configurable:!0,writable:!0}):Q[Z]=me,Q}function ie(Q){var Z=xe(Q,"string");return typeof Z=="symbol"?Z:Z+""}function xe(Q,Z){if(typeof Q!="object"||!Q)return Q;var me=Q[Symbol.toPrimitive];if(me!==void 0){var Se=me.call(Q,Z||"default");if(typeof Se!="object")return Se;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Z==="string"?String:Number)(Q)}const je="IBOT_SELECT_MENU_ROOT",Re=document.getElementById(je)||Object.assign(document.createElement("div"),{id:je}),ze=document.body;ze.contains(Re)||ze.appendChild(Re);class He extends i.PureComponent{constructor(){super(...arguments),ae(this,"state",{isOpen:!1,prevProps:this.props,value:this.props.value}),ae(this,"set$select",Z=>this.setState({$select:Z})),ae(this,"open",()=>this.setState({isOpen:!0})),ae(this,"close",()=>this.setState({isOpen:!1})),ae(this,"toggle",()=>{const Z=!this.state.isOpen;this.setState({isOpen:Z}),Z?this.props.onOpen():this.props.onClose()}),ae(this,"onResizeWindow",()=>this.state.isOpen&&this.close()),ae(this,"onChange",Z=>this.setState({value:Z},()=>{this.close(),this.props.onChange(Z,this.props.attr)})),ae(this,"onSelect",Z=>{let{currentTarget:me}=Z;const{value:Se}=this.props,{canSelect:Ne}=this;return this.onChange(Ne?me.dataset.value:Se)})}static getDerivedStateFromProps(Z,me){let{prevProps:Se,value:Ne}=me;return O()(Se,Z)?null:{prevProps:Z,value:Z.value}}componentDidMount(){window.addEventListener("resize",this.onResizeWindow)}componentWillUnmount(){window.removeEventListener("resize",this.onResizeWindow)}get isDisabled(){const{isDisabled:Z,disabled:me}=this.props;return Z||me}get readOnly(){return this.props.readOnly}get canSelect(){const{isDisabled:Z,readOnly:me}=this;return!Z&&!me}get displayText(){const{optionList:Z,placeholder:me,optionLabelProp:Se}=this.props,{value:Ne}=this.state,s=(Z.find(Oe=>A()(Oe)&&Oe.slice(0).some(Je=>L(Je,Ne)))||Z).find(Oe=>!A()(Oe)&&L(Oe,Ne));return s?c(s,Se):me}render(){const{size:Z,unstyled:me,className:Se,onMouseEnter:Ne,onMouseLeave:Ke,arrowSvg:s}=this.props,{isOpen:Oe,$select:Je,value:st}=this.state,{isDisabled:ft,readOnly:yt,canSelect:dt}=this,_t=(0,R.Hn)(["WorkspaceSelect",Z,me&&"unstyled",Se,Oe&&"is-open",ft&&"is-disabled",yt&&"readonly"]);return(0,ee.jsxs)(re,{className:_t,role:"listbox",ref:this.set$select,children:[(0,ee.jsx)("button",{onClick:this.toggle,disabled:ft,children:this.displayText}),typeof s=="string"?(0,ee.jsx)("span",{className:"caret",dangerouslySetInnerHTML:{__html:s}}):(0,ee.jsx)("span",{className:"caret",children:s}),Oe&&(0,ee.jsx)(Ze,{isOpen:Oe,...this.props,value:st,$select:Je,canSelect:dt,onChange:this.onSelect,onMouseEnter:Ne,onMouseLeave:Ke,onClose:this.close})]})}}ae(He,"propTypes",{size:d().oneOf(["regular","small"]),theme:d().oneOf(["core","plain"]),menuTheme:d().oneOf(["core","plain","check"]),unstyled:d().bool,className:d().string,menuClassName:d().string,placeholder:d().string,optionList:d().arrayOf(d().oneOfType([d().node,d().shape({label:d().node,shortcutKey:d().node,tooltipWrapper:d().func,ItemIcon:d().node,value:d().any,isDisabled:d().bool}),d().arrayOf(d().oneOfType([d().node,d().shape({label:d().node,ItemIcon:d().node,value:d().any,shortcutKey:d().node,tooltipWrapper:d().func,isDisabled:d().bool})]))])).isRequired,value:d().oneOfType([d().number,d().string]),isDisabled:d().bool,disabled:d().bool,readOnly:d().bool,onChange:d().func,onMouseEnter:d().func,onMouseLeave:d().func,onOpen:d().func,onClose:d().func,optionLabelProp:d().string,arrowSvg:d().oneOfType([d().string,d().node])}),ae(He,"defaultProps",{size:"regular",theme:"plain",menuTheme:"plain",className:"",menuClassName:"",placeholder:"Choose one\u2026",emptyMsg:"Nothing to display\u2026",optionList:[],isDisabled:!1,arrowSvg:S,onChange:()=>null,onMouseEnter:()=>null,onMouseLeave:()=>null,onOpen:()=>null,onClose:()=>null});class Ze extends i.PureComponent{constructor(){super(...arguments),ae(this,"state",{isDownward:!0}),ae(this,"portal",(0,R.ep)(Re,"SelectMenuPortal")),ae(this,"menuBaseRef",(0,i.createRef)()),ae(this,"menuContainerRef",(0,i.createRef)()),ae(this,"position",Z=>{const{$select:me}=this.props,{menuBaseRef:{current:Se},menuContainerRef:{current:Ne}}=this;if(Z){const s=U()(Z,"target");if(s&&$()(s)&&s.matches(".WorkspaceSelectMenu"))return}const{isDownward:Ke}=g({$menuBase:Se,$opener:me,shouldSetMaxHeight:!1,$menuContainer:Ne});this.setState({isDownward:Ke,isTransform:!0})}),ae(this,"onChange",Z=>{const{onChange:me}=this.props,{isDownward:Se}=this.state,Ne=Z.currentTarget,Ke=Ne.closest(".WorkspaceSelectMenu");if(!Ne||!Ke)return this.onlose();const{top:s,bottom:Oe}=Ne.getBoundingClientRect(),{top:Je,bottom:st}=Ke.getBoundingClientRect();return Se&&s>=Je||!Se&&Oe<=st?Ne.classList.contains("title")?void 0:me(Z):this.onClose()}),ae(this,"onClose",()=>{const{onClose:Z}=this.props;Z()}),ae(this,"onClickOutside",Z=>{let{target:me}=Z;const{$select:Se}=this.props,Ne=!Re.contains(me),Ke=me.closest("label"),s=Ke&&Ke.contains(Se);Ne&&!s&&this.onClose()})}componentDidMount(){const{menuBaseRef:{current:Z}}=this;(0,R.sA)((0,R.$)(".WorkspaceSelectMenu",Z)),this.position()}componentWillUnmount(){this.portal&&this.portal.remove()}render(){return(0,h.createPortal)(this.menu,this.portal)}get menu(){const{isOpen:Z,isDisabled:me,menuTheme:Se,menuClassName:Ne,optionList:Ke,emptyMsg:s,value:Oe,canSelect:Je,onMouseEnter:st,onMouseLeave:ft}=this.props,{isDownward:yt,isTransform:dt}=this.state,_t=Ke.length===0,he=(0,R.Hn)(["WorkspaceSelectMenu",Ne,dt&&"is-open",yt?"is-downward":"is-upward",me&&"is-disabled",_t&&"is-empty",Je?"can-select":"cant-select"]);return(0,ee.jsxs)(P,{ref:this.menuBaseRef,children:[(0,ee.jsx)("ul",{className:he,ref:this.menuContainerRef,children:_t?(0,ee.jsx)("li",{className:"SelectOption empty-msg",role:"empty-msg",children:s}):Ke.map((be,Ee)=>A()(be)?(0,ee.jsx)(qe,{menuTheme:Se,optionList:be,value:Oe,onChange:this.onChange,onMouseEnter:st,onMouseLeave:ft},Ee):(0,ee.jsx)(we,{menuTheme:Se,isActive:L(be,Oe),option:be,isDisabled:be.isDisabled,onChange:this.onChange,onMouseEnter:st,onMouseLeave:ft},Ee))}),Z&&(0,ee.jsx)(I.A,{target:document,onClick:this.onClickOutside})]})}}ae(Ze,"propTypes",{...He.propTypes,isOpen:d().bool,canSelect:d().bool,onChange:d().func,onClose:d().func,$select:d().instanceOf(Element)}),ae(Ze,"defaultProps",{isOpen:!1,isTransform:!1});function qe(Q){let{value:Z,optionList:[me,...Se],menuTheme:Ne,onChange:Ke,onMouseEnter:s,onMouseLeave:Oe}=Q;return(0,ee.jsxs)("li",{className:"SelectGroup",children:[me==="HIDDELINE"?null:me==="DIVIDER"?(0,ee.jsx)("div",{className:"divider"}):(0,ee.jsx)(X.A,{className:"title",onClick:Ke,children:me}),(0,ee.jsx)("ul",{children:Se.map((Je,st)=>(0,ee.jsx)(we,{menuTheme:Ne,option:Je,isActive:L(Je,Z),isDisabled:Je.isDisabled,onChange:Ke,onMouseEnter:s,onMouseLeave:Oe},st))})]})}qe.propTypes={value:d().oneOfType([d().string,d().number]),optionList:d().array,onChange:d().func,menuTheme:d().string,onMouseEnter:d().func,onMouseLeave:d().func};function we(Q){let{option:Z,isActive:me,isDisabled:Se,menuTheme:Ne,onChange:Ke,onMouseEnter:s,onMouseLeave:Oe}=Q;const Je=(0,R.Hn)(["SelectOption",me&&"is-active",Se&&"is-disabled"]),st=c(Z),ft=y(Z),yt=b(Z),dt=M(Z),{tooltipWrapper:_t}=Z;if(Z.type==="divider")return(0,ee.jsx)("li",{className:"divider"});const he=(0,ee.jsxs)("li",{role:"option","data-value":ft,className:Je,onClick:Se?void 0:Ke,onMouseEnter:s,onMouseLeave:Oe,children:[me&&(0,ee.jsx)("span",{className:"svg-icon2",children:(0,ee.jsx)(W.A,{name:"select_right"})}),(0,ee.jsxs)(X.A,{children:[(0,ee.jsxs)("span",{className:"svg-icon3",children:[(0,ee.jsx)(W.A,{name:yt})," "]})," ",st,"  ",(0,ee.jsxs)("span",{className:"shortcutkey",children:[dt," "]})]})]});return _t?_t(he):he}we.propTypes={isActive:d().bool,option:d().oneOfType([d().node,d().object]),isDisabled:d().bool,menuTheme:d().string,onChange:d().func,onMouseEnter:d().func,onMouseLeave:d().func}},11334:(Me,de,n)=>{"use strict";n.d(de,{Ay:()=>R});var i=n(51044),h=n(66748),C=n.n(h),d=n(70235),I=n.n(d),q=n(90503),U=n(28149),k=n(21676);const A=k.Ay.button.withConfig({displayName:"styled__StyledButton",componentId:"sc-1p06iev-0"})(["&.RegularButton,&.PrimaryButton,&.PrimaryCoreButton,&.RegularCoreButton,&.SecondaryCoreButton,&.TertiaryCoreButton{padding:0 0.5em;height:2.125rem;font-size:0.875rem;border:1px solid;border-radius:2px;cursor:pointer;transition:all 0.2s ease-out;&:not(button){display:inline-flex;justify-content:center;align-items:center;}&:disabled{cursor:not-allowed;opacity:0.6;}.icon{margin-right:0.125em;}&.small{height:2em;font-size:0.75rem;}.svg-icon.loading{margin-right:0.5em;vertical-align:-.15em;animation:ibot-ani-spinning 1.5s infinite ease-out;}}&.PrimaryCoreButton,&.RegularCoreButton,&.SecondaryCoreButton,&.TertiaryCoreButton{padding:0 1em;height:2.375rem;&.small{height:2em;}&:disabled{background-color:#f6f7f8;border-color:#dedee4;color:#c8cdd1;opacity:1;}}&.PrimaryCoreButton{background-color:#eb5648;&,&:link,&:visited{border-color:transparent;color:#fff;}&:enabled:hover,a&:hover{background-color:#ef776c;color:#fff;}&:enabled:active,a&:active{background-color:#bc4439;color:#e4b4b0;}}&.RegularCoreButton,&.SecondaryCoreButton{background-color:#fff;&,&:link,&:visited{color:#eb5648;}&:enabled:hover,a&:hover{border-color:#ffa39e;color:#ef776c;}&:enabled:active,a&:active{border-color:#e84030;color:#bc4439;}}&.TertiaryCoreButton{background-color:#fff;border-color:#c8cdd1;&,&:link,&:visited{color:#415058;}&:enabled:hover,a&:hover{background-color:#8d9ea7;border-color:#7d8694;color:#fff;}&:enabled:active,a&:active{background-color:#5b6b73;border-color:#415058;}}&.RegularButton{&,&:link,&:visited{color:#8d9ea7;}&:enabled:hover,a&:hover{color:#5b6b73;}&:disabled{opacity:0.6;}}&.PrimaryButton{background-color:#8d9ea7;border-color:transparent;&,&:link,&:visited{color:#fff;}&:enabled:hover,a&:hover{background-color:#5b6b73;color:#fff;}&:enabled:active,a&:active{color:rgba(255,255,255,0.6);}}&.TextButton,&.TextCoreButton{transition:all 0.1s ease-out;&,&:link,&:visited{color:#298df8;}&:disabled{cursor:not-allowed;opacity:0.6;}&:enabled:hover,a&:hover{color:#0d7ef7;text-decoration:underline;}.svg-icon.loading{margin-right:0.25em;vertical-align:-.15em;animation:ibot-ani-spinning 1.5s infinite ease-out;}.icon{margin-right:0.125em;}&.small{height:2em;font-size:0.75rem;}}&.TextCoreButton{&,&:link,&:visited{color:#eb5648;}&:enabled:hover,a&:hover{color:#ef776c;text-decoration:none;}&:enabled:active,a&:active{color:#bc4439;}}"]);var N=n(57464);function O(v,x,g){return(x=oe(x))in v?Object.defineProperty(v,x,{value:g,enumerable:!0,configurable:!0,writable:!0}):v[x]=g,v}function oe(v){var x=$(v,"string");return typeof x=="symbol"?x:x+""}function $(v,x){if(typeof v!="object"||!v)return v;var g=v[Symbol.toPrimitive];if(g!==void 0){var c=g.call(v,x||"default");if(typeof c!="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(x==="string"?String:Number)(v)}const X={primary:"Primary",regular:"Regular",secondary:"Regular",tertiary:"Tertiary",text:"Text"};class R extends i.PureComponent{get className(){const{type:x,theme:g,size:c,className:y}=this.props,{isDisabled:b,isLoading:M}=this;return(0,U.Hn)(["Button",""+X[x]+(g==="core"?"CoreButton":"Button"),c!=="regular"&&c,M&&"is-loading",b&&"is-disabled",y])}get isDisabled(){const{isDisabled:x,disabled:g}=this.props;return x||g}get isLoading(){const{isLoading:x,loading:g}=this.props;return x||g}render(){const{className:x,isLoading:g,isDisabled:c}=this,{iconType:y,icon:b,children:M,...L}=this.props;return(0,N.jsx)(A,{className:x,disabled:c,onClick:S=>c&&S.preventDefault(),type:"button",...I()(L,["className","type","theme","isDisabled","disabled","isLoading","loading"]),children:(0,N.jsxs)(N.Fragment,{children:[g&&(0,N.jsx)(q.A,{name:"loading"}),b&&y==="svg"&&(0,N.jsx)(q.A,{name:b}),M]})})}}O(R,"propTypes",{type:C().oneOf(["primary","regular","secondary","tertiary","text"]),size:C().oneOf(["regular","small"]),theme:C().oneOf(["core","plain"]),iconType:C().oneOf(["svg","dora","mb","icon","fa","md"]),icon:C().string,className:C().string,isDisabled:C().bool,disabled:C().bool,isLoading:C().bool,loading:C().bool,children:C().any,html:C().string}),O(R,"defaultProps",{type:"regular",size:"regular",theme:"plain",icon:"",className:"",isDisabled:!1});function Y(v){return _jsx(R,{...v,theme:"core"})}function K(v){return _jsx(Y,{...v,type:"primary"})}function r(v){return _jsx(Y,{...v,type:"tertiary"})}},35736:function(Me){(function(de,n){Me.exports=n()})(this,function(){"use strict";return function(de,n,i){n.prototype.isBetween=function(h,C,d,I){var q=i(h),U=i(C),k=(I=I||"()")[0]==="(",A=I[1]===")";return(k?this.isAfter(q,d):!this.isBefore(q,d))&&(A?this.isBefore(U,d):!this.isAfter(U,d))||(k?this.isBefore(q,d):!this.isAfter(q,d))&&(A?this.isAfter(U,d):!this.isBefore(U,d))}}})},54466:function(Me){(function(de,n){Me.exports=n()})(this,function(){"use strict";return function(de,n){n.prototype.isSameOrBefore=function(i,h){return this.isSame(i,h)||this.isBefore(i,h)}}})},36410:Me=>{function de(n,i,h,C){var d=-1,I=n==null?0:n.length;for(C&&I&&(h=n[++d]);++d<I;)h=i(h,n[d],d,n);return h}Me.exports=de},38621:Me=>{var de=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function n(i){return i.match(de)||[]}Me.exports=n},52304:Me=>{function de(n){return function(i){return n==null?void 0:n[i]}}Me.exports=de},48843:(Me,de,n)=>{var i=n(36410),h=n(76628),C=n(83453),d="['\u2019]",I=RegExp(d,"g");function q(U){return function(k){return i(C(h(k).replace(I,"")),U,"")}}Me.exports=q},84394:(Me,de,n)=>{var i=n(25627);function h(C){return i(C)?void 0:C}Me.exports=h},32575:(Me,de,n)=>{var i=n(52304),h={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},C=i(h);Me.exports=C},95416:(Me,de,n)=>{var i=n(66202),h=n(61965),C=n(29513);function d(I){return C(h(I,void 0,i),I+"")}Me.exports=d},49298:Me=>{var de=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function n(i){return de.test(i)}Me.exports=n},32921:Me=>{var de="\\ud800-\\udfff",n="\\u0300-\\u036f",i="\\ufe20-\\ufe2f",h="\\u20d0-\\u20ff",C=n+i+h,d="\\u2700-\\u27bf",I="a-z\\xdf-\\xf6\\xf8-\\xff",q="\\xac\\xb1\\xd7\\xf7",U="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",k="\\u2000-\\u206f",A=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",N="A-Z\\xc0-\\xd6\\xd8-\\xde",O="\\ufe0e\\ufe0f",oe=q+U+k+A,$="['\u2019]",X="["+oe+"]",R="["+C+"]",Y="\\d+",K="["+d+"]",r="["+I+"]",v="[^"+de+oe+Y+d+I+N+"]",x="\\ud83c[\\udffb-\\udfff]",g="(?:"+R+"|"+x+")",c="[^"+de+"]",y="(?:\\ud83c[\\udde6-\\uddff]){2}",b="[\\ud800-\\udbff][\\udc00-\\udfff]",M="["+N+"]",L="\\u200d",S="(?:"+r+"|"+v+")",D="(?:"+M+"|"+v+")",H="(?:"+$+"(?:d|ll|m|re|s|t|ve))?",re="(?:"+$+"(?:D|LL|M|RE|S|T|VE))?",P=g+"?",W="["+O+"]?",ee="(?:"+L+"(?:"+[c,y,b].join("|")+")"+W+P+")*",ae="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ie="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",xe=W+P+ee,je="(?:"+[K,y,b].join("|")+")"+xe,Re=RegExp([M+"?"+r+"+"+H+"(?="+[X,M,"$"].join("|")+")",D+"+"+re+"(?="+[X,M+S,"$"].join("|")+")",M+"?"+S+"+"+H,M+"+"+re,ie,ae,Y,je].join("|"),"g");function ze(He){return He.match(Re)||[]}Me.exports=ze},76628:(Me,de,n)=>{var i=n(32575),h=n(67998),C=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,d="\\u0300-\\u036f",I="\\ufe20-\\ufe2f",q="\\u20d0-\\u20ff",U=d+I+q,k="["+U+"]",A=RegExp(k,"g");function N(O){return O=h(O),O&&O.replace(C,i).replace(A,"")}Me.exports=N},66202:(Me,de,n)=>{var i=n(72840);function h(C){var d=C==null?0:C.length;return d?i(C,1):[]}Me.exports=h},17956:(Me,de,n)=>{var i=n(23522),h=n(25627);function C(d){return i(d)&&d.nodeType===1&&!h(d)}Me.exports=C},25627:(Me,de,n)=>{var i=n(22256),h=n(41703),C=n(23522),d="[object Object]",I=Function.prototype,q=Object.prototype,U=I.toString,k=q.hasOwnProperty,A=U.call(Object);function N(O){if(!C(O)||i(O)!=d)return!1;var oe=h(O);if(oe===null)return!0;var $=k.call(oe,"constructor")&&oe.constructor;return typeof $=="function"&&$ instanceof $&&U.call($)==A}Me.exports=N},70235:(Me,de,n)=>{var i=n(79228),h=n(99159),C=n(92547),d=n(86225),I=n(80167),q=n(84394),U=n(95416),k=n(94397),A=1,N=2,O=4,oe=U(function($,X){var R={};if($==null)return R;var Y=!1;X=i(X,function(r){return r=d(r,$),Y||(Y=r.length>1),r}),I($,k($),R),Y&&(R=h(R,A|N|O,q));for(var K=X.length;K--;)C(R,X[K]);return R});Me.exports=oe},63924:(Me,de,n)=>{var i=n(48843),h=i(function(C,d,I){return C+(I?"_":"")+d.toLowerCase()});Me.exports=h},83453:(Me,de,n)=>{var i=n(38621),h=n(49298),C=n(67998),d=n(32921);function I(q,U,k){return q=C(q),U=k?void 0:U,U===void 0?h(q)?d(q):i(q):q.match(U)||[]}Me.exports=I},43441:(Me,de,n)=>{"use strict";n.d(de,{A:()=>X});var i=n(18824),h=n(95211),C=n(7043);function d(R,Y){return R.classList?!!Y&&R.classList.contains(Y):(" "+(R.className.baseVal||R.className)+" ").indexOf(" "+Y+" ")!==-1}function I(R,Y){R.classList?R.classList.add(Y):d(R,Y)||(typeof R.className=="string"?R.className=R.className+" "+Y:R.setAttribute("class",(R.className&&R.className.baseVal||"")+" "+Y))}function q(R,Y){return R.replace(new RegExp("(^|\\s)"+Y+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function U(R,Y){R.classList?R.classList.remove(Y):typeof R.className=="string"?R.className=q(R.className,Y):R.setAttribute("class",q(R.className&&R.className.baseVal||"",Y))}var k=n(51044),A=n(93218),N=n(41083),O=function(Y,K){return Y&&K&&K.split(" ").forEach(function(r){return I(Y,r)})},oe=function(Y,K){return Y&&K&&K.split(" ").forEach(function(r){return U(Y,r)})},$=function(R){(0,C.A)(Y,R);function Y(){for(var r,v=arguments.length,x=new Array(v),g=0;g<v;g++)x[g]=arguments[g];return r=R.call.apply(R,[this].concat(x))||this,r.appliedClasses={appear:{},enter:{},exit:{}},r.onEnter=function(c,y){var b=r.resolveArguments(c,y),M=b[0],L=b[1];r.removeClasses(M,"exit"),r.addClass(M,L?"appear":"enter","base"),r.props.onEnter&&r.props.onEnter(c,y)},r.onEntering=function(c,y){var b=r.resolveArguments(c,y),M=b[0],L=b[1],S=L?"appear":"enter";r.addClass(M,S,"active"),r.props.onEntering&&r.props.onEntering(c,y)},r.onEntered=function(c,y){var b=r.resolveArguments(c,y),M=b[0],L=b[1],S=L?"appear":"enter";r.removeClasses(M,S),r.addClass(M,S,"done"),r.props.onEntered&&r.props.onEntered(c,y)},r.onExit=function(c){var y=r.resolveArguments(c),b=y[0];r.removeClasses(b,"appear"),r.removeClasses(b,"enter"),r.addClass(b,"exit","base"),r.props.onExit&&r.props.onExit(c)},r.onExiting=function(c){var y=r.resolveArguments(c),b=y[0];r.addClass(b,"exit","active"),r.props.onExiting&&r.props.onExiting(c)},r.onExited=function(c){var y=r.resolveArguments(c),b=y[0];r.removeClasses(b,"exit"),r.addClass(b,"exit","done"),r.props.onExited&&r.props.onExited(c)},r.resolveArguments=function(c,y){return r.props.nodeRef?[r.props.nodeRef.current,c]:[c,y]},r.getClassNames=function(c){var y=r.props.classNames,b=typeof y=="string",M=b&&y?y+"-":"",L=b?""+M+c:y[c],S=b?L+"-active":y[c+"Active"],D=b?L+"-done":y[c+"Done"];return{baseClassName:L,activeClassName:S,doneClassName:D}},r}var K=Y.prototype;return K.addClass=function(v,x,g){var c=this.getClassNames(x)[g+"ClassName"],y=this.getClassNames("enter"),b=y.doneClassName;x==="appear"&&g==="done"&&b&&(c+=" "+b),g==="active"&&v&&(0,N.F)(v),c&&(this.appliedClasses[x][g]=c,O(v,c))},K.removeClasses=function(v,x){var g=this.appliedClasses[x],c=g.base,y=g.active,b=g.done;this.appliedClasses[x]={},c&&oe(v,c),y&&oe(v,y),b&&oe(v,b)},K.render=function(){var v=this.props,x=v.classNames,g=(0,h.A)(v,["classNames"]);return k.createElement(A.Ay,(0,i.A)({},g,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},Y}(k.Component);$.defaultProps={classNames:""},$.propTypes={};const X=$},93218:(Me,de,n)=>{"use strict";n.d(de,{Ay:()=>R});var i=n(95211),h=n(7043),C=n(51044),d=n(60185);const I={disabled:!1},q=C.createContext(null);var U=n(41083),k="unmounted",A="exited",N="entering",O="entered",oe="exiting",$=function(Y){(0,h.A)(K,Y);function K(v,x){var g;g=Y.call(this,v,x)||this;var c=x,y=c&&!c.isMounting?v.enter:v.appear,b;return g.appearStatus=null,v.in?y?(b=A,g.appearStatus=N):b=O:v.unmountOnExit||v.mountOnEnter?b=k:b=A,g.state={status:b},g.nextCallback=null,g}K.getDerivedStateFromProps=function(x,g){var c=x.in;return c&&g.status===k?{status:A}:null};var r=K.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(x){var g=null;if(x!==this.props){var c=this.state.status;this.props.in?c!==N&&c!==O&&(g=N):(c===N||c===O)&&(g=oe)}this.updateStatus(!1,g)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var x=this.props.timeout,g,c,y;return g=c=y=x,x!=null&&typeof x!="number"&&(g=x.exit,c=x.enter,y=x.appear!==void 0?x.appear:c),{exit:g,enter:c,appear:y}},r.updateStatus=function(x,g){if(x===void 0&&(x=!1),g!==null)if(this.cancelNextCallback(),g===N){if(this.props.unmountOnExit||this.props.mountOnEnter){var c=this.props.nodeRef?this.props.nodeRef.current:d.findDOMNode(this);c&&(0,U.F)(c)}this.performEnter(x)}else this.performExit();else this.props.unmountOnExit&&this.state.status===A&&this.setState({status:k})},r.performEnter=function(x){var g=this,c=this.props.enter,y=this.context?this.context.isMounting:x,b=this.props.nodeRef?[y]:[d.findDOMNode(this),y],M=b[0],L=b[1],S=this.getTimeouts(),D=y?S.appear:S.enter;if(!x&&!c||I.disabled){this.safeSetState({status:O},function(){g.props.onEntered(M)});return}this.props.onEnter(M,L),this.safeSetState({status:N},function(){g.props.onEntering(M,L),g.onTransitionEnd(D,function(){g.safeSetState({status:O},function(){g.props.onEntered(M,L)})})})},r.performExit=function(){var x=this,g=this.props.exit,c=this.getTimeouts(),y=this.props.nodeRef?void 0:d.findDOMNode(this);if(!g||I.disabled){this.safeSetState({status:A},function(){x.props.onExited(y)});return}this.props.onExit(y),this.safeSetState({status:oe},function(){x.props.onExiting(y),x.onTransitionEnd(c.exit,function(){x.safeSetState({status:A},function(){x.props.onExited(y)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(x,g){g=this.setNextCallback(g),this.setState(x,g)},r.setNextCallback=function(x){var g=this,c=!0;return this.nextCallback=function(y){c&&(c=!1,g.nextCallback=null,x(y))},this.nextCallback.cancel=function(){c=!1},this.nextCallback},r.onTransitionEnd=function(x,g){this.setNextCallback(g);var c=this.props.nodeRef?this.props.nodeRef.current:d.findDOMNode(this),y=x==null&&!this.props.addEndListener;if(!c||y){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var b=this.props.nodeRef?[this.nextCallback]:[c,this.nextCallback],M=b[0],L=b[1];this.props.addEndListener(M,L)}x!=null&&setTimeout(this.nextCallback,x)},r.render=function(){var x=this.state.status;if(x===k)return null;var g=this.props,c=g.children,y=g.in,b=g.mountOnEnter,M=g.unmountOnExit,L=g.appear,S=g.enter,D=g.exit,H=g.timeout,re=g.addEndListener,P=g.onEnter,W=g.onEntering,ee=g.onEntered,ae=g.onExit,ie=g.onExiting,xe=g.onExited,je=g.nodeRef,Re=(0,i.A)(g,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return C.createElement(q.Provider,{value:null},typeof c=="function"?c(x,Re):C.cloneElement(C.Children.only(c),Re))},K}(C.Component);$.contextType=q,$.propTypes={};function X(){}$.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:X,onEntering:X,onEntered:X,onExit:X,onExiting:X,onExited:X},$.UNMOUNTED=k,$.EXITED=A,$.ENTERING=N,$.ENTERED=O,$.EXITING=oe;const R=$},41083:(Me,de,n)=>{"use strict";n.d(de,{F:()=>i});var i=function(C){return C.scrollTop}},82928:(Me,de)=>{"use strict";var n;n={value:!0};var i=Object.assign||function(q){for(var U=1;U<arguments.length;U++){var k=arguments[U];for(var A in k)Object.prototype.hasOwnProperty.call(k,A)&&(q[A]=k[A])}return q},h=function(){var U=null,k={},A=function(X){var R=k[X.type];return R&&R(U,X)},N=function(X){if(typeof X.getState!="function"||typeof X.dispatch!="function")throw new Error("[ReduxEntry][middleware] invalid reduxMiddlewareStore");if(U!==null)throw new Error("[ReduxEntry][middleware] already set reduxMiddlewareStore");return U=X,function(R){return function(Y){return A(Y)===!0||R(Y)}}},O=function(X,R){if(typeof X!="string")throw new Error("[ReduxEntry][setEntry] non-string actionType: "+X);if(typeof R!="function")throw new Error("[ReduxEntry][setEntry] non-function entryFunction: "+X+", "+R);k[X]&&console.warn("[ReduxEntry][setEntry] possible unexpected entry overwrite: "+X),k[X]=R},oe=function(X){return Object.keys(X).forEach(function(R){return O(R,X[R])})};return{middleware:N,setEntry:O,setEntryMap:oe}},C=function(U){if(U===void 0)throw new Error("[ReduxEntry][createStateStore] initialState expected");return{getState:function(){return U},setState:function(A){return U=A},wrapEntry:function(A){return function(N,O){return A(U,N,O)}}}},d=function(U,k){var A=k.getState,N=k.setState;return function(O,oe){var $=oe.type,X=oe.payload;return $===U&&N(X),A()}},I=function(U,k){var A=k.getState,N=k.setState;return function(O,oe){var $=oe.type,X=oe.payload;return $===U&&N(i({},A(),X)),A()}};de.RZ=h,de.J$=C,de.Tf=d,n=I},28055:(Me,de,n)=>{"use strict";n.d(de,{Tw:()=>y,HY:()=>v,Zz:()=>c,y$:()=>X,Yl:()=>R});var i=n(74059);function h(b,M){var L=Object.keys(b);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(b);M&&(S=S.filter(function(D){return Object.getOwnPropertyDescriptor(b,D).enumerable})),L.push.apply(L,S)}return L}function C(b){for(var M=1;M<arguments.length;M++){var L=arguments[M]!=null?arguments[M]:{};M%2?h(Object(L),!0).forEach(function(S){(0,i.A)(b,S,L[S])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(L)):h(Object(L)).forEach(function(S){Object.defineProperty(b,S,Object.getOwnPropertyDescriptor(L,S))})}return b}function d(b){return"Minified Redux error #"+b+"; visit https://redux.js.org/Errors?code="+b+" for the full message or use the non-minified dev environment for full errors. "}var I=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),q=function(){return Math.random().toString(36).substring(7).split("").join(".")},U={INIT:"@@redux/INIT"+q(),REPLACE:"@@redux/REPLACE"+q(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+q()}};function k(b){if(typeof b!="object"||b===null)return!1;for(var M=b;Object.getPrototypeOf(M)!==null;)M=Object.getPrototypeOf(M);return Object.getPrototypeOf(b)===M}function A(b){if(b===void 0)return"undefined";if(b===null)return"null";var M=typeof b;switch(M){case"boolean":case"string":case"number":case"symbol":case"function":return M}if(Array.isArray(b))return"array";if(oe(b))return"date";if(O(b))return"error";var L=N(b);switch(L){case"Symbol":case"Promise":case"WeakMap":case"WeakSet":case"Map":case"Set":return L}return M.slice(8,-1).toLowerCase().replace(/\s/g,"")}function N(b){return typeof b.constructor=="function"?b.constructor.name:null}function O(b){return b instanceof Error||typeof b.message=="string"&&b.constructor&&typeof b.constructor.stackTraceLimit=="number"}function oe(b){return b instanceof Date?!0:typeof b.toDateString=="function"&&typeof b.getDate=="function"&&typeof b.setDate=="function"}function $(b){var M=typeof b;return M}function X(b,M,L){var S;if(typeof M=="function"&&typeof L=="function"||typeof L=="function"&&typeof arguments[3]=="function")throw new Error(d(0));if(typeof M=="function"&&typeof L>"u"&&(L=M,M=void 0),typeof L<"u"){if(typeof L!="function")throw new Error(d(1));return L(X)(b,M)}if(typeof b!="function")throw new Error(d(2));var D=b,H=M,re=[],P=re,W=!1;function ee(){P===re&&(P=re.slice())}function ae(){if(W)throw new Error(d(3));return H}function ie(ze){if(typeof ze!="function")throw new Error(d(4));if(W)throw new Error(d(5));var He=!0;return ee(),P.push(ze),function(){if(He){if(W)throw new Error(d(6));He=!1,ee();var qe=P.indexOf(ze);P.splice(qe,1),re=null}}}function xe(ze){if(!k(ze))throw new Error(d(7));if(typeof ze.type>"u")throw new Error(d(8));if(W)throw new Error(d(9));try{W=!0,H=D(H,ze)}finally{W=!1}for(var He=re=P,Ze=0;Ze<He.length;Ze++){var qe=He[Ze];qe()}return ze}function je(ze){if(typeof ze!="function")throw new Error(d(10));D=ze,xe({type:U.REPLACE})}function Re(){var ze,He=ie;return ze={subscribe:function(qe){if(typeof qe!="object"||qe===null)throw new Error(d(11));function we(){qe.next&&qe.next(ae())}we();var Q=He(we);return{unsubscribe:Q}}},ze[I]=function(){return this},ze}return xe({type:U.INIT}),S={dispatch:xe,subscribe:ie,getState:ae,replaceReducer:je},S[I]=Re,S}var R=n.j!=15?X:null;function Y(b){typeof console<"u"&&typeof console.error=="function"&&console.error(b);try{throw new Error(b)}catch(M){}}function K(b,M,L,S){var D=Object.keys(M),H=L&&L.type===U.INIT?"preloadedState argument passed to createStore":"previous state received by the reducer";if(D.length===0)return"Store does not have a valid reducer. Make sure the argument passed to combineReducers is an object whose values are reducers.";if(!k(b))return"The "+H+' has unexpected type of "'+$(b)+'". Expected argument to be an object with the following '+('keys: "'+D.join('", "')+'"');var re=Object.keys(b).filter(function(P){return!M.hasOwnProperty(P)&&!S[P]});if(re.forEach(function(P){S[P]=!0}),!(L&&L.type===U.REPLACE)&&re.length>0)return"Unexpected "+(re.length>1?"keys":"key")+" "+('"'+re.join('", "')+'" found in '+H+". ")+"Expected to find one of the known reducer keys instead: "+('"'+D.join('", "')+'". Unexpected keys will be ignored.')}function r(b){Object.keys(b).forEach(function(M){var L=b[M],S=L(void 0,{type:U.INIT});if(typeof S>"u")throw new Error(d(12));if(typeof L(void 0,{type:U.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(d(13))})}function v(b){for(var M=Object.keys(b),L={},S=0;S<M.length;S++){var D=M[S];typeof b[D]=="function"&&(L[D]=b[D])}var H=Object.keys(L),re,P;try{r(L)}catch(W){P=W}return function(ee,ae){if(ee===void 0&&(ee={}),P)throw P;if(0)var ie;for(var xe=!1,je={},Re=0;Re<H.length;Re++){var ze=H[Re],He=L[ze],Ze=ee[ze],qe=He(Ze,ae);if(typeof qe>"u"){var we=ae&&ae.type;throw new Error(d(14))}je[ze]=qe,xe=xe||qe!==Ze}return xe=xe||H.length!==Object.keys(ee).length,xe?je:ee}}function x(b,M){return function(){return M(b.apply(this,arguments))}}function g(b,M){if(typeof b=="function")return x(b,M);if(typeof b!="object"||b===null)throw new Error(d(16));var L={};for(var S in b){var D=b[S];typeof D=="function"&&(L[S]=x(D,M))}return L}function c(){for(var b=arguments.length,M=new Array(b),L=0;L<b;L++)M[L]=arguments[L];return M.length===0?function(S){return S}:M.length===1?M[0]:M.reduce(function(S,D){return function(){return S(D.apply(void 0,arguments))}})}function y(){for(var b=arguments.length,M=new Array(b),L=0;L<b;L++)M[L]=arguments[L];return function(S){return function(){var D=S.apply(void 0,arguments),H=function(){throw new Error(d(15))},re={getState:D.getState,dispatch:function(){return H.apply(void 0,arguments)}},P=M.map(function(W){return W(re)});return H=c.apply(void 0,P)(D.dispatch),C(C({},D),{},{dispatch:H})}}}},7043:(Me,de,n)=>{"use strict";n.d(de,{A:()=>h});function i(C,d){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(I,q){return I.__proto__=q,I},i(C,d)}function h(C,d){C.prototype=Object.create(d.prototype),C.prototype.constructor=C,i(C,d)}}}]);

//# sourceMappingURL=4.n9fxu-vendor-d908573da71120a326a8.js.map